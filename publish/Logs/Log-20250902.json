{"Timestamp":"2025-09-02T23:48:48.5101959+03:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/hermoonumu/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-09-02T23:48:48.6726839+03:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://0.0.0.0:6865","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-02T23:48:48.6745499+03:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-02T23:48:48.6750483+03:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-02T23:48:48.6752843+03:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/run/media/hermoonumu/DATA/Project/Learning/MyWebApp/MessagingApp","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-02T23:51:09.2891469+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"770aa51eff158355b112f3e5718d8dc6","SpanId":"1d49cb2ebe518ccc","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:09.2963707+03:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"770aa51eff158355b112f3e5718d8dc6","SpanId":"1d49cb2ebe518ccc","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNFAC9OS0R5C:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:09.3270540+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"770aa51eff158355b112f3e5718d8dc6","SpanId":"1d49cb2ebe518ccc","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:09.3327842+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"770aa51eff158355b112f3e5718d8dc6","SpanId":"1d49cb2ebe518ccc","Properties":{"ElapsedMilliseconds":45.0075,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:09.3450266+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"639b6272a9b789d50c9fbe46854dec26","SpanId":"dc5cbbd03d3f8538","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:09.3480655+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"639b6272a9b789d50c9fbe46854dec26","SpanId":"dc5cbbd03d3f8538","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:09.4265964+03:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"639b6272a9b789d50c9fbe46854dec26","SpanId":"dc5cbbd03d3f8538","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/30/2025 3:57:49 PM', Current time (UTC): '9/2/2025 8:51:09 PM'.\n   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFAC9OS0R5C:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:09.4388618+03:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"639b6272a9b789d50c9fbe46854dec26","SpanId":"dc5cbbd03d3f8538","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/30/2025 3:57:49 PM', Current time (UTC): '9/2/2025 8:51:09 PM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFAC9OS0R5C:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:09.4432525+03:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"639b6272a9b789d50c9fbe46854dec26","SpanId":"dc5cbbd03d3f8538","Properties":{"Reason":"These requirements were not met:\nDenyAnonymousAuthorizationRequirement: Requires an authenticated user.","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HNFAC9OS0R5C:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:09.4470890+03:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"639b6272a9b789d50c9fbe46854dec26","SpanId":"dc5cbbd03d3f8538","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFAC9OS0R5C:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:09.4481979+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"639b6272a9b789d50c9fbe46854dec26","SpanId":"dc5cbbd03d3f8538","Properties":{"ElapsedMilliseconds":103.5863,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:09.4536761+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"39a10bf3c905d3c95555f5740830b45e","SpanId":"db2a64f0c4d664ed","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:09.4546715+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"39a10bf3c905d3c95555f5740830b45e","SpanId":"db2a64f0c4d664ed","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:09.4550712+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"39a10bf3c905d3c95555f5740830b45e","SpanId":"db2a64f0c4d664ed","Properties":{"ElapsedMilliseconds":1.3874,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:09.4580696+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2710fcf943718de437774b4e27015375","SpanId":"221a1927989b489e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:09.4599816+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"2710fcf943718de437774b4e27015375","SpanId":"221a1927989b489e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:09.4641115+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2710fcf943718de437774b4e27015375","SpanId":"221a1927989b489e","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:09.4856676+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2710fcf943718de437774b4e27015375","SpanId":"221a1927989b489e","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:09.6116004+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"2710fcf943718de437774b4e27015375","SpanId":"221a1927989b489e","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:10.7209023+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2710fcf943718de437774b4e27015375","SpanId":"221a1927989b489e","Properties":{"elapsed":"48","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:10.7378892+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"2710fcf943718de437774b4e27015375","SpanId":"221a1927989b489e","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:10.7422650+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2710fcf943718de437774b4e27015375","SpanId":"221a1927989b489e","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:10.7468563+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2710fcf943718de437774b4e27015375","SpanId":"221a1927989b489e","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":1257.6522,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:10.7475976+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2710fcf943718de437774b4e27015375","SpanId":"221a1927989b489e","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:10.7543825+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2710fcf943718de437774b4e27015375","SpanId":"221a1927989b489e","Properties":{"ElapsedMilliseconds":1296.2978,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:48.9524192+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"68ab46be0c79a1739b964afe9919bf3c","SpanId":"cc5e96710311ea20","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:48.9531546+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"68ab46be0c79a1739b964afe9919bf3c","SpanId":"cc5e96710311ea20","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:48.9539255+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"68ab46be0c79a1739b964afe9919bf3c","SpanId":"cc5e96710311ea20","Properties":{"ElapsedMilliseconds":1.4504,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:48.9568411+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5414081523f128dbd154b1ceadf670b9","SpanId":"0a7043d082bbe3b1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:48.9572929+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"5414081523f128dbd154b1ceadf670b9","SpanId":"0a7043d082bbe3b1","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:48.9591111+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5414081523f128dbd154b1ceadf670b9","SpanId":"0a7043d082bbe3b1","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:48.9672759+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5414081523f128dbd154b1ceadf670b9","SpanId":"0a7043d082bbe3b1","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:48.9789370+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"5414081523f128dbd154b1ceadf670b9","SpanId":"0a7043d082bbe3b1","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:48.9799567+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"5414081523f128dbd154b1ceadf670b9","SpanId":"0a7043d082bbe3b1","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:49.0215349+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5414081523f128dbd154b1ceadf670b9","SpanId":"0a7043d082bbe3b1","Properties":{"elapsed":"4","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:49.1555388+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"5414081523f128dbd154b1ceadf670b9","SpanId":"0a7043d082bbe3b1","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:49.1605961+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5414081523f128dbd154b1ceadf670b9","SpanId":"0a7043d082bbe3b1","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:49.1644555+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"5414081523f128dbd154b1ceadf670b9","SpanId":"0a7043d082bbe3b1","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:49.1851479+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5414081523f128dbd154b1ceadf670b9","SpanId":"0a7043d082bbe3b1","Properties":{"elapsed":"2","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:49.3398896+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5414081523f128dbd154b1ceadf670b9","SpanId":"0a7043d082bbe3b1","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:49.3691945+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5414081523f128dbd154b1ceadf670b9","SpanId":"0a7043d082bbe3b1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.3746034+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5414081523f128dbd154b1ceadf670b9","SpanId":"0a7043d082bbe3b1","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":406.6778,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.3749413+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5414081523f128dbd154b1ceadf670b9","SpanId":"0a7043d082bbe3b1","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.3753536+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5414081523f128dbd154b1ceadf670b9","SpanId":"0a7043d082bbe3b1","Properties":{"ElapsedMilliseconds":418.4954,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.3807482+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f55adf492b955eef8732633403ecce0b","SpanId":"230066f94bdf899f","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.3812121+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f55adf492b955eef8732633403ecce0b","SpanId":"230066f94bdf899f","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.3814904+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f55adf492b955eef8732633403ecce0b","SpanId":"230066f94bdf899f","Properties":{"ElapsedMilliseconds":0.7478,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.3838294+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"83df18a4b618c5427fb90a072fa05ddb","SpanId":"e4ce9c321543d656","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.3842302+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"83df18a4b618c5427fb90a072fa05ddb","SpanId":"e4ce9c321543d656","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4503634+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"83df18a4b618c5427fb90a072fa05ddb","SpanId":"e4ce9c321543d656","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5C:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4545990+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"83df18a4b618c5427fb90a072fa05ddb","SpanId":"e4ce9c321543d656","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4584141+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"83df18a4b618c5427fb90a072fa05ddb","SpanId":"e4ce9c321543d656","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4637313+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"83df18a4b618c5427fb90a072fa05ddb","SpanId":"e4ce9c321543d656","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4647088+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"83df18a4b618c5427fb90a072fa05ddb","SpanId":"e4ce9c321543d656","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:49.4649320+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"83df18a4b618c5427fb90a072fa05ddb","SpanId":"e4ce9c321543d656","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:49.4650847+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"83df18a4b618c5427fb90a072fa05ddb","SpanId":"e4ce9c321543d656","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:49.4654273+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"83df18a4b618c5427fb90a072fa05ddb","SpanId":"e4ce9c321543d656","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4658471+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"83df18a4b618c5427fb90a072fa05ddb","SpanId":"e4ce9c321543d656","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":7.0686,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4660940+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"83df18a4b618c5427fb90a072fa05ddb","SpanId":"e4ce9c321543d656","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4664118+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"83df18a4b618c5427fb90a072fa05ddb","SpanId":"e4ce9c321543d656","Properties":{"ElapsedMilliseconds":82.5639,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4699463+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"259341f94377f35966bc8135474d9a0e","SpanId":"7a7589a974a358fa","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4703653+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"259341f94377f35966bc8135474d9a0e","SpanId":"7a7589a974a358fa","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4706220+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"259341f94377f35966bc8135474d9a0e","SpanId":"7a7589a974a358fa","Properties":{"ElapsedMilliseconds":0.67,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4731454+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"04111417ca3d5bdef53af0f21d63068d","SpanId":"fd347fa6cae9cf3a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4737256+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"04111417ca3d5bdef53af0f21d63068d","SpanId":"fd347fa6cae9cf3a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4742624+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"04111417ca3d5bdef53af0f21d63068d","SpanId":"fd347fa6cae9cf3a","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4747047+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"04111417ca3d5bdef53af0f21d63068d","SpanId":"fd347fa6cae9cf3a","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4768574+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"04111417ca3d5bdef53af0f21d63068d","SpanId":"fd347fa6cae9cf3a","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4791903+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"04111417ca3d5bdef53af0f21d63068d","SpanId":"fd347fa6cae9cf3a","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4808454+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"04111417ca3d5bdef53af0f21d63068d","SpanId":"fd347fa6cae9cf3a","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4816095+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"04111417ca3d5bdef53af0f21d63068d","SpanId":"fd347fa6cae9cf3a","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4821088+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"04111417ca3d5bdef53af0f21d63068d","SpanId":"fd347fa6cae9cf3a","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":7.0052,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4824758+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"04111417ca3d5bdef53af0f21d63068d","SpanId":"fd347fa6cae9cf3a","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:49.4830178+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"04111417ca3d5bdef53af0f21d63068d","SpanId":"fd347fa6cae9cf3a","Properties":{"ElapsedMilliseconds":9.8604,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.7352861+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6beb880a903877e4eda4c97c65aed1df","SpanId":"fe8883dc99f5fc6c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.7357614+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"6beb880a903877e4eda4c97c65aed1df","SpanId":"fe8883dc99f5fc6c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.7360267+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6beb880a903877e4eda4c97c65aed1df","SpanId":"fe8883dc99f5fc6c","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.7362912+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6beb880a903877e4eda4c97c65aed1df","SpanId":"fe8883dc99f5fc6c","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.7372219+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"6beb880a903877e4eda4c97c65aed1df","SpanId":"fe8883dc99f5fc6c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:51.7374991+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"6beb880a903877e4eda4c97c65aed1df","SpanId":"fe8883dc99f5fc6c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:51.7391638+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6beb880a903877e4eda4c97c65aed1df","SpanId":"fe8883dc99f5fc6c","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:51.8100754+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"6beb880a903877e4eda4c97c65aed1df","SpanId":"fe8883dc99f5fc6c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:51.8114657+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6beb880a903877e4eda4c97c65aed1df","SpanId":"fe8883dc99f5fc6c","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:51.8120455+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"6beb880a903877e4eda4c97c65aed1df","SpanId":"fe8883dc99f5fc6c","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:51.8139309+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6beb880a903877e4eda4c97c65aed1df","SpanId":"fe8883dc99f5fc6c","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:51.8171566+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6beb880a903877e4eda4c97c65aed1df","SpanId":"fe8883dc99f5fc6c","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:51.8222236+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6beb880a903877e4eda4c97c65aed1df","SpanId":"fe8883dc99f5fc6c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8229929+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6beb880a903877e4eda4c97c65aed1df","SpanId":"fe8883dc99f5fc6c","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":86.4395,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8232590+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6beb880a903877e4eda4c97c65aed1df","SpanId":"fe8883dc99f5fc6c","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8235735+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6beb880a903877e4eda4c97c65aed1df","SpanId":"fe8883dc99f5fc6c","Properties":{"ElapsedMilliseconds":88.2746,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8281531+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e0123625dacb812384cb728b87fc756f","SpanId":"1fd4ea45bc4af63f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8285945+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e0123625dacb812384cb728b87fc756f","SpanId":"1fd4ea45bc4af63f","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8304917+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e0123625dacb812384cb728b87fc756f","SpanId":"1fd4ea45bc4af63f","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5C:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8322284+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e0123625dacb812384cb728b87fc756f","SpanId":"1fd4ea45bc4af63f","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8325404+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e0123625dacb812384cb728b87fc756f","SpanId":"1fd4ea45bc4af63f","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8338697+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e0123625dacb812384cb728b87fc756f","SpanId":"1fd4ea45bc4af63f","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8345876+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"e0123625dacb812384cb728b87fc756f","SpanId":"1fd4ea45bc4af63f","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:51.8347544+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"e0123625dacb812384cb728b87fc756f","SpanId":"1fd4ea45bc4af63f","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:51.8348958+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"e0123625dacb812384cb728b87fc756f","SpanId":"1fd4ea45bc4af63f","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:51.8351391+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e0123625dacb812384cb728b87fc756f","SpanId":"1fd4ea45bc4af63f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8354508+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e0123625dacb812384cb728b87fc756f","SpanId":"1fd4ea45bc4af63f","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.6751,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8356597+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e0123625dacb812384cb728b87fc756f","SpanId":"1fd4ea45bc4af63f","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8360233+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e0123625dacb812384cb728b87fc756f","SpanId":"1fd4ea45bc4af63f","Properties":{"ElapsedMilliseconds":7.8569,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8395762+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9e718ef7612215a3ebc569e32273e338","SpanId":"6492cea76aee489f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8400568+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9e718ef7612215a3ebc569e32273e338","SpanId":"6492cea76aee489f","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8402785+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9e718ef7612215a3ebc569e32273e338","SpanId":"6492cea76aee489f","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8405313+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9e718ef7612215a3ebc569e32273e338","SpanId":"6492cea76aee489f","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8414232+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"9e718ef7612215a3ebc569e32273e338","SpanId":"6492cea76aee489f","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8427467+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9e718ef7612215a3ebc569e32273e338","SpanId":"6492cea76aee489f","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8432742+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"9e718ef7612215a3ebc569e32273e338","SpanId":"6492cea76aee489f","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8435028+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9e718ef7612215a3ebc569e32273e338","SpanId":"6492cea76aee489f","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8437802+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9e718ef7612215a3ebc569e32273e338","SpanId":"6492cea76aee489f","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.9255,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8439704+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9e718ef7612215a3ebc569e32273e338","SpanId":"6492cea76aee489f","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:51.8441900+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9e718ef7612215a3ebc569e32273e338","SpanId":"6492cea76aee489f","Properties":{"ElapsedMilliseconds":4.6228,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.6196330+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c02094020ec23deb4264385db12d1c3e","SpanId":"e7d11e058e70a068","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.6201870+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c02094020ec23deb4264385db12d1c3e","SpanId":"e7d11e058e70a068","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.6205137+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c02094020ec23deb4264385db12d1c3e","SpanId":"e7d11e058e70a068","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.6207402+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c02094020ec23deb4264385db12d1c3e","SpanId":"e7d11e058e70a068","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.6213620+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"c02094020ec23deb4264385db12d1c3e","SpanId":"e7d11e058e70a068","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.6215415+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"c02094020ec23deb4264385db12d1c3e","SpanId":"e7d11e058e70a068","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.6231703+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c02094020ec23deb4264385db12d1c3e","SpanId":"e7d11e058e70a068","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.6943736+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"c02094020ec23deb4264385db12d1c3e","SpanId":"e7d11e058e70a068","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.6957376+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c02094020ec23deb4264385db12d1c3e","SpanId":"e7d11e058e70a068","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.6962713+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"c02094020ec23deb4264385db12d1c3e","SpanId":"e7d11e058e70a068","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.6976351+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c02094020ec23deb4264385db12d1c3e","SpanId":"e7d11e058e70a068","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.6997871+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c02094020ec23deb4264385db12d1c3e","SpanId":"e7d11e058e70a068","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.7048392+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c02094020ec23deb4264385db12d1c3e","SpanId":"e7d11e058e70a068","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7055412+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c02094020ec23deb4264385db12d1c3e","SpanId":"e7d11e058e70a068","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":84.5486,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7059685+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c02094020ec23deb4264385db12d1c3e","SpanId":"e7d11e058e70a068","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7067542+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c02094020ec23deb4264385db12d1c3e","SpanId":"e7d11e058e70a068","Properties":{"ElapsedMilliseconds":86.8084,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7108594+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"94138d47112feb0248b65b5f8edb2360","SpanId":"1707e7c764b3758d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7113318+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"94138d47112feb0248b65b5f8edb2360","SpanId":"1707e7c764b3758d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7131775+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"94138d47112feb0248b65b5f8edb2360","SpanId":"1707e7c764b3758d","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5C:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7136462+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"94138d47112feb0248b65b5f8edb2360","SpanId":"1707e7c764b3758d","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7138655+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"94138d47112feb0248b65b5f8edb2360","SpanId":"1707e7c764b3758d","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7151345+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"94138d47112feb0248b65b5f8edb2360","SpanId":"1707e7c764b3758d","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7156560+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"94138d47112feb0248b65b5f8edb2360","SpanId":"1707e7c764b3758d","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.7158726+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"94138d47112feb0248b65b5f8edb2360","SpanId":"1707e7c764b3758d","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.7160184+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"94138d47112feb0248b65b5f8edb2360","SpanId":"1707e7c764b3758d","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.7162311+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"94138d47112feb0248b65b5f8edb2360","SpanId":"1707e7c764b3758d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7164812+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"94138d47112feb0248b65b5f8edb2360","SpanId":"1707e7c764b3758d","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.3128,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7166486+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"94138d47112feb0248b65b5f8edb2360","SpanId":"1707e7c764b3758d","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7169219+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"94138d47112feb0248b65b5f8edb2360","SpanId":"1707e7c764b3758d","Properties":{"ElapsedMilliseconds":6.0642,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7204571+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ed282ae00a62599b1ade32ad7d5b6710","SpanId":"aa4db00666eaffc6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7208235+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ed282ae00a62599b1ade32ad7d5b6710","SpanId":"aa4db00666eaffc6","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7210246+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ed282ae00a62599b1ade32ad7d5b6710","SpanId":"aa4db00666eaffc6","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7212094+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ed282ae00a62599b1ade32ad7d5b6710","SpanId":"aa4db00666eaffc6","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7217679+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"ed282ae00a62599b1ade32ad7d5b6710","SpanId":"aa4db00666eaffc6","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7228955+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ed282ae00a62599b1ade32ad7d5b6710","SpanId":"aa4db00666eaffc6","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7232899+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"ed282ae00a62599b1ade32ad7d5b6710","SpanId":"aa4db00666eaffc6","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7235507+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ed282ae00a62599b1ade32ad7d5b6710","SpanId":"aa4db00666eaffc6","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7237616+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ed282ae00a62599b1ade32ad7d5b6710","SpanId":"aa4db00666eaffc6","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.3405,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7239534+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ed282ae00a62599b1ade32ad7d5b6710","SpanId":"aa4db00666eaffc6","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7241922+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ed282ae00a62599b1ade32ad7d5b6710","SpanId":"aa4db00666eaffc6","Properties":{"ElapsedMilliseconds":3.7104,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7631272+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bf537ed494d8c95d0b084c63d03c72a8","SpanId":"f78aa29a58031efb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7635223+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"bf537ed494d8c95d0b084c63d03c72a8","SpanId":"f78aa29a58031efb","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7637028+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bf537ed494d8c95d0b084c63d03c72a8","SpanId":"f78aa29a58031efb","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7639313+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bf537ed494d8c95d0b084c63d03c72a8","SpanId":"f78aa29a58031efb","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.7644500+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"bf537ed494d8c95d0b084c63d03c72a8","SpanId":"f78aa29a58031efb","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.7645854+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"bf537ed494d8c95d0b084c63d03c72a8","SpanId":"f78aa29a58031efb","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.7656932+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bf537ed494d8c95d0b084c63d03c72a8","SpanId":"f78aa29a58031efb","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.8355683+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"bf537ed494d8c95d0b084c63d03c72a8","SpanId":"f78aa29a58031efb","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.8368839+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bf537ed494d8c95d0b084c63d03c72a8","SpanId":"f78aa29a58031efb","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.8375684+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"bf537ed494d8c95d0b084c63d03c72a8","SpanId":"f78aa29a58031efb","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.8387026+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bf537ed494d8c95d0b084c63d03c72a8","SpanId":"f78aa29a58031efb","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.8406353+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bf537ed494d8c95d0b084c63d03c72a8","SpanId":"f78aa29a58031efb","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.8455784+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bf537ed494d8c95d0b084c63d03c72a8","SpanId":"f78aa29a58031efb","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8460723+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bf537ed494d8c95d0b084c63d03c72a8","SpanId":"f78aa29a58031efb","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":81.9282,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8463716+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bf537ed494d8c95d0b084c63d03c72a8","SpanId":"f78aa29a58031efb","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8468176+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bf537ed494d8c95d0b084c63d03c72a8","SpanId":"f78aa29a58031efb","Properties":{"ElapsedMilliseconds":83.6889,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8517422+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a9b667d3776f5fb1805953407dfe724a","SpanId":"2053f22701234421","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8520967+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a9b667d3776f5fb1805953407dfe724a","SpanId":"2053f22701234421","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8534568+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a9b667d3776f5fb1805953407dfe724a","SpanId":"2053f22701234421","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5C:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8539869+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a9b667d3776f5fb1805953407dfe724a","SpanId":"2053f22701234421","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8542436+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a9b667d3776f5fb1805953407dfe724a","SpanId":"2053f22701234421","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8552076+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a9b667d3776f5fb1805953407dfe724a","SpanId":"2053f22701234421","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8556299+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"a9b667d3776f5fb1805953407dfe724a","SpanId":"2053f22701234421","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.8557613+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"a9b667d3776f5fb1805953407dfe724a","SpanId":"2053f22701234421","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.8558738+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"a9b667d3776f5fb1805953407dfe724a","SpanId":"2053f22701234421","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.8560370+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a9b667d3776f5fb1805953407dfe724a","SpanId":"2053f22701234421","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8563256+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a9b667d3776f5fb1805953407dfe724a","SpanId":"2053f22701234421","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":1.8731,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8564823+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a9b667d3776f5fb1805953407dfe724a","SpanId":"2053f22701234421","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8566721+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a9b667d3776f5fb1805953407dfe724a","SpanId":"2053f22701234421","Properties":{"ElapsedMilliseconds":4.9296,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8605381+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d3d57fb2206e68f0f8b701cb23436ede","SpanId":"d496028a1220a3ee","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8610328+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d3d57fb2206e68f0f8b701cb23436ede","SpanId":"d496028a1220a3ee","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8613285+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d3d57fb2206e68f0f8b701cb23436ede","SpanId":"d496028a1220a3ee","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8616266+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d3d57fb2206e68f0f8b701cb23436ede","SpanId":"d496028a1220a3ee","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8621569+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"d3d57fb2206e68f0f8b701cb23436ede","SpanId":"d496028a1220a3ee","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8633680+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d3d57fb2206e68f0f8b701cb23436ede","SpanId":"d496028a1220a3ee","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8638423+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"d3d57fb2206e68f0f8b701cb23436ede","SpanId":"d496028a1220a3ee","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8640299+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d3d57fb2206e68f0f8b701cb23436ede","SpanId":"d496028a1220a3ee","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8642599+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d3d57fb2206e68f0f8b701cb23436ede","SpanId":"d496028a1220a3ee","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.3886,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8644990+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d3d57fb2206e68f0f8b701cb23436ede","SpanId":"d496028a1220a3ee","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8648233+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d3d57fb2206e68f0f8b701cb23436ede","SpanId":"d496028a1220a3ee","Properties":{"ElapsedMilliseconds":4.2622,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8799526+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9e68473573159922330b90ade43482be","SpanId":"202e4195aa2f5629","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8803449+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9e68473573159922330b90ade43482be","SpanId":"202e4195aa2f5629","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8805869+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9e68473573159922330b90ade43482be","SpanId":"202e4195aa2f5629","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8807476+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9e68473573159922330b90ade43482be","SpanId":"202e4195aa2f5629","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.8812273+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"9e68473573159922330b90ade43482be","SpanId":"202e4195aa2f5629","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.8814158+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"9e68473573159922330b90ade43482be","SpanId":"202e4195aa2f5629","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.8824922+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9e68473573159922330b90ade43482be","SpanId":"202e4195aa2f5629","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.9523671+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"9e68473573159922330b90ade43482be","SpanId":"202e4195aa2f5629","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.9536623+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9e68473573159922330b90ade43482be","SpanId":"202e4195aa2f5629","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.9540044+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"9e68473573159922330b90ade43482be","SpanId":"202e4195aa2f5629","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.9549480+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9e68473573159922330b90ade43482be","SpanId":"202e4195aa2f5629","Properties":{"elapsed":"0","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.9564942+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9e68473573159922330b90ade43482be","SpanId":"202e4195aa2f5629","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.9616951+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9e68473573159922330b90ade43482be","SpanId":"202e4195aa2f5629","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9622774+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9e68473573159922330b90ade43482be","SpanId":"202e4195aa2f5629","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":81.3344,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9628008+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9e68473573159922330b90ade43482be","SpanId":"202e4195aa2f5629","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9632119+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9e68473573159922330b90ade43482be","SpanId":"202e4195aa2f5629","Properties":{"ElapsedMilliseconds":83.2515,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9672877+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d51dc6c2939498ae508892297bc27b85","SpanId":"360dee9542536967","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9677593+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d51dc6c2939498ae508892297bc27b85","SpanId":"360dee9542536967","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9694413+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d51dc6c2939498ae508892297bc27b85","SpanId":"360dee9542536967","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5C:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9698484+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d51dc6c2939498ae508892297bc27b85","SpanId":"360dee9542536967","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9700226+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d51dc6c2939498ae508892297bc27b85","SpanId":"360dee9542536967","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9710522+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d51dc6c2939498ae508892297bc27b85","SpanId":"360dee9542536967","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9714511+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"d51dc6c2939498ae508892297bc27b85","SpanId":"360dee9542536967","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.9715884+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"d51dc6c2939498ae508892297bc27b85","SpanId":"360dee9542536967","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.9717138+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"d51dc6c2939498ae508892297bc27b85","SpanId":"360dee9542536967","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.9718876+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d51dc6c2939498ae508892297bc27b85","SpanId":"360dee9542536967","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9721443+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d51dc6c2939498ae508892297bc27b85","SpanId":"360dee9542536967","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":1.8419,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9723610+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d51dc6c2939498ae508892297bc27b85","SpanId":"360dee9542536967","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9726454+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d51dc6c2939498ae508892297bc27b85","SpanId":"360dee9542536967","Properties":{"ElapsedMilliseconds":5.3559,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9762705+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e64449bd268a2c26de0a91a804f60356","SpanId":"f4319699e828e697","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9766631+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e64449bd268a2c26de0a91a804f60356","SpanId":"f4319699e828e697","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9769019+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e64449bd268a2c26de0a91a804f60356","SpanId":"f4319699e828e697","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9771130+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e64449bd268a2c26de0a91a804f60356","SpanId":"f4319699e828e697","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9776510+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"e64449bd268a2c26de0a91a804f60356","SpanId":"f4319699e828e697","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9791504+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e64449bd268a2c26de0a91a804f60356","SpanId":"f4319699e828e697","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9796051+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"e64449bd268a2c26de0a91a804f60356","SpanId":"f4319699e828e697","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9798359+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e64449bd268a2c26de0a91a804f60356","SpanId":"f4319699e828e697","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9800738+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e64449bd268a2c26de0a91a804f60356","SpanId":"f4319699e828e697","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.7443,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9802298+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e64449bd268a2c26de0a91a804f60356","SpanId":"f4319699e828e697","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9804506+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e64449bd268a2c26de0a91a804f60356","SpanId":"f4319699e828e697","Properties":{"ElapsedMilliseconds":4.183,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9976719+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3add41ab1553d07010b85534cb729239","SpanId":"d66e2cb554635263","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000017","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9981206+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"3add41ab1553d07010b85534cb729239","SpanId":"d66e2cb554635263","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000017","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9984069+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3add41ab1553d07010b85534cb729239","SpanId":"d66e2cb554635263","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000017","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9985967+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3add41ab1553d07010b85534cb729239","SpanId":"d66e2cb554635263","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000017","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:52.9992096+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"3add41ab1553d07010b85534cb729239","SpanId":"d66e2cb554635263","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000017","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:52.9993980+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"3add41ab1553d07010b85534cb729239","SpanId":"d66e2cb554635263","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000017","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.0006017+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3add41ab1553d07010b85534cb729239","SpanId":"d66e2cb554635263","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000017","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.0706550+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"3add41ab1553d07010b85534cb729239","SpanId":"d66e2cb554635263","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000017","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.0720371+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3add41ab1553d07010b85534cb729239","SpanId":"d66e2cb554635263","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000017","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.0725185+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"3add41ab1553d07010b85534cb729239","SpanId":"d66e2cb554635263","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000017","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.0735522+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3add41ab1553d07010b85534cb729239","SpanId":"d66e2cb554635263","Properties":{"elapsed":"0","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000017","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.0750470+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3add41ab1553d07010b85534cb729239","SpanId":"d66e2cb554635263","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000017","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.0793377+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3add41ab1553d07010b85534cb729239","SpanId":"d66e2cb554635263","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000017","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0796491+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3add41ab1553d07010b85534cb729239","SpanId":"d66e2cb554635263","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":80.8297,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000017","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0798198+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3add41ab1553d07010b85534cb729239","SpanId":"d66e2cb554635263","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000017","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0800485+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3add41ab1553d07010b85534cb729239","SpanId":"d66e2cb554635263","Properties":{"ElapsedMilliseconds":82.3566,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000017","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0845354+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"19f777f448cc0fbe2fe8692ec6cf1cad","SpanId":"2a5cab8070aeaf3c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0849622+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"19f777f448cc0fbe2fe8692ec6cf1cad","SpanId":"2a5cab8070aeaf3c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0864467+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"19f777f448cc0fbe2fe8692ec6cf1cad","SpanId":"2a5cab8070aeaf3c","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5C:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0869000+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"19f777f448cc0fbe2fe8692ec6cf1cad","SpanId":"2a5cab8070aeaf3c","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0871135+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"19f777f448cc0fbe2fe8692ec6cf1cad","SpanId":"2a5cab8070aeaf3c","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0881603+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"19f777f448cc0fbe2fe8692ec6cf1cad","SpanId":"2a5cab8070aeaf3c","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0885840+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"19f777f448cc0fbe2fe8692ec6cf1cad","SpanId":"2a5cab8070aeaf3c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.0887786+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"19f777f448cc0fbe2fe8692ec6cf1cad","SpanId":"2a5cab8070aeaf3c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.0889349+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"19f777f448cc0fbe2fe8692ec6cf1cad","SpanId":"2a5cab8070aeaf3c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.0891291+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"19f777f448cc0fbe2fe8692ec6cf1cad","SpanId":"2a5cab8070aeaf3c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0893743+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"19f777f448cc0fbe2fe8692ec6cf1cad","SpanId":"2a5cab8070aeaf3c","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.0066,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0895536+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"19f777f448cc0fbe2fe8692ec6cf1cad","SpanId":"2a5cab8070aeaf3c","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0898008+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"19f777f448cc0fbe2fe8692ec6cf1cad","SpanId":"2a5cab8070aeaf3c","Properties":{"ElapsedMilliseconds":5.2509,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0936518+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b0120ffceac6b5acc9c758eb7f6fc695","SpanId":"3235e72af81e4561","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000019","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0940804+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b0120ffceac6b5acc9c758eb7f6fc695","SpanId":"3235e72af81e4561","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000019","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0942847+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b0120ffceac6b5acc9c758eb7f6fc695","SpanId":"3235e72af81e4561","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000019","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0945056+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b0120ffceac6b5acc9c758eb7f6fc695","SpanId":"3235e72af81e4561","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000019","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0951148+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"b0120ffceac6b5acc9c758eb7f6fc695","SpanId":"3235e72af81e4561","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000019","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0964210+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b0120ffceac6b5acc9c758eb7f6fc695","SpanId":"3235e72af81e4561","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000019","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0969285+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"b0120ffceac6b5acc9c758eb7f6fc695","SpanId":"3235e72af81e4561","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000019","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0971542+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b0120ffceac6b5acc9c758eb7f6fc695","SpanId":"3235e72af81e4561","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000019","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0974198+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b0120ffceac6b5acc9c758eb7f6fc695","SpanId":"3235e72af81e4561","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.6961,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000019","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0975877+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b0120ffceac6b5acc9c758eb7f6fc695","SpanId":"3235e72af81e4561","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000019","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.0977986+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b0120ffceac6b5acc9c758eb7f6fc695","SpanId":"3235e72af81e4561","Properties":{"ElapsedMilliseconds":4.1469,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000019","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.1956719+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b5fbad69c7008d557978f34e830c5fad","SpanId":"f9f007a20ffce044","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.1962367+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b5fbad69c7008d557978f34e830c5fad","SpanId":"f9f007a20ffce044","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.1964564+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b5fbad69c7008d557978f34e830c5fad","SpanId":"f9f007a20ffce044","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.1967051+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b5fbad69c7008d557978f34e830c5fad","SpanId":"f9f007a20ffce044","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.1972194+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"b5fbad69c7008d557978f34e830c5fad","SpanId":"f9f007a20ffce044","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.1973826+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"b5fbad69c7008d557978f34e830c5fad","SpanId":"f9f007a20ffce044","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.1985093+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b5fbad69c7008d557978f34e830c5fad","SpanId":"f9f007a20ffce044","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.2686051+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"b5fbad69c7008d557978f34e830c5fad","SpanId":"f9f007a20ffce044","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.2699741+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b5fbad69c7008d557978f34e830c5fad","SpanId":"f9f007a20ffce044","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.2706822+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"b5fbad69c7008d557978f34e830c5fad","SpanId":"f9f007a20ffce044","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.2716621+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b5fbad69c7008d557978f34e830c5fad","SpanId":"f9f007a20ffce044","Properties":{"elapsed":"0","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.2734365+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b5fbad69c7008d557978f34e830c5fad","SpanId":"f9f007a20ffce044","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.2759741+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b5fbad69c7008d557978f34e830c5fad","SpanId":"f9f007a20ffce044","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2764009+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b5fbad69c7008d557978f34e830c5fad","SpanId":"f9f007a20ffce044","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":79.4852,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2765807+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b5fbad69c7008d557978f34e830c5fad","SpanId":"f9f007a20ffce044","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2767857+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b5fbad69c7008d557978f34e830c5fad","SpanId":"f9f007a20ffce044","Properties":{"ElapsedMilliseconds":81.1161,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2810794+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e218f44a485a308b6546483cdbc9cb14","SpanId":"b3517f9d2e20c3c6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000001B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2814925+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e218f44a485a308b6546483cdbc9cb14","SpanId":"b3517f9d2e20c3c6","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000001B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2828707+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e218f44a485a308b6546483cdbc9cb14","SpanId":"b3517f9d2e20c3c6","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5C:0000001B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2832328+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e218f44a485a308b6546483cdbc9cb14","SpanId":"b3517f9d2e20c3c6","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000001B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2834943+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e218f44a485a308b6546483cdbc9cb14","SpanId":"b3517f9d2e20c3c6","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2843789+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e218f44a485a308b6546483cdbc9cb14","SpanId":"b3517f9d2e20c3c6","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2847232+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"e218f44a485a308b6546483cdbc9cb14","SpanId":"b3517f9d2e20c3c6","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.2848428+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"e218f44a485a308b6546483cdbc9cb14","SpanId":"b3517f9d2e20c3c6","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.2849499+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"e218f44a485a308b6546483cdbc9cb14","SpanId":"b3517f9d2e20c3c6","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.2851114+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e218f44a485a308b6546483cdbc9cb14","SpanId":"b3517f9d2e20c3c6","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2853893+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e218f44a485a308b6546483cdbc9cb14","SpanId":"b3517f9d2e20c3c6","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":1.704,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000001B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2858778+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e218f44a485a308b6546483cdbc9cb14","SpanId":"b3517f9d2e20c3c6","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000001B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2861221+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e218f44a485a308b6546483cdbc9cb14","SpanId":"b3517f9d2e20c3c6","Properties":{"ElapsedMilliseconds":5.0427,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000001B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2893904+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f2c244c1c3926514ce0e72cb069f5d13","SpanId":"42989991a915e7c0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000001C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2897504+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f2c244c1c3926514ce0e72cb069f5d13","SpanId":"42989991a915e7c0","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000001C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2899515+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f2c244c1c3926514ce0e72cb069f5d13","SpanId":"42989991a915e7c0","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000001C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2901152+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f2c244c1c3926514ce0e72cb069f5d13","SpanId":"42989991a915e7c0","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2907300+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"f2c244c1c3926514ce0e72cb069f5d13","SpanId":"42989991a915e7c0","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2919071+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f2c244c1c3926514ce0e72cb069f5d13","SpanId":"42989991a915e7c0","Properties":{"elapsed":"0","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2923406+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"f2c244c1c3926514ce0e72cb069f5d13","SpanId":"42989991a915e7c0","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2925369+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f2c244c1c3926514ce0e72cb069f5d13","SpanId":"42989991a915e7c0","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2927867+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f2c244c1c3926514ce0e72cb069f5d13","SpanId":"42989991a915e7c0","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.4009,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000001C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2930275+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f2c244c1c3926514ce0e72cb069f5d13","SpanId":"42989991a915e7c0","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000001C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.2932281+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f2c244c1c3926514ce0e72cb069f5d13","SpanId":"42989991a915e7c0","Properties":{"ElapsedMilliseconds":3.8378,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000001C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.3408027+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bca9e81c9e7e9193f636a4883f85b77c","SpanId":"0c97ad8ee54565f8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000001D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.3411529+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"bca9e81c9e7e9193f636a4883f85b77c","SpanId":"0c97ad8ee54565f8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000001D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.3413545+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bca9e81c9e7e9193f636a4883f85b77c","SpanId":"0c97ad8ee54565f8","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000001D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.3415687+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bca9e81c9e7e9193f636a4883f85b77c","SpanId":"0c97ad8ee54565f8","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.3421178+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"bca9e81c9e7e9193f636a4883f85b77c","SpanId":"0c97ad8ee54565f8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.3422961+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"bca9e81c9e7e9193f636a4883f85b77c","SpanId":"0c97ad8ee54565f8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.3434743+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bca9e81c9e7e9193f636a4883f85b77c","SpanId":"0c97ad8ee54565f8","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.4134801+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"bca9e81c9e7e9193f636a4883f85b77c","SpanId":"0c97ad8ee54565f8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.4147227+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bca9e81c9e7e9193f636a4883f85b77c","SpanId":"0c97ad8ee54565f8","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.4151394+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"bca9e81c9e7e9193f636a4883f85b77c","SpanId":"0c97ad8ee54565f8","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.4161851+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bca9e81c9e7e9193f636a4883f85b77c","SpanId":"0c97ad8ee54565f8","Properties":{"elapsed":"0","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.4176341+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bca9e81c9e7e9193f636a4883f85b77c","SpanId":"0c97ad8ee54565f8","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.4218529+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bca9e81c9e7e9193f636a4883f85b77c","SpanId":"0c97ad8ee54565f8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4222286+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bca9e81c9e7e9193f636a4883f85b77c","SpanId":"0c97ad8ee54565f8","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":80.4279,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000001D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4224921+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bca9e81c9e7e9193f636a4883f85b77c","SpanId":"0c97ad8ee54565f8","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000001D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4227925+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bca9e81c9e7e9193f636a4883f85b77c","SpanId":"0c97ad8ee54565f8","Properties":{"ElapsedMilliseconds":81.9732,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000001D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4273258+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"66ed7c786ceb2121c45f3b73311bfbcb","SpanId":"db8ad02934902eb9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000001E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4277341+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"66ed7c786ceb2121c45f3b73311bfbcb","SpanId":"db8ad02934902eb9","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000001E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4291046+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"66ed7c786ceb2121c45f3b73311bfbcb","SpanId":"db8ad02934902eb9","Properties":{"elapsed":"0","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5C:0000001E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4294979+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"66ed7c786ceb2121c45f3b73311bfbcb","SpanId":"db8ad02934902eb9","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000001E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4296749+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"66ed7c786ceb2121c45f3b73311bfbcb","SpanId":"db8ad02934902eb9","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4306894+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"66ed7c786ceb2121c45f3b73311bfbcb","SpanId":"db8ad02934902eb9","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4310537+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"66ed7c786ceb2121c45f3b73311bfbcb","SpanId":"db8ad02934902eb9","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.4311938+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"66ed7c786ceb2121c45f3b73311bfbcb","SpanId":"db8ad02934902eb9","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.4313233+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"66ed7c786ceb2121c45f3b73311bfbcb","SpanId":"db8ad02934902eb9","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.4314827+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"66ed7c786ceb2121c45f3b73311bfbcb","SpanId":"db8ad02934902eb9","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4317105+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"66ed7c786ceb2121c45f3b73311bfbcb","SpanId":"db8ad02934902eb9","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":1.7807,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000001E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4318952+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"66ed7c786ceb2121c45f3b73311bfbcb","SpanId":"db8ad02934902eb9","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000001E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4321654+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"66ed7c786ceb2121c45f3b73311bfbcb","SpanId":"db8ad02934902eb9","Properties":{"ElapsedMilliseconds":4.8525,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000001E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4354734+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6059b379fd60ce7d0f36a0c024ed872a","SpanId":"1c54dcd356cf4277","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000001F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4358217+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"6059b379fd60ce7d0f36a0c024ed872a","SpanId":"1c54dcd356cf4277","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000001F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4360192+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6059b379fd60ce7d0f36a0c024ed872a","SpanId":"1c54dcd356cf4277","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000001F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4362157+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6059b379fd60ce7d0f36a0c024ed872a","SpanId":"1c54dcd356cf4277","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4367419+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"6059b379fd60ce7d0f36a0c024ed872a","SpanId":"1c54dcd356cf4277","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4378578+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6059b379fd60ce7d0f36a0c024ed872a","SpanId":"1c54dcd356cf4277","Properties":{"elapsed":"0","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4382351+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"6059b379fd60ce7d0f36a0c024ed872a","SpanId":"1c54dcd356cf4277","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4384778+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6059b379fd60ce7d0f36a0c024ed872a","SpanId":"1c54dcd356cf4277","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000001F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4387497+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6059b379fd60ce7d0f36a0c024ed872a","SpanId":"1c54dcd356cf4277","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.3196,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000001F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4389358+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6059b379fd60ce7d0f36a0c024ed872a","SpanId":"1c54dcd356cf4277","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000001F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4392015+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6059b379fd60ce7d0f36a0c024ed872a","SpanId":"1c54dcd356cf4277","Properties":{"ElapsedMilliseconds":3.7325,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000001F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4844715+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6f99a11822adf3faf0be6ec18642aa3c","SpanId":"0479de5167fa3727","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000020","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4850070+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"6f99a11822adf3faf0be6ec18642aa3c","SpanId":"0479de5167fa3727","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000020","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4851974+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6f99a11822adf3faf0be6ec18642aa3c","SpanId":"0479de5167fa3727","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000020","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4853806+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6f99a11822adf3faf0be6ec18642aa3c","SpanId":"0479de5167fa3727","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000020","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.4859066+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"6f99a11822adf3faf0be6ec18642aa3c","SpanId":"0479de5167fa3727","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000020","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.4860558+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"6f99a11822adf3faf0be6ec18642aa3c","SpanId":"0479de5167fa3727","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000020","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.4871428+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6f99a11822adf3faf0be6ec18642aa3c","SpanId":"0479de5167fa3727","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000020","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.5576297+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"6f99a11822adf3faf0be6ec18642aa3c","SpanId":"0479de5167fa3727","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000020","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.5588287+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6f99a11822adf3faf0be6ec18642aa3c","SpanId":"0479de5167fa3727","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000020","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.5592031+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"6f99a11822adf3faf0be6ec18642aa3c","SpanId":"0479de5167fa3727","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000020","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.5602205+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6f99a11822adf3faf0be6ec18642aa3c","SpanId":"0479de5167fa3727","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000020","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.5617407+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6f99a11822adf3faf0be6ec18642aa3c","SpanId":"0479de5167fa3727","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000020","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.5637617+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6f99a11822adf3faf0be6ec18642aa3c","SpanId":"0479de5167fa3727","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000020","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5641231+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6f99a11822adf3faf0be6ec18642aa3c","SpanId":"0479de5167fa3727","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":78.5318,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000020","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5643601+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6f99a11822adf3faf0be6ec18642aa3c","SpanId":"0479de5167fa3727","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000020","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5647313+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6f99a11822adf3faf0be6ec18642aa3c","SpanId":"0479de5167fa3727","Properties":{"ElapsedMilliseconds":80.1598,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000020","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5688877+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4b5b43fa39ce3eb3144e6cd2402af1e7","SpanId":"a3317b69680926c9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000021","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5693422+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"4b5b43fa39ce3eb3144e6cd2402af1e7","SpanId":"a3317b69680926c9","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000021","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5708697+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4b5b43fa39ce3eb3144e6cd2402af1e7","SpanId":"a3317b69680926c9","Properties":{"elapsed":"0","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5C:00000021","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5712120+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4b5b43fa39ce3eb3144e6cd2402af1e7","SpanId":"a3317b69680926c9","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000021","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5714260+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4b5b43fa39ce3eb3144e6cd2402af1e7","SpanId":"a3317b69680926c9","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000021","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5725187+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4b5b43fa39ce3eb3144e6cd2402af1e7","SpanId":"a3317b69680926c9","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000021","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5728848+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"4b5b43fa39ce3eb3144e6cd2402af1e7","SpanId":"a3317b69680926c9","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000021","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.5730574+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"4b5b43fa39ce3eb3144e6cd2402af1e7","SpanId":"a3317b69680926c9","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000021","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.5731738+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"4b5b43fa39ce3eb3144e6cd2402af1e7","SpanId":"a3317b69680926c9","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000021","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.5733565+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4b5b43fa39ce3eb3144e6cd2402af1e7","SpanId":"a3317b69680926c9","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000021","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5735677+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4b5b43fa39ce3eb3144e6cd2402af1e7","SpanId":"a3317b69680926c9","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":1.9551,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000021","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5737273+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4b5b43fa39ce3eb3144e6cd2402af1e7","SpanId":"a3317b69680926c9","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000021","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5739244+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4b5b43fa39ce3eb3144e6cd2402af1e7","SpanId":"a3317b69680926c9","Properties":{"ElapsedMilliseconds":5.0419,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000021","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5779387+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b109c71eb7a1b0c3148eac1cb423c6a8","SpanId":"75e6b1294bbd98d4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000022","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5783900+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b109c71eb7a1b0c3148eac1cb423c6a8","SpanId":"75e6b1294bbd98d4","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000022","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5785909+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b109c71eb7a1b0c3148eac1cb423c6a8","SpanId":"75e6b1294bbd98d4","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000022","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5787707+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b109c71eb7a1b0c3148eac1cb423c6a8","SpanId":"75e6b1294bbd98d4","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000022","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5793516+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"b109c71eb7a1b0c3148eac1cb423c6a8","SpanId":"75e6b1294bbd98d4","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000022","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5808096+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b109c71eb7a1b0c3148eac1cb423c6a8","SpanId":"75e6b1294bbd98d4","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000022","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5812084+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"b109c71eb7a1b0c3148eac1cb423c6a8","SpanId":"75e6b1294bbd98d4","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000022","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5814680+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b109c71eb7a1b0c3148eac1cb423c6a8","SpanId":"75e6b1294bbd98d4","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000022","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5817427+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b109c71eb7a1b0c3148eac1cb423c6a8","SpanId":"75e6b1294bbd98d4","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.7457,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000022","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5819609+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b109c71eb7a1b0c3148eac1cb423c6a8","SpanId":"75e6b1294bbd98d4","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000022","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.5821999+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b109c71eb7a1b0c3148eac1cb423c6a8","SpanId":"75e6b1294bbd98d4","Properties":{"ElapsedMilliseconds":4.2622,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000022","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.6615245+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4ffc597c067b91f88c119dfdfc41dce6","SpanId":"d169d5876eb33219","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000023","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.6619502+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"4ffc597c067b91f88c119dfdfc41dce6","SpanId":"d169d5876eb33219","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000023","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.6622742+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4ffc597c067b91f88c119dfdfc41dce6","SpanId":"d169d5876eb33219","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000023","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.6625791+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4ffc597c067b91f88c119dfdfc41dce6","SpanId":"d169d5876eb33219","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000023","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.6631306+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"4ffc597c067b91f88c119dfdfc41dce6","SpanId":"d169d5876eb33219","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000023","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.6633345+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"4ffc597c067b91f88c119dfdfc41dce6","SpanId":"d169d5876eb33219","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000023","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.6645342+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4ffc597c067b91f88c119dfdfc41dce6","SpanId":"d169d5876eb33219","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000023","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.7342596+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"4ffc597c067b91f88c119dfdfc41dce6","SpanId":"d169d5876eb33219","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000023","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.7354992+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4ffc597c067b91f88c119dfdfc41dce6","SpanId":"d169d5876eb33219","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000023","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.7359001+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"4ffc597c067b91f88c119dfdfc41dce6","SpanId":"d169d5876eb33219","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000023","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.7369214+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4ffc597c067b91f88c119dfdfc41dce6","SpanId":"d169d5876eb33219","Properties":{"elapsed":"0","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000023","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.7384492+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4ffc597c067b91f88c119dfdfc41dce6","SpanId":"d169d5876eb33219","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000023","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.7426928+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4ffc597c067b91f88c119dfdfc41dce6","SpanId":"d169d5876eb33219","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000023","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7431757+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4ffc597c067b91f88c119dfdfc41dce6","SpanId":"d169d5876eb33219","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":80.3896,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000023","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7435333+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4ffc597c067b91f88c119dfdfc41dce6","SpanId":"d169d5876eb33219","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000023","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7440012+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4ffc597c067b91f88c119dfdfc41dce6","SpanId":"d169d5876eb33219","Properties":{"ElapsedMilliseconds":82.4452,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000023","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7475864+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f026ae70bdd7cb5bdcaa5af5299a74f0","SpanId":"45965ffdc4cf5a03","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000024","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7479434+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f026ae70bdd7cb5bdcaa5af5299a74f0","SpanId":"45965ffdc4cf5a03","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000024","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7493940+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f026ae70bdd7cb5bdcaa5af5299a74f0","SpanId":"45965ffdc4cf5a03","Properties":{"elapsed":"0","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5C:00000024","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7498539+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f026ae70bdd7cb5bdcaa5af5299a74f0","SpanId":"45965ffdc4cf5a03","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000024","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7500454+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f026ae70bdd7cb5bdcaa5af5299a74f0","SpanId":"45965ffdc4cf5a03","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000024","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7510442+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f026ae70bdd7cb5bdcaa5af5299a74f0","SpanId":"45965ffdc4cf5a03","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000024","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7514636+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"f026ae70bdd7cb5bdcaa5af5299a74f0","SpanId":"45965ffdc4cf5a03","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000024","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.7516049+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"f026ae70bdd7cb5bdcaa5af5299a74f0","SpanId":"45965ffdc4cf5a03","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000024","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.7517517+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"f026ae70bdd7cb5bdcaa5af5299a74f0","SpanId":"45965ffdc4cf5a03","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000024","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:51:53.7519877+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f026ae70bdd7cb5bdcaa5af5299a74f0","SpanId":"45965ffdc4cf5a03","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000024","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7522398+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f026ae70bdd7cb5bdcaa5af5299a74f0","SpanId":"45965ffdc4cf5a03","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":1.9736,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000024","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7524466+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f026ae70bdd7cb5bdcaa5af5299a74f0","SpanId":"45965ffdc4cf5a03","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000024","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7526332+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f026ae70bdd7cb5bdcaa5af5299a74f0","SpanId":"45965ffdc4cf5a03","Properties":{"ElapsedMilliseconds":5.0452,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000024","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7560871+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"96ec9a8857ea5edd92f8547817eca810","SpanId":"1b3da451ea6c0db1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000025","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7564777+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"96ec9a8857ea5edd92f8547817eca810","SpanId":"1b3da451ea6c0db1","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000025","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7568667+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"96ec9a8857ea5edd92f8547817eca810","SpanId":"1b3da451ea6c0db1","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000025","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7573255+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"96ec9a8857ea5edd92f8547817eca810","SpanId":"1b3da451ea6c0db1","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000025","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7583339+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"96ec9a8857ea5edd92f8547817eca810","SpanId":"1b3da451ea6c0db1","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000025","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7595482+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"96ec9a8857ea5edd92f8547817eca810","SpanId":"1b3da451ea6c0db1","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000025","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7599771+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"96ec9a8857ea5edd92f8547817eca810","SpanId":"1b3da451ea6c0db1","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000025","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7601995+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"96ec9a8857ea5edd92f8547817eca810","SpanId":"1b3da451ea6c0db1","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000025","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7604878+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"96ec9a8857ea5edd92f8547817eca810","SpanId":"1b3da451ea6c0db1","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.7636,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000025","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7606989+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"96ec9a8857ea5edd92f8547817eca810","SpanId":"1b3da451ea6c0db1","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000025","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:51:53.7609134+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"96ec9a8857ea5edd92f8547817eca810","SpanId":"1b3da451ea6c0db1","Properties":{"ElapsedMilliseconds":4.8249,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000025","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.0928902+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"803862d1ea09b53c27b65949eeaea62b","SpanId":"0ae3254744904d01","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000026","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.0937997+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"803862d1ea09b53c27b65949eeaea62b","SpanId":"0ae3254744904d01","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000026","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.0941367+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"803862d1ea09b53c27b65949eeaea62b","SpanId":"0ae3254744904d01","Properties":{"ElapsedMilliseconds":1.2464,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000026","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.0965088+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"88c1762efc95c1a12319a5e8f2882ac4","SpanId":"6626080498137844","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000027","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.0968437+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"88c1762efc95c1a12319a5e8f2882ac4","SpanId":"6626080498137844","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000027","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.0971968+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"88c1762efc95c1a12319a5e8f2882ac4","SpanId":"6626080498137844","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000027","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.0975310+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"88c1762efc95c1a12319a5e8f2882ac4","SpanId":"6626080498137844","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000027","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.0984097+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"88c1762efc95c1a12319a5e8f2882ac4","SpanId":"6626080498137844","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000027","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:04.0985718+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"88c1762efc95c1a12319a5e8f2882ac4","SpanId":"6626080498137844","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000027","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:04.1006448+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88c1762efc95c1a12319a5e8f2882ac4","SpanId":"6626080498137844","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000027","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:04.1700225+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"88c1762efc95c1a12319a5e8f2882ac4","SpanId":"6626080498137844","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000027","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:04.1710419+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88c1762efc95c1a12319a5e8f2882ac4","SpanId":"6626080498137844","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000027","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:04.1714566+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"88c1762efc95c1a12319a5e8f2882ac4","SpanId":"6626080498137844","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000027","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:04.1726202+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88c1762efc95c1a12319a5e8f2882ac4","SpanId":"6626080498137844","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000027","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:04.1741766+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88c1762efc95c1a12319a5e8f2882ac4","SpanId":"6626080498137844","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000027","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:04.1786992+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"88c1762efc95c1a12319a5e8f2882ac4","SpanId":"6626080498137844","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000027","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.1790808+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"88c1762efc95c1a12319a5e8f2882ac4","SpanId":"6626080498137844","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":81.2078,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000027","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.1793555+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"88c1762efc95c1a12319a5e8f2882ac4","SpanId":"6626080498137844","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000027","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.1796036+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"88c1762efc95c1a12319a5e8f2882ac4","SpanId":"6626080498137844","Properties":{"ElapsedMilliseconds":83.0924,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000027","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.1856859+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"31a45c49f2eba0994f324f1e9be1718d","SpanId":"1cf4ffa0ae7929d3","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000028","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.1860409+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"31a45c49f2eba0994f324f1e9be1718d","SpanId":"1cf4ffa0ae7929d3","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000028","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.1862446+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"31a45c49f2eba0994f324f1e9be1718d","SpanId":"1cf4ffa0ae7929d3","Properties":{"ElapsedMilliseconds":0.5599,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000028","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.1886942+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cbdfe886ebabff6493a46275f2414096","SpanId":"afa1a4f1f16fd11d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000029","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.1891000+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"cbdfe886ebabff6493a46275f2414096","SpanId":"afa1a4f1f16fd11d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000029","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.1906966+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cbdfe886ebabff6493a46275f2414096","SpanId":"afa1a4f1f16fd11d","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5C:00000029","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.1912736+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cbdfe886ebabff6493a46275f2414096","SpanId":"afa1a4f1f16fd11d","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000029","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.1915714+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cbdfe886ebabff6493a46275f2414096","SpanId":"afa1a4f1f16fd11d","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000029","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.1926985+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cbdfe886ebabff6493a46275f2414096","SpanId":"afa1a4f1f16fd11d","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000029","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.1932440+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"cbdfe886ebabff6493a46275f2414096","SpanId":"afa1a4f1f16fd11d","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000029","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:04.1934477+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"cbdfe886ebabff6493a46275f2414096","SpanId":"afa1a4f1f16fd11d","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000029","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:04.1935905+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"cbdfe886ebabff6493a46275f2414096","SpanId":"afa1a4f1f16fd11d","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000029","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:04.1938743+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cbdfe886ebabff6493a46275f2414096","SpanId":"afa1a4f1f16fd11d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000029","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.1943390+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cbdfe886ebabff6493a46275f2414096","SpanId":"afa1a4f1f16fd11d","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.5169,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000029","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.1945548+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cbdfe886ebabff6493a46275f2414096","SpanId":"afa1a4f1f16fd11d","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000029","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.1947800+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cbdfe886ebabff6493a46275f2414096","SpanId":"afa1a4f1f16fd11d","Properties":{"ElapsedMilliseconds":6.0814,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000029","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.2001616+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b38284592969be3e6d2769b8ac3f4ba1","SpanId":"cba37a0842f8d627","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000002A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.2005231+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b38284592969be3e6d2769b8ac3f4ba1","SpanId":"cba37a0842f8d627","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000002A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.2007562+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b38284592969be3e6d2769b8ac3f4ba1","SpanId":"cba37a0842f8d627","Properties":{"ElapsedMilliseconds":0.5907,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000002A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.2033847+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"53d6827eae50d52ef766c39fc0fc45ed","SpanId":"8d143c6955b936dc","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000002B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.2037160+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"53d6827eae50d52ef766c39fc0fc45ed","SpanId":"8d143c6955b936dc","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000002B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.2038785+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"53d6827eae50d52ef766c39fc0fc45ed","SpanId":"8d143c6955b936dc","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000002B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.2040900+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"53d6827eae50d52ef766c39fc0fc45ed","SpanId":"8d143c6955b936dc","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.2045821+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"53d6827eae50d52ef766c39fc0fc45ed","SpanId":"8d143c6955b936dc","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.2056916+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"53d6827eae50d52ef766c39fc0fc45ed","SpanId":"8d143c6955b936dc","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.2060856+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"53d6827eae50d52ef766c39fc0fc45ed","SpanId":"8d143c6955b936dc","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.2062707+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"53d6827eae50d52ef766c39fc0fc45ed","SpanId":"8d143c6955b936dc","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.2065049+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"53d6827eae50d52ef766c39fc0fc45ed","SpanId":"8d143c6955b936dc","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.2144,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000002B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.2067395+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"53d6827eae50d52ef766c39fc0fc45ed","SpanId":"8d143c6955b936dc","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000002B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:04.2069579+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"53d6827eae50d52ef766c39fc0fc45ed","SpanId":"8d143c6955b936dc","Properties":{"ElapsedMilliseconds":3.5433,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000002B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.7875385+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b806aa71ba066acfe6a8a65962ec8558","SpanId":"002884896cc519a7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000002C","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.7878911+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b806aa71ba066acfe6a8a65962ec8558","SpanId":"002884896cc519a7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000002C","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.7880709+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b806aa71ba066acfe6a8a65962ec8558","SpanId":"002884896cc519a7","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000002C","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.7882861+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b806aa71ba066acfe6a8a65962ec8558","SpanId":"002884896cc519a7","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002C","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.7888053+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"b806aa71ba066acfe6a8a65962ec8558","SpanId":"002884896cc519a7","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002C","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:05.7889941+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"b806aa71ba066acfe6a8a65962ec8558","SpanId":"002884896cc519a7","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002C","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:05.7901644+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b806aa71ba066acfe6a8a65962ec8558","SpanId":"002884896cc519a7","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002C","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:05.8597093+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"b806aa71ba066acfe6a8a65962ec8558","SpanId":"002884896cc519a7","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002C","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:05.8609253+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b806aa71ba066acfe6a8a65962ec8558","SpanId":"002884896cc519a7","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002C","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:05.8612698+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"b806aa71ba066acfe6a8a65962ec8558","SpanId":"002884896cc519a7","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002C","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:05.8621845+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b806aa71ba066acfe6a8a65962ec8558","SpanId":"002884896cc519a7","Properties":{"elapsed":"0","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002C","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:05.8635819+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b806aa71ba066acfe6a8a65962ec8558","SpanId":"002884896cc519a7","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002C","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:05.8678670+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b806aa71ba066acfe6a8a65962ec8558","SpanId":"002884896cc519a7","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002C","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8681594+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b806aa71ba066acfe6a8a65962ec8558","SpanId":"002884896cc519a7","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":79.6178,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000002C","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8684381+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b806aa71ba066acfe6a8a65962ec8558","SpanId":"002884896cc519a7","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000002C","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8687537+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b806aa71ba066acfe6a8a65962ec8558","SpanId":"002884896cc519a7","Properties":{"ElapsedMilliseconds":81.2101,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000002C","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8745421+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"617516926c3d2487919e52f2b8a3ea8f","SpanId":"f83156ad58ee8fdc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000002D","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8749331+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"617516926c3d2487919e52f2b8a3ea8f","SpanId":"f83156ad58ee8fdc","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000002D","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8762035+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"617516926c3d2487919e52f2b8a3ea8f","SpanId":"f83156ad58ee8fdc","Properties":{"elapsed":"0","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5C:0000002D","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8766287+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"617516926c3d2487919e52f2b8a3ea8f","SpanId":"f83156ad58ee8fdc","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000002D","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8768118+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"617516926c3d2487919e52f2b8a3ea8f","SpanId":"f83156ad58ee8fdc","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002D","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8779433+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"617516926c3d2487919e52f2b8a3ea8f","SpanId":"f83156ad58ee8fdc","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002D","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8784000+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"617516926c3d2487919e52f2b8a3ea8f","SpanId":"f83156ad58ee8fdc","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002D","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:05.8785627+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"617516926c3d2487919e52f2b8a3ea8f","SpanId":"f83156ad58ee8fdc","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002D","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:05.8787029+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"617516926c3d2487919e52f2b8a3ea8f","SpanId":"f83156ad58ee8fdc","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002D","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:05.8789457+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"617516926c3d2487919e52f2b8a3ea8f","SpanId":"f83156ad58ee8fdc","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002D","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8792010+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"617516926c3d2487919e52f2b8a3ea8f","SpanId":"f83156ad58ee8fdc","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.0844,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000002D","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8794207+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"617516926c3d2487919e52f2b8a3ea8f","SpanId":"f83156ad58ee8fdc","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000002D","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8799642+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"617516926c3d2487919e52f2b8a3ea8f","SpanId":"f83156ad58ee8fdc","Properties":{"ElapsedMilliseconds":5.4252,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000002D","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8849795+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7e57e4b0c79a02c02722bd9548ab54ac","SpanId":"d758714d47b254e0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000002E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8853897+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"7e57e4b0c79a02c02722bd9548ab54ac","SpanId":"d758714d47b254e0","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000002E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8856245+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7e57e4b0c79a02c02722bd9548ab54ac","SpanId":"d758714d47b254e0","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000002E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8858365+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7e57e4b0c79a02c02722bd9548ab54ac","SpanId":"d758714d47b254e0","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8863721+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"7e57e4b0c79a02c02722bd9548ab54ac","SpanId":"d758714d47b254e0","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8879868+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7e57e4b0c79a02c02722bd9548ab54ac","SpanId":"d758714d47b254e0","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8884180+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"7e57e4b0c79a02c02722bd9548ab54ac","SpanId":"d758714d47b254e0","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8885907+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7e57e4b0c79a02c02722bd9548ab54ac","SpanId":"d758714d47b254e0","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000002E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8888306+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7e57e4b0c79a02c02722bd9548ab54ac","SpanId":"d758714d47b254e0","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.7763,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000002E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8890079+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7e57e4b0c79a02c02722bd9548ab54ac","SpanId":"d758714d47b254e0","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000002E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:05.8892817+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7e57e4b0c79a02c02722bd9548ab54ac","SpanId":"d758714d47b254e0","Properties":{"ElapsedMilliseconds":4.3393,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000002E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.0002410+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dc3a4c663c22e687775ab7df9812932b","SpanId":"e573c385f26e30e5","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000002F","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.0008886+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"dc3a4c663c22e687775ab7df9812932b","SpanId":"e573c385f26e30e5","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000002F","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.0012075+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dc3a4c663c22e687775ab7df9812932b","SpanId":"e573c385f26e30e5","Properties":{"ElapsedMilliseconds":0.9792,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000002F","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.0038581+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3f733219390c4eca1627051edffc7e0d","SpanId":"213467d87387374b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000030","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.0042096+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"3f733219390c4eca1627051edffc7e0d","SpanId":"213467d87387374b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000030","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.0044438+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3f733219390c4eca1627051edffc7e0d","SpanId":"213467d87387374b","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000030","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.0046351+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3f733219390c4eca1627051edffc7e0d","SpanId":"213467d87387374b","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000030","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.0051775+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"3f733219390c4eca1627051edffc7e0d","SpanId":"213467d87387374b","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000030","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:13.0054252+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"3f733219390c4eca1627051edffc7e0d","SpanId":"213467d87387374b","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000030","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:13.0069579+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3f733219390c4eca1627051edffc7e0d","SpanId":"213467d87387374b","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000030","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:13.0796215+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"3f733219390c4eca1627051edffc7e0d","SpanId":"213467d87387374b","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000030","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:13.0805504+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3f733219390c4eca1627051edffc7e0d","SpanId":"213467d87387374b","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000030","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:13.0809646+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"3f733219390c4eca1627051edffc7e0d","SpanId":"213467d87387374b","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000030","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:13.0820808+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3f733219390c4eca1627051edffc7e0d","SpanId":"213467d87387374b","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000030","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:13.0835411+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3f733219390c4eca1627051edffc7e0d","SpanId":"213467d87387374b","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000030","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:13.0876647+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3f733219390c4eca1627051edffc7e0d","SpanId":"213467d87387374b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000030","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.0880199+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3f733219390c4eca1627051edffc7e0d","SpanId":"213467d87387374b","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":83.1392,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000030","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.0882905+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3f733219390c4eca1627051edffc7e0d","SpanId":"213467d87387374b","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000030","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.0885405+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3f733219390c4eca1627051edffc7e0d","SpanId":"213467d87387374b","Properties":{"ElapsedMilliseconds":84.6847,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000030","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.0954688+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a94b011ac0fc88e30430a7318d502f3d","SpanId":"f79943bb8e70a63a","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000031","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.0959060+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a94b011ac0fc88e30430a7318d502f3d","SpanId":"f79943bb8e70a63a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000031","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.0961752+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a94b011ac0fc88e30430a7318d502f3d","SpanId":"f79943bb8e70a63a","Properties":{"ElapsedMilliseconds":0.6843,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000031","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.0993981+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f8162739ff67eb0a1f56fdea2376d6d8","SpanId":"c5895b2d8a89d289","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000032","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.0998962+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f8162739ff67eb0a1f56fdea2376d6d8","SpanId":"c5895b2d8a89d289","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000032","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1017463+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f8162739ff67eb0a1f56fdea2376d6d8","SpanId":"c5895b2d8a89d289","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5C:00000032","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1021589+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f8162739ff67eb0a1f56fdea2376d6d8","SpanId":"c5895b2d8a89d289","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000032","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1024276+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f8162739ff67eb0a1f56fdea2376d6d8","SpanId":"c5895b2d8a89d289","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000032","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1036795+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f8162739ff67eb0a1f56fdea2376d6d8","SpanId":"c5895b2d8a89d289","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000032","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1041388+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"f8162739ff67eb0a1f56fdea2376d6d8","SpanId":"c5895b2d8a89d289","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000032","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:13.1042952+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"f8162739ff67eb0a1f56fdea2376d6d8","SpanId":"c5895b2d8a89d289","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000032","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:13.1044795+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"f8162739ff67eb0a1f56fdea2376d6d8","SpanId":"c5895b2d8a89d289","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000032","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:13.1046472+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f8162739ff67eb0a1f56fdea2376d6d8","SpanId":"c5895b2d8a89d289","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000032","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1048621+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f8162739ff67eb0a1f56fdea2376d6d8","SpanId":"c5895b2d8a89d289","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.1748,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000032","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1050537+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f8162739ff67eb0a1f56fdea2376d6d8","SpanId":"c5895b2d8a89d289","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000032","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1052883+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f8162739ff67eb0a1f56fdea2376d6d8","SpanId":"c5895b2d8a89d289","Properties":{"ElapsedMilliseconds":5.8893,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000032","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1106864+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"401ed6a30c0ffe511b2545aeb8b942d2","SpanId":"f729ba9ea1d9fbf2","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000033","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1111574+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"401ed6a30c0ffe511b2545aeb8b942d2","SpanId":"f729ba9ea1d9fbf2","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000033","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1114093+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"401ed6a30c0ffe511b2545aeb8b942d2","SpanId":"f729ba9ea1d9fbf2","Properties":{"ElapsedMilliseconds":0.7313,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000033","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1139636+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9e41ace6bed7a4df5a6487ccd681e21b","SpanId":"773be51f55a6090e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000034","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1143701+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9e41ace6bed7a4df5a6487ccd681e21b","SpanId":"773be51f55a6090e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000034","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1145658+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9e41ace6bed7a4df5a6487ccd681e21b","SpanId":"773be51f55a6090e","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000034","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1147802+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9e41ace6bed7a4df5a6487ccd681e21b","SpanId":"773be51f55a6090e","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000034","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1154037+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"9e41ace6bed7a4df5a6487ccd681e21b","SpanId":"773be51f55a6090e","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000034","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1168435+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9e41ace6bed7a4df5a6487ccd681e21b","SpanId":"773be51f55a6090e","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000034","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1173701+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"9e41ace6bed7a4df5a6487ccd681e21b","SpanId":"773be51f55a6090e","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000034","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1175657+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9e41ace6bed7a4df5a6487ccd681e21b","SpanId":"773be51f55a6090e","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000034","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1178103+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9e41ace6bed7a4df5a6487ccd681e21b","SpanId":"773be51f55a6090e","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.8055,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000034","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1180122+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9e41ace6bed7a4df5a6487ccd681e21b","SpanId":"773be51f55a6090e","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000034","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:13.1182421+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9e41ace6bed7a4df5a6487ccd681e21b","SpanId":"773be51f55a6090e","Properties":{"ElapsedMilliseconds":4.2807,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000034","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:21.5212452+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"afbad2e8b4e529ebbc239191013839a2","SpanId":"89b8a000d907b4a6","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000035","RequestPath":"/api/auth/register","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:21.5216175+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"afbad2e8b4e529ebbc239191013839a2","SpanId":"89b8a000d907b4a6","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000035","RequestPath":"/api/auth/register","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:21.5221177+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"afbad2e8b4e529ebbc239191013839a2","SpanId":"89b8a000d907b4a6","Properties":{"ElapsedMilliseconds":0.8879,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000035","RequestPath":"/api/auth/register","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:21.5252731+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"82dfb9dad789b9aaa36b6bd2d594cbbf","SpanId":"8c980b4113bf15fa","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000036","RequestPath":"/api/auth/register","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:21.5256908+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"82dfb9dad789b9aaa36b6bd2d594cbbf","SpanId":"8c980b4113bf15fa","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000036","RequestPath":"/api/auth/register","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:21.5259306+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"82dfb9dad789b9aaa36b6bd2d594cbbf","SpanId":"8c980b4113bf15fa","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000036","RequestPath":"/api/auth/register","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:21.5296404+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"82dfb9dad789b9aaa36b6bd2d594cbbf","SpanId":"8c980b4113bf15fa","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.Models.User]] Register(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3259f834-1ab2-4dc4-bf2b-026b73d19f02","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000036","RequestPath":"/api/auth/register","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:21.5324562+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"82dfb9dad789b9aaa36b6bd2d594cbbf","SpanId":"8c980b4113bf15fa","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"3259f834-1ab2-4dc4-bf2b-026b73d19f02","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000036","RequestPath":"/api/auth/register","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:21.5327198+03:00","Level":"Information","MessageTemplate":"Initiated user registration by ","TraceId":"82dfb9dad789b9aaa36b6bd2d594cbbf","SpanId":"8c980b4113bf15fa","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"3259f834-1ab2-4dc4-bf2b-026b73d19f02","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000036","RequestPath":"/api/auth/register","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:21.5340249+03:00","Level":"Information","MessageTemplate":"Adding user to DB","TraceId":"82dfb9dad789b9aaa36b6bd2d594cbbf","SpanId":"8c980b4113bf15fa","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"3259f834-1ab2-4dc4-bf2b-026b73d19f02","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000036","RequestPath":"/api/auth/register","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:21.6358078+03:00","Level":"Error","MessageTemplate":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"82dfb9dad789b9aaa36b6bd2d594cbbf","SpanId":"8c980b4113bf15fa","Properties":{"elapsed":"5","parameters":"@p0='?', @p1='?' (DbType = Int32), @p2='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"Users\" (\"PasswordHash\", \"Role\", \"Username\")\nVALUES (@p0, @p1, @p2)\nRETURNING \"ID\";","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"3259f834-1ab2-4dc4-bf2b-026b73d19f02","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000036","RequestPath":"/api/auth/register","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:21.6468034+03:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"82dfb9dad789b9aaa36b6bd2d594cbbf","SpanId":"8c980b4113bf15fa","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"AK_Users_Username\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"AK_Users_Username\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: Users\n    ConstraintName: AK_Users_Username\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"DataContext","newline":"\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"AK_Users_Username\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"AK_Users_Username\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: Users\n    ConstraintName: AK_Users_Username\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","username":"1234567890","ActionId":"3259f834-1ab2-4dc4-bf2b-026b73d19f02","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000036","RequestPath":"/api/auth/register","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:21.6506914+03:00","Level":"Warning","MessageTemplate":"A user with such username already exists.","TraceId":"82dfb9dad789b9aaa36b6bd2d594cbbf","SpanId":"8c980b4113bf15fa","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"3259f834-1ab2-4dc4-bf2b-026b73d19f02","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000036","RequestPath":"/api/auth/register","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:21.6509993+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"82dfb9dad789b9aaa36b6bd2d594cbbf","SpanId":"8c980b4113bf15fa","Properties":{"ObjectResultType":"ObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3259f834-1ab2-4dc4-bf2b-026b73d19f02","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000036","RequestPath":"/api/auth/register","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:21.6512421+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"82dfb9dad789b9aaa36b6bd2d594cbbf","SpanId":"8c980b4113bf15fa","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","ElapsedMilliseconds":121.2557,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000036","RequestPath":"/api/auth/register","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:21.6514590+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"82dfb9dad789b9aaa36b6bd2d594cbbf","SpanId":"8c980b4113bf15fa","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000036","RequestPath":"/api/auth/register","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:21.6516928+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"82dfb9dad789b9aaa36b6bd2d594cbbf","SpanId":"8c980b4113bf15fa","Properties":{"ElapsedMilliseconds":126.4397,"StatusCode":409,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000036","RequestPath":"/api/auth/register","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.4710943+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"02195a312b00f3812f54475aea84ad86","SpanId":"407cc966143cc22b","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000037","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.4715452+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"02195a312b00f3812f54475aea84ad86","SpanId":"407cc966143cc22b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000037","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.4719804+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"02195a312b00f3812f54475aea84ad86","SpanId":"407cc966143cc22b","Properties":{"ElapsedMilliseconds":0.7683,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000037","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.4745661+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3e31ffdcce073d5864d05f09ede6a721","SpanId":"cbc0ea81cd2a2fd7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000038","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.4751057+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"3e31ffdcce073d5864d05f09ede6a721","SpanId":"cbc0ea81cd2a2fd7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000038","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.4753184+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3e31ffdcce073d5864d05f09ede6a721","SpanId":"cbc0ea81cd2a2fd7","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000038","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.4755353+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3e31ffdcce073d5864d05f09ede6a721","SpanId":"cbc0ea81cd2a2fd7","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000038","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.4760596+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"3e31ffdcce073d5864d05f09ede6a721","SpanId":"cbc0ea81cd2a2fd7","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000038","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.4762237+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"3e31ffdcce073d5864d05f09ede6a721","SpanId":"cbc0ea81cd2a2fd7","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000038","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.4782265+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3e31ffdcce073d5864d05f09ede6a721","SpanId":"cbc0ea81cd2a2fd7","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000038","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.5616368+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"3e31ffdcce073d5864d05f09ede6a721","SpanId":"cbc0ea81cd2a2fd7","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000038","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.5626176+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3e31ffdcce073d5864d05f09ede6a721","SpanId":"cbc0ea81cd2a2fd7","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000038","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.5629961+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"3e31ffdcce073d5864d05f09ede6a721","SpanId":"cbc0ea81cd2a2fd7","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000038","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.5639597+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3e31ffdcce073d5864d05f09ede6a721","SpanId":"cbc0ea81cd2a2fd7","Properties":{"elapsed":"0","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000038","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.5654157+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3e31ffdcce073d5864d05f09ede6a721","SpanId":"cbc0ea81cd2a2fd7","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000038","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.5697305+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3e31ffdcce073d5864d05f09ede6a721","SpanId":"cbc0ea81cd2a2fd7","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:00000038","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.5700672+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3e31ffdcce073d5864d05f09ede6a721","SpanId":"cbc0ea81cd2a2fd7","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":94.2937,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:00000038","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.5702882+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3e31ffdcce073d5864d05f09ede6a721","SpanId":"cbc0ea81cd2a2fd7","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:00000038","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.5705170+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3e31ffdcce073d5864d05f09ede6a721","SpanId":"cbc0ea81cd2a2fd7","Properties":{"ElapsedMilliseconds":95.9481,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000038","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.5791215+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4ff140b0a2ceb2af929b95911dc16886","SpanId":"483cd374dffe52c7","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000039","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.5796230+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"4ff140b0a2ceb2af929b95911dc16886","SpanId":"483cd374dffe52c7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:00000039","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.5798229+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4ff140b0a2ceb2af929b95911dc16886","SpanId":"483cd374dffe52c7","Properties":{"ElapsedMilliseconds":0.7008,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:00000039","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.5825114+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2c548db72c56ea66926be15ef8911bdf","SpanId":"35ec4269a52e09be","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000003A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.5829348+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"2c548db72c56ea66926be15ef8911bdf","SpanId":"35ec4269a52e09be","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000003A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.5845962+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2c548db72c56ea66926be15ef8911bdf","SpanId":"35ec4269a52e09be","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5C:0000003A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.5851192+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2c548db72c56ea66926be15ef8911bdf","SpanId":"35ec4269a52e09be","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000003A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.5854152+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2c548db72c56ea66926be15ef8911bdf","SpanId":"35ec4269a52e09be","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.5938229+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2c548db72c56ea66926be15ef8911bdf","SpanId":"35ec4269a52e09be","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.5942240+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"2c548db72c56ea66926be15ef8911bdf","SpanId":"35ec4269a52e09be","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.5943509+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"2c548db72c56ea66926be15ef8911bdf","SpanId":"35ec4269a52e09be","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.5944665+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"2c548db72c56ea66926be15ef8911bdf","SpanId":"35ec4269a52e09be","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.5946249+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2c548db72c56ea66926be15ef8911bdf","SpanId":"35ec4269a52e09be","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.5948317+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2c548db72c56ea66926be15ef8911bdf","SpanId":"35ec4269a52e09be","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":9.0721,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000003A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.5950425+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2c548db72c56ea66926be15ef8911bdf","SpanId":"35ec4269a52e09be","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000003A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.5952500+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2c548db72c56ea66926be15ef8911bdf","SpanId":"35ec4269a52e09be","Properties":{"ElapsedMilliseconds":12.739,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000003A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.6004103+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"41321de41a0c993fb065c0105effabbe","SpanId":"acf6c1d8f3dc6447","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000003B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.6007910+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"41321de41a0c993fb065c0105effabbe","SpanId":"acf6c1d8f3dc6447","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000003B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.6009780+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"41321de41a0c993fb065c0105effabbe","SpanId":"acf6c1d8f3dc6447","Properties":{"ElapsedMilliseconds":0.5729,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000003B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.6035876+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"786a021ff8c10a080dc6d1ecf3147428","SpanId":"75616339a5645ec7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000003C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.6039949+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"786a021ff8c10a080dc6d1ecf3147428","SpanId":"75616339a5645ec7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000003C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.6041605+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"786a021ff8c10a080dc6d1ecf3147428","SpanId":"75616339a5645ec7","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000003C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.6043372+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"786a021ff8c10a080dc6d1ecf3147428","SpanId":"75616339a5645ec7","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.6047913+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"786a021ff8c10a080dc6d1ecf3147428","SpanId":"75616339a5645ec7","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.6061559+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"786a021ff8c10a080dc6d1ecf3147428","SpanId":"75616339a5645ec7","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.6065610+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"786a021ff8c10a080dc6d1ecf3147428","SpanId":"75616339a5645ec7","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.6067770+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"786a021ff8c10a080dc6d1ecf3147428","SpanId":"75616339a5645ec7","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.6069800+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"786a021ff8c10a080dc6d1ecf3147428","SpanId":"75616339a5645ec7","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.431,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000003C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.6071504+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"786a021ff8c10a080dc6d1ecf3147428","SpanId":"75616339a5645ec7","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000003C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.6073271+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"786a021ff8c10a080dc6d1ecf3147428","SpanId":"75616339a5645ec7","Properties":{"ElapsedMilliseconds":3.7297,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000003C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.7577250+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"27cb921191da7a81f09a6042199da32a","SpanId":"59c172067c46e65b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000003D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.7581584+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"27cb921191da7a81f09a6042199da32a","SpanId":"59c172067c46e65b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000003D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.7587011+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"27cb921191da7a81f09a6042199da32a","SpanId":"59c172067c46e65b","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000003D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.7590656+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"27cb921191da7a81f09a6042199da32a","SpanId":"59c172067c46e65b","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.7597213+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"27cb921191da7a81f09a6042199da32a","SpanId":"59c172067c46e65b","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.7598621+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"27cb921191da7a81f09a6042199da32a","SpanId":"59c172067c46e65b","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.7609129+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27cb921191da7a81f09a6042199da32a","SpanId":"59c172067c46e65b","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.8317310+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"27cb921191da7a81f09a6042199da32a","SpanId":"59c172067c46e65b","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.8329775+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27cb921191da7a81f09a6042199da32a","SpanId":"59c172067c46e65b","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.8334502+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"27cb921191da7a81f09a6042199da32a","SpanId":"59c172067c46e65b","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.8343517+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27cb921191da7a81f09a6042199da32a","SpanId":"59c172067c46e65b","Properties":{"elapsed":"0","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.8357782+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27cb921191da7a81f09a6042199da32a","SpanId":"59c172067c46e65b","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.8400409+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"27cb921191da7a81f09a6042199da32a","SpanId":"59c172067c46e65b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8404936+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"27cb921191da7a81f09a6042199da32a","SpanId":"59c172067c46e65b","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":81.1055,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000003D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8406749+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"27cb921191da7a81f09a6042199da32a","SpanId":"59c172067c46e65b","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000003D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8408729+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"27cb921191da7a81f09a6042199da32a","SpanId":"59c172067c46e65b","Properties":{"ElapsedMilliseconds":83.1491,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000003D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8479601+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"40a2450cf83b427e08ef94cfaf2cb8c3","SpanId":"95646562d612fd27","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000003E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8483918+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"40a2450cf83b427e08ef94cfaf2cb8c3","SpanId":"95646562d612fd27","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000003E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8498188+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"40a2450cf83b427e08ef94cfaf2cb8c3","SpanId":"95646562d612fd27","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5C:0000003E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8502497+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"40a2450cf83b427e08ef94cfaf2cb8c3","SpanId":"95646562d612fd27","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000003E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8504961+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"40a2450cf83b427e08ef94cfaf2cb8c3","SpanId":"95646562d612fd27","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8515778+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"40a2450cf83b427e08ef94cfaf2cb8c3","SpanId":"95646562d612fd27","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8521624+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"40a2450cf83b427e08ef94cfaf2cb8c3","SpanId":"95646562d612fd27","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.8523589+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"40a2450cf83b427e08ef94cfaf2cb8c3","SpanId":"95646562d612fd27","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.8524994+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"40a2450cf83b427e08ef94cfaf2cb8c3","SpanId":"95646562d612fd27","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:52:39.8528533+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"40a2450cf83b427e08ef94cfaf2cb8c3","SpanId":"95646562d612fd27","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8532330+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"40a2450cf83b427e08ef94cfaf2cb8c3","SpanId":"95646562d612fd27","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.5057,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000003E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8534353+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"40a2450cf83b427e08ef94cfaf2cb8c3","SpanId":"95646562d612fd27","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000003E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8536661+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"40a2450cf83b427e08ef94cfaf2cb8c3","SpanId":"95646562d612fd27","Properties":{"ElapsedMilliseconds":5.703,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000003E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8587098+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c71c4336c9758c462e192efd2541ce5a","SpanId":"010da107c454cca8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000003F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8591933+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c71c4336c9758c462e192efd2541ce5a","SpanId":"010da107c454cca8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5C:0000003F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8594542+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c71c4336c9758c462e192efd2541ce5a","SpanId":"010da107c454cca8","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000003F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8596456+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c71c4336c9758c462e192efd2541ce5a","SpanId":"010da107c454cca8","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8602188+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"c71c4336c9758c462e192efd2541ce5a","SpanId":"010da107c454cca8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8612269+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c71c4336c9758c462e192efd2541ce5a","SpanId":"010da107c454cca8","Properties":{"elapsed":"0","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8616045+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"c71c4336c9758c462e192efd2541ce5a","SpanId":"010da107c454cca8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8617633+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c71c4336c9758c462e192efd2541ce5a","SpanId":"010da107c454cca8","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5C:0000003F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8619746+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c71c4336c9758c462e192efd2541ce5a","SpanId":"010da107c454cca8","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.0591,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5C:0000003F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8621328+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c71c4336c9758c462e192efd2541ce5a","SpanId":"010da107c454cca8","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5C:0000003F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:52:39.8623895+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c71c4336c9758c462e192efd2541ce5a","SpanId":"010da107c454cca8","Properties":{"ElapsedMilliseconds":3.6854,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5C:0000003F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5C"}}
{"Timestamp":"2025-09-02T23:54:05.7390593+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"425c1401e4173b1acd016844bf21a76a","SpanId":"38ec2415062b13fd","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5D:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.7394533+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"425c1401e4173b1acd016844bf21a76a","SpanId":"38ec2415062b13fd","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5D:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.7396097+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"425c1401e4173b1acd016844bf21a76a","SpanId":"38ec2415062b13fd","Properties":{"ElapsedMilliseconds":0.5529,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5D:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.7419952+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a391372e75374d2ab24566c659516419","SpanId":"14bf6967bbfcc474","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5D:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.7423547+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a391372e75374d2ab24566c659516419","SpanId":"14bf6967bbfcc474","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5D:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.7426323+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a391372e75374d2ab24566c659516419","SpanId":"14bf6967bbfcc474","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5D:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.7429102+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a391372e75374d2ab24566c659516419","SpanId":"14bf6967bbfcc474","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.7439748+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"a391372e75374d2ab24566c659516419","SpanId":"14bf6967bbfcc474","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5D","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:54:05.7441433+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"a391372e75374d2ab24566c659516419","SpanId":"14bf6967bbfcc474","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5D","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:54:05.7456728+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a391372e75374d2ab24566c659516419","SpanId":"14bf6967bbfcc474","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5D","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:54:05.8157904+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"a391372e75374d2ab24566c659516419","SpanId":"14bf6967bbfcc474","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5D","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:54:05.8169812+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a391372e75374d2ab24566c659516419","SpanId":"14bf6967bbfcc474","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5D","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:54:05.8173225+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"a391372e75374d2ab24566c659516419","SpanId":"14bf6967bbfcc474","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5D","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:54:05.8183843+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a391372e75374d2ab24566c659516419","SpanId":"14bf6967bbfcc474","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5D","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:54:05.8197718+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a391372e75374d2ab24566c659516419","SpanId":"14bf6967bbfcc474","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5D","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:54:05.8233749+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a391372e75374d2ab24566c659516419","SpanId":"14bf6967bbfcc474","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8238036+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a391372e75374d2ab24566c659516419","SpanId":"14bf6967bbfcc474","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":80.5247,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5D:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8239974+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a391372e75374d2ab24566c659516419","SpanId":"14bf6967bbfcc474","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5D:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8242114+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a391372e75374d2ab24566c659516419","SpanId":"14bf6967bbfcc474","Properties":{"ElapsedMilliseconds":82.2132,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5D:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8311476+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0362730ecf09192c4276b4859dfc82f4","SpanId":"d63d4bbbe8b756bb","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5D:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8315619+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"0362730ecf09192c4276b4859dfc82f4","SpanId":"d63d4bbbe8b756bb","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5D:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8317592+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0362730ecf09192c4276b4859dfc82f4","SpanId":"d63d4bbbe8b756bb","Properties":{"ElapsedMilliseconds":0.6141,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5D:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8343713+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ba1fab57614880b23d95dde61a54b49d","SpanId":"4046946db1452a7b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5D:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8348702+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ba1fab57614880b23d95dde61a54b49d","SpanId":"4046946db1452a7b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5D:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8367259+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ba1fab57614880b23d95dde61a54b49d","SpanId":"4046946db1452a7b","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5D:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8373515+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ba1fab57614880b23d95dde61a54b49d","SpanId":"4046946db1452a7b","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5D:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8376426+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ba1fab57614880b23d95dde61a54b49d","SpanId":"4046946db1452a7b","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8387311+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ba1fab57614880b23d95dde61a54b49d","SpanId":"4046946db1452a7b","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8392384+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"ba1fab57614880b23d95dde61a54b49d","SpanId":"4046946db1452a7b","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5D","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:54:05.8393919+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"ba1fab57614880b23d95dde61a54b49d","SpanId":"4046946db1452a7b","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5D","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:54:05.8395294+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"ba1fab57614880b23d95dde61a54b49d","SpanId":"4046946db1452a7b","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5D","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:54:05.8396917+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ba1fab57614880b23d95dde61a54b49d","SpanId":"4046946db1452a7b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8399067+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ba1fab57614880b23d95dde61a54b49d","SpanId":"4046946db1452a7b","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":1.9705,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5D:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8400659+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ba1fab57614880b23d95dde61a54b49d","SpanId":"4046946db1452a7b","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5D:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8402677+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ba1fab57614880b23d95dde61a54b49d","SpanId":"4046946db1452a7b","Properties":{"ElapsedMilliseconds":5.9048,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5D:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8455946+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fb7cd764b490e2c7972f395b4aeb03de","SpanId":"701ecb2ded799d12","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5D:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8460283+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"fb7cd764b490e2c7972f395b4aeb03de","SpanId":"701ecb2ded799d12","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5D:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8462254+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fb7cd764b490e2c7972f395b4aeb03de","SpanId":"701ecb2ded799d12","Properties":{"ElapsedMilliseconds":0.6315,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5D:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8489840+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b5e7e5c69dfa60569ff83da6ac655481","SpanId":"7d24513305d232c8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5D:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8493661+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b5e7e5c69dfa60569ff83da6ac655481","SpanId":"7d24513305d232c8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5D:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8495433+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b5e7e5c69dfa60569ff83da6ac655481","SpanId":"7d24513305d232c8","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5D:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8497224+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b5e7e5c69dfa60569ff83da6ac655481","SpanId":"7d24513305d232c8","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8501908+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"b5e7e5c69dfa60569ff83da6ac655481","SpanId":"7d24513305d232c8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8512435+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b5e7e5c69dfa60569ff83da6ac655481","SpanId":"7d24513305d232c8","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8517227+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"b5e7e5c69dfa60569ff83da6ac655481","SpanId":"7d24513305d232c8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8519774+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b5e7e5c69dfa60569ff83da6ac655481","SpanId":"7d24513305d232c8","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5D:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8522070+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b5e7e5c69dfa60569ff83da6ac655481","SpanId":"7d24513305d232c8","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.2126,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5D:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8523830+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b5e7e5c69dfa60569ff83da6ac655481","SpanId":"7d24513305d232c8","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5D:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:54:05.8526518+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b5e7e5c69dfa60569ff83da6ac655481","SpanId":"7d24513305d232c8","Properties":{"ElapsedMilliseconds":3.6682,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5D:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5D"}}
{"Timestamp":"2025-09-02T23:55:55.9394680+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fb1bfe8df25044dc9f8a020c99449f88","SpanId":"f2f57364990dd069","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":62,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5E"}}
{"Timestamp":"2025-09-02T23:55:55.9400190+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fb1bfe8df25044dc9f8a020c99449f88","SpanId":"f2f57364990dd069","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5E"}}
{"Timestamp":"2025-09-02T23:55:55.9402017+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fb1bfe8df25044dc9f8a020c99449f88","SpanId":"f2f57364990dd069","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5E"}}
{"Timestamp":"2025-09-02T23:55:55.9407691+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"fb1bfe8df25044dc9f8a020c99449f88","SpanId":"f2f57364990dd069","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5E","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:55:55.9409395+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"fb1bfe8df25044dc9f8a020c99449f88","SpanId":"f2f57364990dd069","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5E","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:55:55.9427191+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb1bfe8df25044dc9f8a020c99449f88","SpanId":"f2f57364990dd069","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5E","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:55:56.0218433+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"fb1bfe8df25044dc9f8a020c99449f88","SpanId":"f2f57364990dd069","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5E","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:55:56.0229884+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb1bfe8df25044dc9f8a020c99449f88","SpanId":"f2f57364990dd069","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5E","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:55:56.0235276+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"fb1bfe8df25044dc9f8a020c99449f88","SpanId":"f2f57364990dd069","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5E","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:55:56.0249642+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb1bfe8df25044dc9f8a020c99449f88","SpanId":"f2f57364990dd069","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5E","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:55:56.0264591+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb1bfe8df25044dc9f8a020c99449f88","SpanId":"f2f57364990dd069","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5E","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:55:56.0288230+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fb1bfe8df25044dc9f8a020c99449f88","SpanId":"f2f57364990dd069","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5E"}}
{"Timestamp":"2025-09-02T23:55:56.0291292+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fb1bfe8df25044dc9f8a020c99449f88","SpanId":"f2f57364990dd069","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":88.7126,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5E"}}
{"Timestamp":"2025-09-02T23:55:56.0293160+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fb1bfe8df25044dc9f8a020c99449f88","SpanId":"f2f57364990dd069","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5E"}}
{"Timestamp":"2025-09-02T23:55:56.0295341+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fb1bfe8df25044dc9f8a020c99449f88","SpanId":"f2f57364990dd069","Properties":{"ElapsedMilliseconds":90.0615,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5E"}}
{"Timestamp":"2025-09-02T23:57:41.4053275+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a493859aac33d4f39b5705e171645795","SpanId":"76396c58f6b0b2ed","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.4296098+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a493859aac33d4f39b5705e171645795","SpanId":"76396c58f6b0b2ed","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.4300860+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a493859aac33d4f39b5705e171645795","SpanId":"76396c58f6b0b2ed","Properties":{"ElapsedMilliseconds":24.7765,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.4359602+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"45365bc5269bcedbcc566f78ed63fea5","SpanId":"969223be60dced72","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.4362932+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"45365bc5269bcedbcc566f78ed63fea5","SpanId":"969223be60dced72","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.4365504+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"45365bc5269bcedbcc566f78ed63fea5","SpanId":"969223be60dced72","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.4367478+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"45365bc5269bcedbcc566f78ed63fea5","SpanId":"969223be60dced72","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.4373738+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"45365bc5269bcedbcc566f78ed63fea5","SpanId":"969223be60dced72","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:41.4375348+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"45365bc5269bcedbcc566f78ed63fea5","SpanId":"969223be60dced72","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:41.4500584+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"45365bc5269bcedbcc566f78ed63fea5","SpanId":"969223be60dced72","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:41.5206401+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"45365bc5269bcedbcc566f78ed63fea5","SpanId":"969223be60dced72","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:41.5217373+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"45365bc5269bcedbcc566f78ed63fea5","SpanId":"969223be60dced72","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:41.5221158+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"45365bc5269bcedbcc566f78ed63fea5","SpanId":"969223be60dced72","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:41.5232995+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"45365bc5269bcedbcc566f78ed63fea5","SpanId":"969223be60dced72","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:41.5249148+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"45365bc5269bcedbcc566f78ed63fea5","SpanId":"969223be60dced72","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:41.5271288+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"45365bc5269bcedbcc566f78ed63fea5","SpanId":"969223be60dced72","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5274906+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"45365bc5269bcedbcc566f78ed63fea5","SpanId":"969223be60dced72","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":90.4648,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5F:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5277718+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"45365bc5269bcedbcc566f78ed63fea5","SpanId":"969223be60dced72","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5279828+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"45365bc5269bcedbcc566f78ed63fea5","SpanId":"969223be60dced72","Properties":{"ElapsedMilliseconds":92.0267,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5374461+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7710f5497977fe599a91c39e5dc8e26f","SpanId":"35f8a681be449f5a","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5380074+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"7710f5497977fe599a91c39e5dc8e26f","SpanId":"35f8a681be449f5a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5382738+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7710f5497977fe599a91c39e5dc8e26f","SpanId":"35f8a681be449f5a","Properties":{"ElapsedMilliseconds":0.8296,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5426820+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3c6e8d85d598089910ba746611595281","SpanId":"3958b70275b97c67","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5430766+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"3c6e8d85d598089910ba746611595281","SpanId":"3958b70275b97c67","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5452302+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3c6e8d85d598089910ba746611595281","SpanId":"3958b70275b97c67","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5F:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5456626+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3c6e8d85d598089910ba746611595281","SpanId":"3958b70275b97c67","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5458373+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3c6e8d85d598089910ba746611595281","SpanId":"3958b70275b97c67","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5467568+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3c6e8d85d598089910ba746611595281","SpanId":"3958b70275b97c67","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5471084+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"3c6e8d85d598089910ba746611595281","SpanId":"3958b70275b97c67","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:41.5473488+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"3c6e8d85d598089910ba746611595281","SpanId":"3958b70275b97c67","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:41.5475065+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"3c6e8d85d598089910ba746611595281","SpanId":"3958b70275b97c67","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:41.5476943+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3c6e8d85d598089910ba746611595281","SpanId":"3958b70275b97c67","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5479392+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3c6e8d85d598089910ba746611595281","SpanId":"3958b70275b97c67","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":1.8743,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5F:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5481525+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3c6e8d85d598089910ba746611595281","SpanId":"3958b70275b97c67","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5484386+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3c6e8d85d598089910ba746611595281","SpanId":"3958b70275b97c67","Properties":{"ElapsedMilliseconds":5.7595,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5532049+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"80f12a77ecece8255a776b1746c38361","SpanId":"cbaa3381bd8f50f7","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5539589+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"80f12a77ecece8255a776b1746c38361","SpanId":"cbaa3381bd8f50f7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5541785+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"80f12a77ecece8255a776b1746c38361","SpanId":"cbaa3381bd8f50f7","Properties":{"ElapsedMilliseconds":0.9754,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5567438+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8ae813dfba62905f2610091933ab99fa","SpanId":"2fa8800ac8f3255d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5571454+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"8ae813dfba62905f2610091933ab99fa","SpanId":"2fa8800ac8f3255d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5574281+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8ae813dfba62905f2610091933ab99fa","SpanId":"2fa8800ac8f3255d","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5576247+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8ae813dfba62905f2610091933ab99fa","SpanId":"2fa8800ac8f3255d","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5581171+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"8ae813dfba62905f2610091933ab99fa","SpanId":"2fa8800ac8f3255d","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5595865+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8ae813dfba62905f2610091933ab99fa","SpanId":"2fa8800ac8f3255d","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5600597+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"8ae813dfba62905f2610091933ab99fa","SpanId":"2fa8800ac8f3255d","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5603116+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8ae813dfba62905f2610091933ab99fa","SpanId":"2fa8800ac8f3255d","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5605170+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8ae813dfba62905f2610091933ab99fa","SpanId":"2fa8800ac8f3255d","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.6431,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5F:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5607059+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8ae813dfba62905f2610091933ab99fa","SpanId":"2fa8800ac8f3255d","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:41.5609143+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8ae813dfba62905f2610091933ab99fa","SpanId":"2fa8800ac8f3255d","Properties":{"ElapsedMilliseconds":4.1823,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.2406279+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f987f70612ae62482e0e917c5cf49b01","SpanId":"3bea6891ce370db0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.2409269+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f987f70612ae62482e0e917c5cf49b01","SpanId":"3bea6891ce370db0","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.2411292+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f987f70612ae62482e0e917c5cf49b01","SpanId":"3bea6891ce370db0","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.2413597+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f987f70612ae62482e0e917c5cf49b01","SpanId":"3bea6891ce370db0","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.2417982+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"f987f70612ae62482e0e917c5cf49b01","SpanId":"3bea6891ce370db0","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.2419416+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"f987f70612ae62482e0e917c5cf49b01","SpanId":"3bea6891ce370db0","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.2429174+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f987f70612ae62482e0e917c5cf49b01","SpanId":"3bea6891ce370db0","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.3137617+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"f987f70612ae62482e0e917c5cf49b01","SpanId":"3bea6891ce370db0","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.3148602+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f987f70612ae62482e0e917c5cf49b01","SpanId":"3bea6891ce370db0","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.3152358+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"f987f70612ae62482e0e917c5cf49b01","SpanId":"3bea6891ce370db0","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.3161835+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f987f70612ae62482e0e917c5cf49b01","SpanId":"3bea6891ce370db0","Properties":{"elapsed":"0","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.3175737+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f987f70612ae62482e0e917c5cf49b01","SpanId":"3bea6891ce370db0","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.3218937+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f987f70612ae62482e0e917c5cf49b01","SpanId":"3bea6891ce370db0","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3221918+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f987f70612ae62482e0e917c5cf49b01","SpanId":"3bea6891ce370db0","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":80.6034,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5F:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3223831+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f987f70612ae62482e0e917c5cf49b01","SpanId":"3bea6891ce370db0","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3225819+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f987f70612ae62482e0e917c5cf49b01","SpanId":"3bea6891ce370db0","Properties":{"ElapsedMilliseconds":81.9554,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3301278+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"da14b0e7e7a1b928d88d85422024a5d6","SpanId":"1b0885075312ca7c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3305360+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"da14b0e7e7a1b928d88d85422024a5d6","SpanId":"1b0885075312ca7c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3319145+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"da14b0e7e7a1b928d88d85422024a5d6","SpanId":"1b0885075312ca7c","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5F:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3323862+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"da14b0e7e7a1b928d88d85422024a5d6","SpanId":"1b0885075312ca7c","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3326206+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"da14b0e7e7a1b928d88d85422024a5d6","SpanId":"1b0885075312ca7c","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3337102+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"da14b0e7e7a1b928d88d85422024a5d6","SpanId":"1b0885075312ca7c","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3340890+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"da14b0e7e7a1b928d88d85422024a5d6","SpanId":"1b0885075312ca7c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.3343253+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"da14b0e7e7a1b928d88d85422024a5d6","SpanId":"1b0885075312ca7c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.3345206+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"da14b0e7e7a1b928d88d85422024a5d6","SpanId":"1b0885075312ca7c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.3349236+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"da14b0e7e7a1b928d88d85422024a5d6","SpanId":"1b0885075312ca7c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3352181+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"da14b0e7e7a1b928d88d85422024a5d6","SpanId":"1b0885075312ca7c","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.3624,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5F:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3354398+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"da14b0e7e7a1b928d88d85422024a5d6","SpanId":"1b0885075312ca7c","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3358672+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"da14b0e7e7a1b928d88d85422024a5d6","SpanId":"1b0885075312ca7c","Properties":{"ElapsedMilliseconds":5.734,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3414181+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"129ee1e703c69d85113d998a0c58893f","SpanId":"6f0a0e70dcfa0c6a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3418760+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"129ee1e703c69d85113d998a0c58893f","SpanId":"6f0a0e70dcfa0c6a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3420717+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"129ee1e703c69d85113d998a0c58893f","SpanId":"6f0a0e70dcfa0c6a","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3423796+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"129ee1e703c69d85113d998a0c58893f","SpanId":"6f0a0e70dcfa0c6a","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3430269+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"129ee1e703c69d85113d998a0c58893f","SpanId":"6f0a0e70dcfa0c6a","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3440544+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"129ee1e703c69d85113d998a0c58893f","SpanId":"6f0a0e70dcfa0c6a","Properties":{"elapsed":"0","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3443520+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"129ee1e703c69d85113d998a0c58893f","SpanId":"6f0a0e70dcfa0c6a","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3445505+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"129ee1e703c69d85113d998a0c58893f","SpanId":"6f0a0e70dcfa0c6a","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3447473+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"129ee1e703c69d85113d998a0c58893f","SpanId":"6f0a0e70dcfa0c6a","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.1486,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5F:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3449499+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"129ee1e703c69d85113d998a0c58893f","SpanId":"6f0a0e70dcfa0c6a","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.3451285+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"129ee1e703c69d85113d998a0c58893f","SpanId":"6f0a0e70dcfa0c6a","Properties":{"ElapsedMilliseconds":3.7174,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.5908573+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ea01a022bfbd6147c4c3221c1e51a913","SpanId":"aa0a96d2c8cc3439","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.5912210+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ea01a022bfbd6147c4c3221c1e51a913","SpanId":"aa0a96d2c8cc3439","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.5914763+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ea01a022bfbd6147c4c3221c1e51a913","SpanId":"aa0a96d2c8cc3439","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.5916481+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ea01a022bfbd6147c4c3221c1e51a913","SpanId":"aa0a96d2c8cc3439","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.5921165+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"ea01a022bfbd6147c4c3221c1e51a913","SpanId":"aa0a96d2c8cc3439","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.5922470+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"ea01a022bfbd6147c4c3221c1e51a913","SpanId":"aa0a96d2c8cc3439","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.5934741+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ea01a022bfbd6147c4c3221c1e51a913","SpanId":"aa0a96d2c8cc3439","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.6635848+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"ea01a022bfbd6147c4c3221c1e51a913","SpanId":"aa0a96d2c8cc3439","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.6648554+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ea01a022bfbd6147c4c3221c1e51a913","SpanId":"aa0a96d2c8cc3439","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.6651492+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"ea01a022bfbd6147c4c3221c1e51a913","SpanId":"aa0a96d2c8cc3439","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.6660569+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ea01a022bfbd6147c4c3221c1e51a913","SpanId":"aa0a96d2c8cc3439","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.6673845+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ea01a022bfbd6147c4c3221c1e51a913","SpanId":"aa0a96d2c8cc3439","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.6716095+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ea01a022bfbd6147c4c3221c1e51a913","SpanId":"aa0a96d2c8cc3439","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6720277+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ea01a022bfbd6147c4c3221c1e51a913","SpanId":"aa0a96d2c8cc3439","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":80.1636,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5F:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6723474+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ea01a022bfbd6147c4c3221c1e51a913","SpanId":"aa0a96d2c8cc3439","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6726066+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ea01a022bfbd6147c4c3221c1e51a913","SpanId":"aa0a96d2c8cc3439","Properties":{"ElapsedMilliseconds":81.7525,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6809698+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c31ac66cee9143875cd938809d743539","SpanId":"478fd5f2f741d4a0","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6813798+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c31ac66cee9143875cd938809d743539","SpanId":"478fd5f2f741d4a0","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6826972+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c31ac66cee9143875cd938809d743539","SpanId":"478fd5f2f741d4a0","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5F:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6831786+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c31ac66cee9143875cd938809d743539","SpanId":"478fd5f2f741d4a0","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6834734+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c31ac66cee9143875cd938809d743539","SpanId":"478fd5f2f741d4a0","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6847309+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c31ac66cee9143875cd938809d743539","SpanId":"478fd5f2f741d4a0","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6851877+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"c31ac66cee9143875cd938809d743539","SpanId":"478fd5f2f741d4a0","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.6854354+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"c31ac66cee9143875cd938809d743539","SpanId":"478fd5f2f741d4a0","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.6856281+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"c31ac66cee9143875cd938809d743539","SpanId":"478fd5f2f741d4a0","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:57:42.6859206+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c31ac66cee9143875cd938809d743539","SpanId":"478fd5f2f741d4a0","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6873450+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c31ac66cee9143875cd938809d743539","SpanId":"478fd5f2f741d4a0","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":3.6015,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5F:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6877258+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c31ac66cee9143875cd938809d743539","SpanId":"478fd5f2f741d4a0","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6888954+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c31ac66cee9143875cd938809d743539","SpanId":"478fd5f2f741d4a0","Properties":{"ElapsedMilliseconds":7.9127,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6957602+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1556af5a331e9022ee528564c436542a","SpanId":"fb1374dce64281a4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6961878+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1556af5a331e9022ee528564c436542a","SpanId":"fb1374dce64281a4","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6964382+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1556af5a331e9022ee528564c436542a","SpanId":"fb1374dce64281a4","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6967687+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1556af5a331e9022ee528564c436542a","SpanId":"fb1374dce64281a4","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6972187+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"1556af5a331e9022ee528564c436542a","SpanId":"fb1374dce64281a4","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6982326+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1556af5a331e9022ee528564c436542a","SpanId":"fb1374dce64281a4","Properties":{"elapsed":"0","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6985788+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"1556af5a331e9022ee528564c436542a","SpanId":"fb1374dce64281a4","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6987334+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1556af5a331e9022ee528564c436542a","SpanId":"fb1374dce64281a4","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6989321+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1556af5a331e9022ee528564c436542a","SpanId":"fb1374dce64281a4","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":1.9259,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5F:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6992213+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1556af5a331e9022ee528564c436542a","SpanId":"fb1374dce64281a4","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:57:42.6995065+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1556af5a331e9022ee528564c436542a","SpanId":"fb1374dce64281a4","Properties":{"ElapsedMilliseconds":3.7592,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.5012014+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"be9de2464bd7b7e32a55c54d9e695997","SpanId":"7581bd2dcefe52e1","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:0000000D","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.5018375+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"be9de2464bd7b7e32a55c54d9e695997","SpanId":"7581bd2dcefe52e1","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:0000000D","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.5021957+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"be9de2464bd7b7e32a55c54d9e695997","SpanId":"7581bd2dcefe52e1","Properties":{"ElapsedMilliseconds":0.9858,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:0000000D","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.5156063+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a313a3ac7951930773325860eef347b6","SpanId":"0a1f58a447563a12","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:0000000E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.5161063+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a313a3ac7951930773325860eef347b6","SpanId":"0a1f58a447563a12","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:0000000E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.5187773+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a313a3ac7951930773325860eef347b6","SpanId":"0a1f58a447563a12","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5F:0000000E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.5194953+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a313a3ac7951930773325860eef347b6","SpanId":"0a1f58a447563a12","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:0000000E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.5199836+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a313a3ac7951930773325860eef347b6","SpanId":"0a1f58a447563a12","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.5218695+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a313a3ac7951930773325860eef347b6","SpanId":"0a1f58a447563a12","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.5225856+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"a313a3ac7951930773325860eef347b6","SpanId":"0a1f58a447563a12","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:58:31.5240063+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"a313a3ac7951930773325860eef347b6","SpanId":"0a1f58a447563a12","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:58:31.5246402+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"a313a3ac7951930773325860eef347b6","SpanId":"0a1f58a447563a12","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:58:31.5256067+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a313a3ac7951930773325860eef347b6","SpanId":"0a1f58a447563a12","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000000E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.5283481+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a313a3ac7951930773325860eef347b6","SpanId":"0a1f58a447563a12","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":7.6442,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5F:0000000E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.5293279+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a313a3ac7951930773325860eef347b6","SpanId":"0a1f58a447563a12","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:0000000E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.5300736+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a313a3ac7951930773325860eef347b6","SpanId":"0a1f58a447563a12","Properties":{"ElapsedMilliseconds":14.4602,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:0000000E","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.6419531+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9d6440b7a43af558526a23042c3860fd","SpanId":"0742e66dd1b25f29","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:0000000F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.6424241+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9d6440b7a43af558526a23042c3860fd","SpanId":"0742e66dd1b25f29","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:0000000F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.6426297+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9d6440b7a43af558526a23042c3860fd","SpanId":"0742e66dd1b25f29","Properties":{"ElapsedMilliseconds":0.6847,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:0000000F","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.6476882+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0e1e43896c7118744c800612568d75fd","SpanId":"51a30820052e7e71","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.6481374+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"0e1e43896c7118744c800612568d75fd","SpanId":"51a30820052e7e71","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.6484012+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0e1e43896c7118744c800612568d75fd","SpanId":"51a30820052e7e71","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.6488070+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0e1e43896c7118744c800612568d75fd","SpanId":"51a30820052e7e71","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.6495348+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"0e1e43896c7118744c800612568d75fd","SpanId":"51a30820052e7e71","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.6514568+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0e1e43896c7118744c800612568d75fd","SpanId":"51a30820052e7e71","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.6520075+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"0e1e43896c7118744c800612568d75fd","SpanId":"51a30820052e7e71","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.6523553+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0e1e43896c7118744c800612568d75fd","SpanId":"51a30820052e7e71","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.6526644+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0e1e43896c7118744c800612568d75fd","SpanId":"51a30820052e7e71","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":3.4882,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5F:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.6530903+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0e1e43896c7118744c800612568d75fd","SpanId":"51a30820052e7e71","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:58:31.6535154+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0e1e43896c7118744c800612568d75fd","SpanId":"51a30820052e7e71","Properties":{"ElapsedMilliseconds":5.8359,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:09.9052573+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9a5b56a75ab50a3f4b3c4e598dd793d2","SpanId":"1f2f5b5fab215d29","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:09.9056753+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9a5b56a75ab50a3f4b3c4e598dd793d2","SpanId":"1f2f5b5fab215d29","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:09.9058374+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9a5b56a75ab50a3f4b3c4e598dd793d2","SpanId":"1f2f5b5fab215d29","Properties":{"ElapsedMilliseconds":0.5815,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:09.9088809+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"deb54161654a6efb573b61a481332112","SpanId":"3332ca8551a46d56","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000012","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:09.9095033+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"deb54161654a6efb573b61a481332112","SpanId":"3332ca8551a46d56","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:00000012","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:09.9098157+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"deb54161654a6efb573b61a481332112","SpanId":"3332ca8551a46d56","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000012","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:09.9100361+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"deb54161654a6efb573b61a481332112","SpanId":"3332ca8551a46d56","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000012","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:09.9107339+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"deb54161654a6efb573b61a481332112","SpanId":"3332ca8551a46d56","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000012","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:59:09.9109554+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"deb54161654a6efb573b61a481332112","SpanId":"3332ca8551a46d56","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000012","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:59:09.9125678+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"deb54161654a6efb573b61a481332112","SpanId":"3332ca8551a46d56","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000012","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:59:09.9871546+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"deb54161654a6efb573b61a481332112","SpanId":"3332ca8551a46d56","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000012","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:59:09.9881330+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"deb54161654a6efb573b61a481332112","SpanId":"3332ca8551a46d56","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000012","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:59:09.9885435+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"deb54161654a6efb573b61a481332112","SpanId":"3332ca8551a46d56","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000012","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:59:09.9896179+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"deb54161654a6efb573b61a481332112","SpanId":"3332ca8551a46d56","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000012","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:59:09.9914830+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"deb54161654a6efb573b61a481332112","SpanId":"3332ca8551a46d56","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000012","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:59:09.9938904+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"deb54161654a6efb573b61a481332112","SpanId":"3332ca8551a46d56","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000012","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:09.9941675+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"deb54161654a6efb573b61a481332112","SpanId":"3332ca8551a46d56","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":83.7815,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5F:00000012","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:09.9944280+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"deb54161654a6efb573b61a481332112","SpanId":"3332ca8551a46d56","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000012","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:09.9946554+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"deb54161654a6efb573b61a481332112","SpanId":"3332ca8551a46d56","Properties":{"ElapsedMilliseconds":85.7778,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000012","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0056994+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fde9b807013661aa8430a2cfcdc78dc2","SpanId":"b2a14f5d54a11dcd","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000013","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0062997+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"fde9b807013661aa8430a2cfcdc78dc2","SpanId":"b2a14f5d54a11dcd","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:00000013","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0071770+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fde9b807013661aa8430a2cfcdc78dc2","SpanId":"b2a14f5d54a11dcd","Properties":{"ElapsedMilliseconds":1.4659,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000013","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0114435+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e283b1bef8f1aed09e97161325cb8b4d","SpanId":"266991a31fd98362","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000014","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0119876+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e283b1bef8f1aed09e97161325cb8b4d","SpanId":"266991a31fd98362","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:00000014","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0134793+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e283b1bef8f1aed09e97161325cb8b4d","SpanId":"266991a31fd98362","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5F:00000014","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0138622+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e283b1bef8f1aed09e97161325cb8b4d","SpanId":"266991a31fd98362","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000014","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0140348+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e283b1bef8f1aed09e97161325cb8b4d","SpanId":"266991a31fd98362","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000014","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0148932+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e283b1bef8f1aed09e97161325cb8b4d","SpanId":"266991a31fd98362","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000014","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0152603+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"e283b1bef8f1aed09e97161325cb8b4d","SpanId":"266991a31fd98362","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000014","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:59:10.0154862+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"e283b1bef8f1aed09e97161325cb8b4d","SpanId":"266991a31fd98362","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000014","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:59:10.0156238+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"e283b1bef8f1aed09e97161325cb8b4d","SpanId":"266991a31fd98362","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000014","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-02T23:59:10.0157714+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e283b1bef8f1aed09e97161325cb8b4d","SpanId":"266991a31fd98362","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000014","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0159583+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e283b1bef8f1aed09e97161325cb8b4d","SpanId":"266991a31fd98362","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":1.7031,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5F:00000014","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0161312+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e283b1bef8f1aed09e97161325cb8b4d","SpanId":"266991a31fd98362","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000014","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0163836+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e283b1bef8f1aed09e97161325cb8b4d","SpanId":"266991a31fd98362","Properties":{"ElapsedMilliseconds":4.9433,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000014","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0223503+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f84cb84f22490af3b70c49faa24c1cde","SpanId":"66bd227d322b51d3","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000015","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0228170+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f84cb84f22490af3b70c49faa24c1cde","SpanId":"66bd227d322b51d3","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:00000015","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0230221+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f84cb84f22490af3b70c49faa24c1cde","SpanId":"66bd227d322b51d3","Properties":{"ElapsedMilliseconds":0.6726,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000015","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0261405+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4d9bd009dba79ca65902fd3595136380","SpanId":"4499ee7d7bcaf298","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0267028+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"4d9bd009dba79ca65902fd3595136380","SpanId":"4499ee7d7bcaf298","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0269261+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4d9bd009dba79ca65902fd3595136380","SpanId":"4499ee7d7bcaf298","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0270947+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4d9bd009dba79ca65902fd3595136380","SpanId":"4499ee7d7bcaf298","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0274884+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"4d9bd009dba79ca65902fd3595136380","SpanId":"4499ee7d7bcaf298","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0287514+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4d9bd009dba79ca65902fd3595136380","SpanId":"4499ee7d7bcaf298","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0291454+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"4d9bd009dba79ca65902fd3595136380","SpanId":"4499ee7d7bcaf298","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0293416+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4d9bd009dba79ca65902fd3595136380","SpanId":"4499ee7d7bcaf298","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0295350+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4d9bd009dba79ca65902fd3595136380","SpanId":"4499ee7d7bcaf298","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.2558,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5F:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0297143+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4d9bd009dba79ca65902fd3595136380","SpanId":"4499ee7d7bcaf298","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-02T23:59:10.0299033+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4d9bd009dba79ca65902fd3595136380","SpanId":"4499ee7d7bcaf298","Properties":{"ElapsedMilliseconds":3.7746,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
