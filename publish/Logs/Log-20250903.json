{"Timestamp":"2025-09-03T00:00:07.9061959+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d5502e4bc47db7a54b98c7a85fd8c94a","SpanId":"82915496202f2db4","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000017","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:07.9285867+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d5502e4bc47db7a54b98c7a85fd8c94a","SpanId":"82915496202f2db4","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:00000017","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:07.9287998+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d5502e4bc47db7a54b98c7a85fd8c94a","SpanId":"82915496202f2db4","Properties":{"ElapsedMilliseconds":22.5967,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000017","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:07.9329290+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0c6fbccd1745b70d79605e69d7e1feb8","SpanId":"4cd74d66001dcb5b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:07.9333637+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"0c6fbccd1745b70d79605e69d7e1feb8","SpanId":"4cd74d66001dcb5b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:07.9357607+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0c6fbccd1745b70d79605e69d7e1feb8","SpanId":"4cd74d66001dcb5b","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5F:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:07.9362201+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0c6fbccd1745b70d79605e69d7e1feb8","SpanId":"4cd74d66001dcb5b","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:07.9507898+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0c6fbccd1745b70d79605e69d7e1feb8","SpanId":"4cd74d66001dcb5b","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:07.9522882+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0c6fbccd1745b70d79605e69d7e1feb8","SpanId":"4cd74d66001dcb5b","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:07.9528393+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"0c6fbccd1745b70d79605e69d7e1feb8","SpanId":"4cd74d66001dcb5b","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:00:07.9530011+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"0c6fbccd1745b70d79605e69d7e1feb8","SpanId":"4cd74d66001dcb5b","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:00:07.9531431+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"0c6fbccd1745b70d79605e69d7e1feb8","SpanId":"4cd74d66001dcb5b","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:00:07.9533285+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0c6fbccd1745b70d79605e69d7e1feb8","SpanId":"4cd74d66001dcb5b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5F:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:07.9536482+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0c6fbccd1745b70d79605e69d7e1feb8","SpanId":"4cd74d66001dcb5b","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.5347,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5F:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:07.9539283+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0c6fbccd1745b70d79605e69d7e1feb8","SpanId":"4cd74d66001dcb5b","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:07.9541481+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0c6fbccd1745b70d79605e69d7e1feb8","SpanId":"4cd74d66001dcb5b","Properties":{"ElapsedMilliseconds":21.2228,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000018","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:08.0202744+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d61d368c0904946195d720784206428b","SpanId":"4cbb7c148b2bf4ed","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000019","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:08.0206282+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d61d368c0904946195d720784206428b","SpanId":"4cbb7c148b2bf4ed","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:00000019","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:08.0208589+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d61d368c0904946195d720784206428b","SpanId":"4cbb7c148b2bf4ed","Properties":{"ElapsedMilliseconds":0.582,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:00000019","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:08.0291017+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ccd1a7562769987e42f4456b5f6dac90","SpanId":"d20644189984648c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:0000001A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:08.0295599+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ccd1a7562769987e42f4456b5f6dac90","SpanId":"d20644189984648c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5F:0000001A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:08.0297643+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ccd1a7562769987e42f4456b5f6dac90","SpanId":"d20644189984648c","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:0000001A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:08.0300144+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ccd1a7562769987e42f4456b5f6dac90","SpanId":"d20644189984648c","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000001A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:08.0305101+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"ccd1a7562769987e42f4456b5f6dac90","SpanId":"d20644189984648c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000001A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:08.0319597+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ccd1a7562769987e42f4456b5f6dac90","SpanId":"d20644189984648c","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000001A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:08.0324571+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"ccd1a7562769987e42f4456b5f6dac90","SpanId":"d20644189984648c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000001A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:08.0328788+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ccd1a7562769987e42f4456b5f6dac90","SpanId":"d20644189984648c","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5F:0000001A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:08.0332104+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ccd1a7562769987e42f4456b5f6dac90","SpanId":"d20644189984648c","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.9445,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5F:0000001A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:08.0334945+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ccd1a7562769987e42f4456b5f6dac90","SpanId":"d20644189984648c","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5F:0000001A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:00:08.0337741+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ccd1a7562769987e42f4456b5f6dac90","SpanId":"d20644189984648c","Properties":{"ElapsedMilliseconds":4.6685,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5F:0000001A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5F"}}
{"Timestamp":"2025-09-03T00:04:15.0116421+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3ef84a00686780a12c218cf64fad1100","SpanId":"ea2a3255388c0b62","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.0120423+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"3ef84a00686780a12c218cf64fad1100","SpanId":"ea2a3255388c0b62","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5G:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.0122530+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3ef84a00686780a12c218cf64fad1100","SpanId":"ea2a3255388c0b62","Properties":{"ElapsedMilliseconds":0.6036,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.0152781+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bd6091006328be6ddf24ed7381a44ac9","SpanId":"c098fa3983ce1f73","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.0156896+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"bd6091006328be6ddf24ed7381a44ac9","SpanId":"c098fa3983ce1f73","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5G:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.0158534+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bd6091006328be6ddf24ed7381a44ac9","SpanId":"c098fa3983ce1f73","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5G:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.0159974+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bd6091006328be6ddf24ed7381a44ac9","SpanId":"c098fa3983ce1f73","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.0163661+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"bd6091006328be6ddf24ed7381a44ac9","SpanId":"c098fa3983ce1f73","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5G","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:04:15.0164918+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"bd6091006328be6ddf24ed7381a44ac9","SpanId":"c098fa3983ce1f73","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5G","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:04:15.0258835+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bd6091006328be6ddf24ed7381a44ac9","SpanId":"c098fa3983ce1f73","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5G","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:04:15.0997234+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"bd6091006328be6ddf24ed7381a44ac9","SpanId":"c098fa3983ce1f73","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5G","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:04:15.1005634+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bd6091006328be6ddf24ed7381a44ac9","SpanId":"c098fa3983ce1f73","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5G","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:04:15.1009415+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"bd6091006328be6ddf24ed7381a44ac9","SpanId":"c098fa3983ce1f73","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5G","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:04:15.1022166+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bd6091006328be6ddf24ed7381a44ac9","SpanId":"c098fa3983ce1f73","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5G","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:04:15.1041887+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bd6091006328be6ddf24ed7381a44ac9","SpanId":"c098fa3983ce1f73","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5G","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:04:15.1085870+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bd6091006328be6ddf24ed7381a44ac9","SpanId":"c098fa3983ce1f73","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1089601+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bd6091006328be6ddf24ed7381a44ac9","SpanId":"c098fa3983ce1f73","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":92.7826,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5G:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1092473+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bd6091006328be6ddf24ed7381a44ac9","SpanId":"c098fa3983ce1f73","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5G:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1095090+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bd6091006328be6ddf24ed7381a44ac9","SpanId":"c098fa3983ce1f73","Properties":{"ElapsedMilliseconds":94.2276,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1178712+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"84185fde6a40abce0b15446bacbda9a9","SpanId":"5031eb2cbc7d71aa","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1182441+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"84185fde6a40abce0b15446bacbda9a9","SpanId":"5031eb2cbc7d71aa","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5G:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1184208+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"84185fde6a40abce0b15446bacbda9a9","SpanId":"5031eb2cbc7d71aa","Properties":{"ElapsedMilliseconds":0.5486,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1215703+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"52d7db99a00697eaf1137c536b2f322b","SpanId":"51f87971f7586378","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1220548+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"52d7db99a00697eaf1137c536b2f322b","SpanId":"51f87971f7586378","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5G:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1237318+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"52d7db99a00697eaf1137c536b2f322b","SpanId":"51f87971f7586378","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5G:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1242187+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"52d7db99a00697eaf1137c536b2f322b","SpanId":"51f87971f7586378","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5G:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1245442+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"52d7db99a00697eaf1137c536b2f322b","SpanId":"51f87971f7586378","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1259624+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"52d7db99a00697eaf1137c536b2f322b","SpanId":"51f87971f7586378","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1264740+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"52d7db99a00697eaf1137c536b2f322b","SpanId":"51f87971f7586378","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:04:15.1267035+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"52d7db99a00697eaf1137c536b2f322b","SpanId":"51f87971f7586378","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:04:15.1268679+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"52d7db99a00697eaf1137c536b2f322b","SpanId":"51f87971f7586378","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:04:15.1270536+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"52d7db99a00697eaf1137c536b2f322b","SpanId":"51f87971f7586378","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1273367+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"52d7db99a00697eaf1137c536b2f322b","SpanId":"51f87971f7586378","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.5359,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5G:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1275224+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"52d7db99a00697eaf1137c536b2f322b","SpanId":"51f87971f7586378","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5G:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1277647+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"52d7db99a00697eaf1137c536b2f322b","SpanId":"51f87971f7586378","Properties":{"ElapsedMilliseconds":6.207,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1334064+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"774363a018fa9a91c887669bac78dc6c","SpanId":"a88b374d28d366c4","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1337825+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"774363a018fa9a91c887669bac78dc6c","SpanId":"a88b374d28d366c4","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5G:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1341356+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"774363a018fa9a91c887669bac78dc6c","SpanId":"a88b374d28d366c4","Properties":{"ElapsedMilliseconds":0.7335,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1374357+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"66300c4227ae602a7d957874708e4b83","SpanId":"7df04b29bcbcb032","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1395565+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"66300c4227ae602a7d957874708e4b83","SpanId":"7df04b29bcbcb032","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5G:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1401869+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"66300c4227ae602a7d957874708e4b83","SpanId":"7df04b29bcbcb032","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5G:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1414308+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"66300c4227ae602a7d957874708e4b83","SpanId":"7df04b29bcbcb032","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1424273+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"66300c4227ae602a7d957874708e4b83","SpanId":"7df04b29bcbcb032","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1457386+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"66300c4227ae602a7d957874708e4b83","SpanId":"7df04b29bcbcb032","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1467014+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"66300c4227ae602a7d957874708e4b83","SpanId":"7df04b29bcbcb032","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1478007+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"66300c4227ae602a7d957874708e4b83","SpanId":"7df04b29bcbcb032","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1482885+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"66300c4227ae602a7d957874708e4b83","SpanId":"7df04b29bcbcb032","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":6.479,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5G:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1491082+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"66300c4227ae602a7d957874708e4b83","SpanId":"7df04b29bcbcb032","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5G:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:15.1497966+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"66300c4227ae602a7d957874708e4b83","SpanId":"7df04b29bcbcb032","Properties":{"ElapsedMilliseconds":12.3645,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.5810608+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3967f6273dc45004ead983575e1530f5","SpanId":"39dd4ab985874ddb","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.5820295+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"3967f6273dc45004ead983575e1530f5","SpanId":"39dd4ab985874ddb","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5G:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.5830921+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3967f6273dc45004ead983575e1530f5","SpanId":"39dd4ab985874ddb","Properties":{"ElapsedMilliseconds":2.0248,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.5902323+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5f6b60b248be355240761bee4b3f2d2b","SpanId":"530cb6745bd5dc96","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.5906108+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"5f6b60b248be355240761bee4b3f2d2b","SpanId":"530cb6745bd5dc96","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5G:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.5937326+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5f6b60b248be355240761bee4b3f2d2b","SpanId":"530cb6745bd5dc96","Properties":{"elapsed":"2","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5G:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.5943863+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5f6b60b248be355240761bee4b3f2d2b","SpanId":"530cb6745bd5dc96","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5G:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.5949470+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5f6b60b248be355240761bee4b3f2d2b","SpanId":"530cb6745bd5dc96","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.5964411+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5f6b60b248be355240761bee4b3f2d2b","SpanId":"530cb6745bd5dc96","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.5976211+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"5f6b60b248be355240761bee4b3f2d2b","SpanId":"530cb6745bd5dc96","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:04:37.5978406+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"5f6b60b248be355240761bee4b3f2d2b","SpanId":"530cb6745bd5dc96","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:04:37.5980163+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"5f6b60b248be355240761bee4b3f2d2b","SpanId":"530cb6745bd5dc96","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:04:37.5982703+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5f6b60b248be355240761bee4b3f2d2b","SpanId":"530cb6745bd5dc96","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5G:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.5986171+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5f6b60b248be355240761bee4b3f2d2b","SpanId":"530cb6745bd5dc96","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":3.3155,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5G:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.5988142+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5f6b60b248be355240761bee4b3f2d2b","SpanId":"530cb6745bd5dc96","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5G:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.5990434+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5f6b60b248be355240761bee4b3f2d2b","SpanId":"530cb6745bd5dc96","Properties":{"ElapsedMilliseconds":8.8118,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.6912520+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"08dbf4eb13e0adcab1e63a962652ebd0","SpanId":"d0a4d00792b5d617","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.6917078+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"08dbf4eb13e0adcab1e63a962652ebd0","SpanId":"d0a4d00792b5d617","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5G:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.6921018+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"08dbf4eb13e0adcab1e63a962652ebd0","SpanId":"d0a4d00792b5d617","Properties":{"ElapsedMilliseconds":0.8363,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.6975357+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"731986cce41e5ba4da1a18b5d362d2d1","SpanId":"805a26840507b64b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.6979941+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"731986cce41e5ba4da1a18b5d362d2d1","SpanId":"805a26840507b64b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5G:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.6984278+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"731986cce41e5ba4da1a18b5d362d2d1","SpanId":"805a26840507b64b","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5G:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.6987481+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"731986cce41e5ba4da1a18b5d362d2d1","SpanId":"805a26840507b64b","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5G:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.6992862+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"731986cce41e5ba4da1a18b5d362d2d1","SpanId":"805a26840507b64b","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5G:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.7008068+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"731986cce41e5ba4da1a18b5d362d2d1","SpanId":"805a26840507b64b","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5G:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.7013254+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"731986cce41e5ba4da1a18b5d362d2d1","SpanId":"805a26840507b64b","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5G:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.7015801+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"731986cce41e5ba4da1a18b5d362d2d1","SpanId":"805a26840507b64b","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5G:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.7020641+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"731986cce41e5ba4da1a18b5d362d2d1","SpanId":"805a26840507b64b","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":3.0711,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5G:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.7024100+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"731986cce41e5ba4da1a18b5d362d2d1","SpanId":"805a26840507b64b","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5G:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:04:37.7028817+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"731986cce41e5ba4da1a18b5d362d2d1","SpanId":"805a26840507b64b","Properties":{"ElapsedMilliseconds":5.3385,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.4902060+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ae178a52dd0a08c7180f70156cd6a5ef","SpanId":"9a96708a4ec2ac70","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.4908424+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ae178a52dd0a08c7180f70156cd6a5ef","SpanId":"9a96708a4ec2ac70","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5G:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.4910548+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ae178a52dd0a08c7180f70156cd6a5ef","SpanId":"9a96708a4ec2ac70","Properties":{"ElapsedMilliseconds":0.8485,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.5069853+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"54d959474fd5d835b98497540c2fa9f4","SpanId":"2a6c72d07370c02b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.5081170+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"54d959474fd5d835b98497540c2fa9f4","SpanId":"2a6c72d07370c02b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5G:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.5114228+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54d959474fd5d835b98497540c2fa9f4","SpanId":"2a6c72d07370c02b","Properties":{"elapsed":"2","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5G:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.5119604+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"54d959474fd5d835b98497540c2fa9f4","SpanId":"2a6c72d07370c02b","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5G:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.5134624+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"54d959474fd5d835b98497540c2fa9f4","SpanId":"2a6c72d07370c02b","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5G:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.5160174+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54d959474fd5d835b98497540c2fa9f4","SpanId":"2a6c72d07370c02b","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5G:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.5165070+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"54d959474fd5d835b98497540c2fa9f4","SpanId":"2a6c72d07370c02b","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5G:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:06:15.5166647+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"54d959474fd5d835b98497540c2fa9f4","SpanId":"2a6c72d07370c02b","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5G:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:06:15.5169449+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"54d959474fd5d835b98497540c2fa9f4","SpanId":"2a6c72d07370c02b","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5G:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:06:15.5173451+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"54d959474fd5d835b98497540c2fa9f4","SpanId":"2a6c72d07370c02b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5G:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.5177918+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"54d959474fd5d835b98497540c2fa9f4","SpanId":"2a6c72d07370c02b","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":3.1943,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5G:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.5182238+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"54d959474fd5d835b98497540c2fa9f4","SpanId":"2a6c72d07370c02b","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5G:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.5186272+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"54d959474fd5d835b98497540c2fa9f4","SpanId":"2a6c72d07370c02b","Properties":{"ElapsedMilliseconds":11.6391,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.6086419+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5c1d5674880390a3b74763ae6e4fa471","SpanId":"c43b21323a746c45","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.6091214+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"5c1d5674880390a3b74763ae6e4fa471","SpanId":"c43b21323a746c45","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5G:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.6093619+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5c1d5674880390a3b74763ae6e4fa471","SpanId":"c43b21323a746c45","Properties":{"ElapsedMilliseconds":0.7108,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.6160040+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6680f4085b7327abe9727931b4900292","SpanId":"8be83b52fc5f3a05","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:0000000E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.6165698+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"6680f4085b7327abe9727931b4900292","SpanId":"8be83b52fc5f3a05","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5G:0000000E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.6167926+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6680f4085b7327abe9727931b4900292","SpanId":"8be83b52fc5f3a05","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5G:0000000E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.6170286+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6680f4085b7327abe9727931b4900292","SpanId":"8be83b52fc5f3a05","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5G:0000000E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.6174999+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"6680f4085b7327abe9727931b4900292","SpanId":"8be83b52fc5f3a05","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5G:0000000E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.6188346+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6680f4085b7327abe9727931b4900292","SpanId":"8be83b52fc5f3a05","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5G:0000000E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.6193753+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"6680f4085b7327abe9727931b4900292","SpanId":"8be83b52fc5f3a05","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5G:0000000E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.6196273+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6680f4085b7327abe9727931b4900292","SpanId":"8be83b52fc5f3a05","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5G:0000000E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.6198758+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6680f4085b7327abe9727931b4900292","SpanId":"8be83b52fc5f3a05","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.6163,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5G:0000000E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.6200695+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6680f4085b7327abe9727931b4900292","SpanId":"8be83b52fc5f3a05","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5G:0000000E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:06:15.6203443+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6680f4085b7327abe9727931b4900292","SpanId":"8be83b52fc5f3a05","Properties":{"ElapsedMilliseconds":4.3353,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5G:0000000E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5G"}}
{"Timestamp":"2025-09-03T00:07:22.4794268+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f53615de2023fecead3ce363b2b63c3d","SpanId":"e81127c58c01a5e1","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.4797995+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f53615de2023fecead3ce363b2b63c3d","SpanId":"e81127c58c01a5e1","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5H:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.4799595+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f53615de2023fecead3ce363b2b63c3d","SpanId":"e81127c58c01a5e1","Properties":{"ElapsedMilliseconds":0.5331,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.4831910+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b7132047d363cd5e8cedcab03b7da890","SpanId":"b19ec48d43b91595","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.4835650+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b7132047d363cd5e8cedcab03b7da890","SpanId":"b19ec48d43b91595","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5H:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.4837438+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b7132047d363cd5e8cedcab03b7da890","SpanId":"b19ec48d43b91595","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5H:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.4838971+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b7132047d363cd5e8cedcab03b7da890","SpanId":"b19ec48d43b91595","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.4842946+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"b7132047d363cd5e8cedcab03b7da890","SpanId":"b19ec48d43b91595","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:07:22.4844355+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"b7132047d363cd5e8cedcab03b7da890","SpanId":"b19ec48d43b91595","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:07:22.4859195+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b7132047d363cd5e8cedcab03b7da890","SpanId":"b19ec48d43b91595","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:07:22.5566406+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"b7132047d363cd5e8cedcab03b7da890","SpanId":"b19ec48d43b91595","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:07:22.5576834+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b7132047d363cd5e8cedcab03b7da890","SpanId":"b19ec48d43b91595","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:07:22.5581464+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"b7132047d363cd5e8cedcab03b7da890","SpanId":"b19ec48d43b91595","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:07:22.5593234+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b7132047d363cd5e8cedcab03b7da890","SpanId":"b19ec48d43b91595","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:07:22.5608510+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b7132047d363cd5e8cedcab03b7da890","SpanId":"b19ec48d43b91595","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:07:22.5649080+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b7132047d363cd5e8cedcab03b7da890","SpanId":"b19ec48d43b91595","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5652625+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b7132047d363cd5e8cedcab03b7da890","SpanId":"b19ec48d43b91595","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":81.1327,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5H:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5655466+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b7132047d363cd5e8cedcab03b7da890","SpanId":"b19ec48d43b91595","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5H:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5657651+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b7132047d363cd5e8cedcab03b7da890","SpanId":"b19ec48d43b91595","Properties":{"ElapsedMilliseconds":82.5757,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5749445+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"505e3a2122f4436acb81620654308610","SpanId":"713b77215f6f3a76","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5753666+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"505e3a2122f4436acb81620654308610","SpanId":"713b77215f6f3a76","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5H:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5756372+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"505e3a2122f4436acb81620654308610","SpanId":"713b77215f6f3a76","Properties":{"ElapsedMilliseconds":0.6907,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5789074+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a52b10d3eae9bac6b770ed471e673546","SpanId":"ae62e9331abdfb42","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5792977+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a52b10d3eae9bac6b770ed471e673546","SpanId":"ae62e9331abdfb42","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5H:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5809841+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a52b10d3eae9bac6b770ed471e673546","SpanId":"ae62e9331abdfb42","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5H:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5815373+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a52b10d3eae9bac6b770ed471e673546","SpanId":"ae62e9331abdfb42","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5H:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5817474+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a52b10d3eae9bac6b770ed471e673546","SpanId":"ae62e9331abdfb42","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5830724+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a52b10d3eae9bac6b770ed471e673546","SpanId":"ae62e9331abdfb42","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5834694+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"a52b10d3eae9bac6b770ed471e673546","SpanId":"ae62e9331abdfb42","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:07:22.5835937+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"a52b10d3eae9bac6b770ed471e673546","SpanId":"ae62e9331abdfb42","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:07:22.5837604+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"a52b10d3eae9bac6b770ed471e673546","SpanId":"ae62e9331abdfb42","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:07:22.5839083+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a52b10d3eae9bac6b770ed471e673546","SpanId":"ae62e9331abdfb42","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5840947+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a52b10d3eae9bac6b770ed471e673546","SpanId":"ae62e9331abdfb42","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.0961,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5H:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5842670+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a52b10d3eae9bac6b770ed471e673546","SpanId":"ae62e9331abdfb42","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5H:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5844605+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a52b10d3eae9bac6b770ed471e673546","SpanId":"ae62e9331abdfb42","Properties":{"ElapsedMilliseconds":5.5528,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5895573+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6d7e6e9f0cb89551eb7bfff30e8615d7","SpanId":"f7260768d972d2dc","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5899887+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"6d7e6e9f0cb89551eb7bfff30e8615d7","SpanId":"f7260768d972d2dc","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5H:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5902101+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6d7e6e9f0cb89551eb7bfff30e8615d7","SpanId":"f7260768d972d2dc","Properties":{"ElapsedMilliseconds":0.6474,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5930447+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1a7ec42b67c8463daf682c2dcdb74eea","SpanId":"9cb4a0bfef7f35c6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5934154+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1a7ec42b67c8463daf682c2dcdb74eea","SpanId":"9cb4a0bfef7f35c6","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5H:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5936363+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1a7ec42b67c8463daf682c2dcdb74eea","SpanId":"9cb4a0bfef7f35c6","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5H:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5939795+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1a7ec42b67c8463daf682c2dcdb74eea","SpanId":"9cb4a0bfef7f35c6","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5944380+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by localhost:6865","TraceId":"1a7ec42b67c8463daf682c2dcdb74eea","SpanId":"9cb4a0bfef7f35c6","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5955560+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1a7ec42b67c8463daf682c2dcdb74eea","SpanId":"9cb4a0bfef7f35c6","Properties":{"elapsed":"0","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5959982+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by localhost:6865. Refresh failed. ","TraceId":"1a7ec42b67c8463daf682c2dcdb74eea","SpanId":"9cb4a0bfef7f35c6","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5962702+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1a7ec42b67c8463daf682c2dcdb74eea","SpanId":"9cb4a0bfef7f35c6","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5965160+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1a7ec42b67c8463daf682c2dcdb74eea","SpanId":"9cb4a0bfef7f35c6","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.3099,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5H:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5967271+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1a7ec42b67c8463daf682c2dcdb74eea","SpanId":"9cb4a0bfef7f35c6","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5H:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:07:22.5969316+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1a7ec42b67c8463daf682c2dcdb74eea","SpanId":"9cb4a0bfef7f35c6","Properties":{"ElapsedMilliseconds":3.8891,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:26.8894703+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"94746ce5f4d297e440c9438c91343a6f","SpanId":"3dde5c0af8435611","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:26.8899176+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"94746ce5f4d297e440c9438c91343a6f","SpanId":"3dde5c0af8435611","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5H:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:26.8903342+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"94746ce5f4d297e440c9438c91343a6f","SpanId":"3dde5c0af8435611","Properties":{"ElapsedMilliseconds":0.8354,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:26.8934614+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a4b6413f386e6c0398051236f6e4cf49","SpanId":"c2aa4b64e8c83fb2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:26.8938086+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a4b6413f386e6c0398051236f6e4cf49","SpanId":"c2aa4b64e8c83fb2","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5H:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:26.8939622+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a4b6413f386e6c0398051236f6e4cf49","SpanId":"c2aa4b64e8c83fb2","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5H:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:26.8941345+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a4b6413f386e6c0398051236f6e4cf49","SpanId":"c2aa4b64e8c83fb2","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:26.8946828+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"a4b6413f386e6c0398051236f6e4cf49","SpanId":"c2aa4b64e8c83fb2","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:09:26.8949162+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"a4b6413f386e6c0398051236f6e4cf49","SpanId":"c2aa4b64e8c83fb2","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:09:26.9036872+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a4b6413f386e6c0398051236f6e4cf49","SpanId":"c2aa4b64e8c83fb2","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:09:26.9865402+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"a4b6413f386e6c0398051236f6e4cf49","SpanId":"c2aa4b64e8c83fb2","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:09:26.9875533+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a4b6413f386e6c0398051236f6e4cf49","SpanId":"c2aa4b64e8c83fb2","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:09:26.9880111+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"a4b6413f386e6c0398051236f6e4cf49","SpanId":"c2aa4b64e8c83fb2","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:09:26.9892263+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a4b6413f386e6c0398051236f6e4cf49","SpanId":"c2aa4b64e8c83fb2","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:09:26.9908803+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a4b6413f386e6c0398051236f6e4cf49","SpanId":"c2aa4b64e8c83fb2","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:09:26.9950594+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a4b6413f386e6c0398051236f6e4cf49","SpanId":"c2aa4b64e8c83fb2","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:26.9953658+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a4b6413f386e6c0398051236f6e4cf49","SpanId":"c2aa4b64e8c83fb2","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":100.9166,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5H:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:26.9957333+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a4b6413f386e6c0398051236f6e4cf49","SpanId":"c2aa4b64e8c83fb2","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5H:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:26.9962508+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a4b6413f386e6c0398051236f6e4cf49","SpanId":"c2aa4b64e8c83fb2","Properties":{"ElapsedMilliseconds":102.7774,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0053702+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"43c4f67ea7fd9630a0538dc5f4273ddd","SpanId":"8eff11a33af03d79","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000009","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0058317+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"43c4f67ea7fd9630a0538dc5f4273ddd","SpanId":"8eff11a33af03d79","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5H:00000009","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0060393+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"43c4f67ea7fd9630a0538dc5f4273ddd","SpanId":"8eff11a33af03d79","Properties":{"ElapsedMilliseconds":0.6716,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000009","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0096274+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e37f1b32f5f342f0a82642aa187b9a86","SpanId":"3a594e1757a26842","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0099618+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e37f1b32f5f342f0a82642aa187b9a86","SpanId":"3a594e1757a26842","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5H:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0112998+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e37f1b32f5f342f0a82642aa187b9a86","SpanId":"3a594e1757a26842","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5H:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0118632+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e37f1b32f5f342f0a82642aa187b9a86","SpanId":"3a594e1757a26842","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5H:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0122122+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e37f1b32f5f342f0a82642aa187b9a86","SpanId":"3a594e1757a26842","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0132139+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e37f1b32f5f342f0a82642aa187b9a86","SpanId":"3a594e1757a26842","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0136155+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"e37f1b32f5f342f0a82642aa187b9a86","SpanId":"3a594e1757a26842","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:09:27.0139171+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"e37f1b32f5f342f0a82642aa187b9a86","SpanId":"3a594e1757a26842","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:09:27.0141755+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"e37f1b32f5f342f0a82642aa187b9a86","SpanId":"3a594e1757a26842","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:09:27.0143937+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e37f1b32f5f342f0a82642aa187b9a86","SpanId":"3a594e1757a26842","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0145876+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e37f1b32f5f342f0a82642aa187b9a86","SpanId":"3a594e1757a26842","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.0194,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5H:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0147775+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e37f1b32f5f342f0a82642aa187b9a86","SpanId":"3a594e1757a26842","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5H:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0149760+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e37f1b32f5f342f0a82642aa187b9a86","SpanId":"3a594e1757a26842","Properties":{"ElapsedMilliseconds":5.3606,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0201501+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cb7daee8a44d60e6aac0be6b4109ddb0","SpanId":"98e4e4d34f96ab5d","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:0000000B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0205868+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"cb7daee8a44d60e6aac0be6b4109ddb0","SpanId":"98e4e4d34f96ab5d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5H:0000000B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0208501+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cb7daee8a44d60e6aac0be6b4109ddb0","SpanId":"98e4e4d34f96ab5d","Properties":{"ElapsedMilliseconds":0.695,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:0000000B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0235905+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7c26b7954d799c6790649886c8473930","SpanId":"5da503645a4f8d6f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0239368+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"7c26b7954d799c6790649886c8473930","SpanId":"5da503645a4f8d6f","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5H:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0240952+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7c26b7954d799c6790649886c8473930","SpanId":"5da503645a4f8d6f","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5H:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0242696+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7c26b7954d799c6790649886c8473930","SpanId":"5da503645a4f8d6f","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0246474+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by localhost:6865","TraceId":"7c26b7954d799c6790649886c8473930","SpanId":"5da503645a4f8d6f","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0256006+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7c26b7954d799c6790649886c8473930","SpanId":"5da503645a4f8d6f","Properties":{"elapsed":"0","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0259433+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by localhost:6865. Refresh failed. ","TraceId":"7c26b7954d799c6790649886c8473930","SpanId":"5da503645a4f8d6f","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0261027+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7c26b7954d799c6790649886c8473930","SpanId":"5da503645a4f8d6f","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0263389+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7c26b7954d799c6790649886c8473930","SpanId":"5da503645a4f8d6f","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":1.852,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5H:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0265133+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7c26b7954d799c6790649886c8473930","SpanId":"5da503645a4f8d6f","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5H:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:09:27.0267032+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7c26b7954d799c6790649886c8473930","SpanId":"5da503645a4f8d6f","Properties":{"ElapsedMilliseconds":3.1166,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.2932854+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c0adc131ae86ceb8e373f27d31552439","SpanId":"59c042a9ad7662fa","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:0000000D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.2939481+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c0adc131ae86ceb8e373f27d31552439","SpanId":"59c042a9ad7662fa","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5H:0000000D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.2941912+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c0adc131ae86ceb8e373f27d31552439","SpanId":"59c042a9ad7662fa","Properties":{"ElapsedMilliseconds":0.907,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:0000000D","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.2975352+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9222685d6fb8c43e4a6f31e86790a68e","SpanId":"15f20d7764daae69","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.2979711+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9222685d6fb8c43e4a6f31e86790a68e","SpanId":"15f20d7764daae69","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5H:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.2981955+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9222685d6fb8c43e4a6f31e86790a68e","SpanId":"15f20d7764daae69","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5H:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.2984232+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9222685d6fb8c43e4a6f31e86790a68e","SpanId":"15f20d7764daae69","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.2989977+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"9222685d6fb8c43e4a6f31e86790a68e","SpanId":"15f20d7764daae69","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:11:05.2991755+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"9222685d6fb8c43e4a6f31e86790a68e","SpanId":"15f20d7764daae69","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:11:05.3009580+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9222685d6fb8c43e4a6f31e86790a68e","SpanId":"15f20d7764daae69","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:11:05.3716300+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"9222685d6fb8c43e4a6f31e86790a68e","SpanId":"15f20d7764daae69","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:11:05.3726023+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9222685d6fb8c43e4a6f31e86790a68e","SpanId":"15f20d7764daae69","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:11:05.3729481+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"9222685d6fb8c43e4a6f31e86790a68e","SpanId":"15f20d7764daae69","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:11:05.3739309+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9222685d6fb8c43e4a6f31e86790a68e","SpanId":"15f20d7764daae69","Properties":{"elapsed":"0","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:11:05.3753197+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9222685d6fb8c43e4a6f31e86790a68e","SpanId":"15f20d7764daae69","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:11:05.3791045+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9222685d6fb8c43e4a6f31e86790a68e","SpanId":"15f20d7764daae69","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5H:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.3794301+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9222685d6fb8c43e4a6f31e86790a68e","SpanId":"15f20d7764daae69","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":80.6874,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5H:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.3796635+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9222685d6fb8c43e4a6f31e86790a68e","SpanId":"15f20d7764daae69","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5H:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.3798849+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9222685d6fb8c43e4a6f31e86790a68e","SpanId":"15f20d7764daae69","Properties":{"ElapsedMilliseconds":82.3542,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.3867269+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"53feaa4c6e6bfaf8938e28c63ef38290","SpanId":"eeadba04c1140f54","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.3870979+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"53feaa4c6e6bfaf8938e28c63ef38290","SpanId":"eeadba04c1140f54","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5H:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.3873632+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"53feaa4c6e6bfaf8938e28c63ef38290","SpanId":"eeadba04c1140f54","Properties":{"ElapsedMilliseconds":0.6425,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.3908408+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"217fb34a06a6a5cd648e74bf97d00743","SpanId":"f1a1ba8a3be2a055","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.3912662+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"217fb34a06a6a5cd648e74bf97d00743","SpanId":"f1a1ba8a3be2a055","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5H:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.3929656+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"217fb34a06a6a5cd648e74bf97d00743","SpanId":"f1a1ba8a3be2a055","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5H:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.3935287+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"217fb34a06a6a5cd648e74bf97d00743","SpanId":"f1a1ba8a3be2a055","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5H:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.3938244+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"217fb34a06a6a5cd648e74bf97d00743","SpanId":"f1a1ba8a3be2a055","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.3948761+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"217fb34a06a6a5cd648e74bf97d00743","SpanId":"f1a1ba8a3be2a055","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.3953404+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"217fb34a06a6a5cd648e74bf97d00743","SpanId":"f1a1ba8a3be2a055","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:11:05.3955057+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"217fb34a06a6a5cd648e74bf97d00743","SpanId":"f1a1ba8a3be2a055","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:11:05.3956807+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"217fb34a06a6a5cd648e74bf97d00743","SpanId":"f1a1ba8a3be2a055","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:11:05.3958898+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"217fb34a06a6a5cd648e74bf97d00743","SpanId":"f1a1ba8a3be2a055","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.3960871+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"217fb34a06a6a5cd648e74bf97d00743","SpanId":"f1a1ba8a3be2a055","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":1.993,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5H:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.3962582+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"217fb34a06a6a5cd648e74bf97d00743","SpanId":"f1a1ba8a3be2a055","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5H:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.3964663+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"217fb34a06a6a5cd648e74bf97d00743","SpanId":"f1a1ba8a3be2a055","Properties":{"ElapsedMilliseconds":5.6262,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.4016031+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"feec59868c56372a9a78758d27291aa3","SpanId":"224573c3c57b46b3","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000011","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.4019596+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"feec59868c56372a9a78758d27291aa3","SpanId":"224573c3c57b46b3","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5H:00000011","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.4022349+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"feec59868c56372a9a78758d27291aa3","SpanId":"224573c3c57b46b3","Properties":{"ElapsedMilliseconds":0.6249,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000011","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.4049306+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"64a4ee1d1513e9b9275a8b99b1ec0cb1","SpanId":"a16a4a7b508eb724","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.4052655+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"64a4ee1d1513e9b9275a8b99b1ec0cb1","SpanId":"a16a4a7b508eb724","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5H:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.4054226+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"64a4ee1d1513e9b9275a8b99b1ec0cb1","SpanId":"a16a4a7b508eb724","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5H:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.4055880+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"64a4ee1d1513e9b9275a8b99b1ec0cb1","SpanId":"a16a4a7b508eb724","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.4059672+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by localhost:6865","TraceId":"64a4ee1d1513e9b9275a8b99b1ec0cb1","SpanId":"a16a4a7b508eb724","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.4070426+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"64a4ee1d1513e9b9275a8b99b1ec0cb1","SpanId":"a16a4a7b508eb724","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.4075474+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by localhost:6865. Refresh failed. ","TraceId":"64a4ee1d1513e9b9275a8b99b1ec0cb1","SpanId":"a16a4a7b508eb724","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.4077138+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"64a4ee1d1513e9b9275a8b99b1ec0cb1","SpanId":"a16a4a7b508eb724","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5H:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.4079555+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"64a4ee1d1513e9b9275a8b99b1ec0cb1","SpanId":"a16a4a7b508eb724","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.1656,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5H:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.4081235+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"64a4ee1d1513e9b9275a8b99b1ec0cb1","SpanId":"a16a4a7b508eb724","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5H:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:11:05.4082679+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"64a4ee1d1513e9b9275a8b99b1ec0cb1","SpanId":"a16a4a7b508eb724","Properties":{"ElapsedMilliseconds":3.3386,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5H:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5H"}}
{"Timestamp":"2025-09-03T00:18:21.1038061+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fd7735b340129bb8bdebf09feff9aea3","SpanId":"d8efd166945a234b","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.1184965+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"fd7735b340129bb8bdebf09feff9aea3","SpanId":"d8efd166945a234b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.1188165+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fd7735b340129bb8bdebf09feff9aea3","SpanId":"d8efd166945a234b","Properties":{"ElapsedMilliseconds":15.0007,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.1216978+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"170dc40b77b96652527894f928122b0f","SpanId":"8101c5f7a8411b93","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.1220174+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"170dc40b77b96652527894f928122b0f","SpanId":"8101c5f7a8411b93","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.1304642+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"170dc40b77b96652527894f928122b0f","SpanId":"8101c5f7a8411b93","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5I:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.1311549+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"170dc40b77b96652527894f928122b0f","SpanId":"8101c5f7a8411b93","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.1315704+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"170dc40b77b96652527894f928122b0f","SpanId":"8101c5f7a8411b93","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.1329193+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"170dc40b77b96652527894f928122b0f","SpanId":"8101c5f7a8411b93","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.1332545+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"170dc40b77b96652527894f928122b0f","SpanId":"8101c5f7a8411b93","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:21.1334014+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"170dc40b77b96652527894f928122b0f","SpanId":"8101c5f7a8411b93","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:21.1335128+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"170dc40b77b96652527894f928122b0f","SpanId":"8101c5f7a8411b93","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:21.1336704+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"170dc40b77b96652527894f928122b0f","SpanId":"8101c5f7a8411b93","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.1339072+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"170dc40b77b96652527894f928122b0f","SpanId":"8101c5f7a8411b93","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.1164,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5I:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.1341061+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"170dc40b77b96652527894f928122b0f","SpanId":"8101c5f7a8411b93","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.1344054+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"170dc40b77b96652527894f928122b0f","SpanId":"8101c5f7a8411b93","Properties":{"ElapsedMilliseconds":12.6994,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.1967096+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1a37ec411480966b27b8724de91ad274","SpanId":"0364b6bae2126e96","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.1971142+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1a37ec411480966b27b8724de91ad274","SpanId":"0364b6bae2126e96","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.1973746+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1a37ec411480966b27b8724de91ad274","SpanId":"0364b6bae2126e96","Properties":{"ElapsedMilliseconds":0.6693,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.2005280+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f88f8f4c84424500f66e152553000b8c","SpanId":"68f058d7df4079ed","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.2009237+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f88f8f4c84424500f66e152553000b8c","SpanId":"68f058d7df4079ed","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.2011175+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f88f8f4c84424500f66e152553000b8c","SpanId":"68f058d7df4079ed","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.2013605+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f88f8f4c84424500f66e152553000b8c","SpanId":"68f058d7df4079ed","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.2018616+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"f88f8f4c84424500f66e152553000b8c","SpanId":"68f058d7df4079ed","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.2034735+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f88f8f4c84424500f66e152553000b8c","SpanId":"68f058d7df4079ed","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.2039331+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"f88f8f4c84424500f66e152553000b8c","SpanId":"68f058d7df4079ed","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.2043656+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f88f8f4c84424500f66e152553000b8c","SpanId":"68f058d7df4079ed","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.2046009+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f88f8f4c84424500f66e152553000b8c","SpanId":"68f058d7df4079ed","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":3.0265,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5I:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.2048790+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f88f8f4c84424500f66e152553000b8c","SpanId":"68f058d7df4079ed","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:21.2050934+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f88f8f4c84424500f66e152553000b8c","SpanId":"68f058d7df4079ed","Properties":{"ElapsedMilliseconds":4.5608,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.7042190+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"87d86acd3f03b15b2cdd5c401b9150e0","SpanId":"7115a13870381ec4","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.7048413+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"87d86acd3f03b15b2cdd5c401b9150e0","SpanId":"7115a13870381ec4","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.7051380+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"87d86acd3f03b15b2cdd5c401b9150e0","SpanId":"7115a13870381ec4","Properties":{"ElapsedMilliseconds":0.9202,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.7076259+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f6daa105f6a8c550e365ac600c2a641f","SpanId":"dfa7e8bf78e3fd33","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.7079832+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f6daa105f6a8c550e365ac600c2a641f","SpanId":"dfa7e8bf78e3fd33","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.7081501+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f6daa105f6a8c550e365ac600c2a641f","SpanId":"dfa7e8bf78e3fd33","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.7083582+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f6daa105f6a8c550e365ac600c2a641f","SpanId":"dfa7e8bf78e3fd33","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.7088189+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"f6daa105f6a8c550e365ac600c2a641f","SpanId":"dfa7e8bf78e3fd33","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:26.7089573+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"f6daa105f6a8c550e365ac600c2a641f","SpanId":"dfa7e8bf78e3fd33","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:26.7102926+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f6daa105f6a8c550e365ac600c2a641f","SpanId":"dfa7e8bf78e3fd33","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:26.7829535+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"f6daa105f6a8c550e365ac600c2a641f","SpanId":"dfa7e8bf78e3fd33","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:26.7838361+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f6daa105f6a8c550e365ac600c2a641f","SpanId":"dfa7e8bf78e3fd33","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:26.7843482+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"f6daa105f6a8c550e365ac600c2a641f","SpanId":"dfa7e8bf78e3fd33","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:26.7854400+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f6daa105f6a8c550e365ac600c2a641f","SpanId":"dfa7e8bf78e3fd33","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:26.7878191+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f6daa105f6a8c550e365ac600c2a641f","SpanId":"dfa7e8bf78e3fd33","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:26.7923433+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f6daa105f6a8c550e365ac600c2a641f","SpanId":"dfa7e8bf78e3fd33","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.7927071+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f6daa105f6a8c550e365ac600c2a641f","SpanId":"dfa7e8bf78e3fd33","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":84.0937,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5I:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.7929189+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f6daa105f6a8c550e365ac600c2a641f","SpanId":"dfa7e8bf78e3fd33","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.7931574+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f6daa105f6a8c550e365ac600c2a641f","SpanId":"dfa7e8bf78e3fd33","Properties":{"ElapsedMilliseconds":85.5265,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.7984027+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4bb8695bbd82655eaed1909af9ab710c","SpanId":"d9d9afa7eece42ea","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.7987424+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"4bb8695bbd82655eaed1909af9ab710c","SpanId":"d9d9afa7eece42ea","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.7989521+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4bb8695bbd82655eaed1909af9ab710c","SpanId":"d9d9afa7eece42ea","Properties":{"ElapsedMilliseconds":0.5451,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8015526+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"08f34cb0336deb447bf34c218a1e7280","SpanId":"5ba43c6261f52cf8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8019071+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"08f34cb0336deb447bf34c218a1e7280","SpanId":"5ba43c6261f52cf8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8031677+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"08f34cb0336deb447bf34c218a1e7280","SpanId":"5ba43c6261f52cf8","Properties":{"elapsed":"0","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5I:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8035716+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"08f34cb0336deb447bf34c218a1e7280","SpanId":"5ba43c6261f52cf8","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8043653+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"08f34cb0336deb447bf34c218a1e7280","SpanId":"5ba43c6261f52cf8","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8053821+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"08f34cb0336deb447bf34c218a1e7280","SpanId":"5ba43c6261f52cf8","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8057433+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"08f34cb0336deb447bf34c218a1e7280","SpanId":"5ba43c6261f52cf8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:26.8058692+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"08f34cb0336deb447bf34c218a1e7280","SpanId":"5ba43c6261f52cf8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:26.8059886+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"08f34cb0336deb447bf34c218a1e7280","SpanId":"5ba43c6261f52cf8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:26.8061427+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"08f34cb0336deb447bf34c218a1e7280","SpanId":"5ba43c6261f52cf8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8063732+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"08f34cb0336deb447bf34c218a1e7280","SpanId":"5ba43c6261f52cf8","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":1.7461,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5I:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8065403+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"08f34cb0336deb447bf34c218a1e7280","SpanId":"5ba43c6261f52cf8","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8069534+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"08f34cb0336deb447bf34c218a1e7280","SpanId":"5ba43c6261f52cf8","Properties":{"ElapsedMilliseconds":5.3959,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8106764+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a78ce3e4a5e827e31c40659fc04e18e5","SpanId":"9ae2767c0c8d1890","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8110059+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a78ce3e4a5e827e31c40659fc04e18e5","SpanId":"9ae2767c0c8d1890","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8111619+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a78ce3e4a5e827e31c40659fc04e18e5","SpanId":"9ae2767c0c8d1890","Properties":{"ElapsedMilliseconds":0.4842,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8134236+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b7ecace89d39275c78a7c9351315aaa9","SpanId":"7e1019054fa97523","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8137817+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b7ecace89d39275c78a7c9351315aaa9","SpanId":"7e1019054fa97523","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8139192+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b7ecace89d39275c78a7c9351315aaa9","SpanId":"7e1019054fa97523","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8140664+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b7ecace89d39275c78a7c9351315aaa9","SpanId":"7e1019054fa97523","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8144477+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"b7ecace89d39275c78a7c9351315aaa9","SpanId":"7e1019054fa97523","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8153443+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b7ecace89d39275c78a7c9351315aaa9","SpanId":"7e1019054fa97523","Properties":{"elapsed":"0","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8157053+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"b7ecace89d39275c78a7c9351315aaa9","SpanId":"7e1019054fa97523","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8160102+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b7ecace89d39275c78a7c9351315aaa9","SpanId":"7e1019054fa97523","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8162227+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b7ecace89d39275c78a7c9351315aaa9","SpanId":"7e1019054fa97523","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":1.9601,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5I:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8164656+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b7ecace89d39275c78a7c9351315aaa9","SpanId":"7e1019054fa97523","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:26.8167818+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b7ecace89d39275c78a7c9351315aaa9","SpanId":"7e1019054fa97523","Properties":{"ElapsedMilliseconds":3.3591,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:0000000A","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.5554608+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"df0ac6193ef5eeec2046085cfd071460","SpanId":"f6775ef5f22a1da7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.5558282+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"df0ac6193ef5eeec2046085cfd071460","SpanId":"f6775ef5f22a1da7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.5560250+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"df0ac6193ef5eeec2046085cfd071460","SpanId":"f6775ef5f22a1da7","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.5562698+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"df0ac6193ef5eeec2046085cfd071460","SpanId":"f6775ef5f22a1da7","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.5567276+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"df0ac6193ef5eeec2046085cfd071460","SpanId":"f6775ef5f22a1da7","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.5568985+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"df0ac6193ef5eeec2046085cfd071460","SpanId":"f6775ef5f22a1da7","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.5581562+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"df0ac6193ef5eeec2046085cfd071460","SpanId":"f6775ef5f22a1da7","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.6273661+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"df0ac6193ef5eeec2046085cfd071460","SpanId":"f6775ef5f22a1da7","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.6282255+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"df0ac6193ef5eeec2046085cfd071460","SpanId":"f6775ef5f22a1da7","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.6286163+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"df0ac6193ef5eeec2046085cfd071460","SpanId":"f6775ef5f22a1da7","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.6296571+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"df0ac6193ef5eeec2046085cfd071460","SpanId":"f6775ef5f22a1da7","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.6310983+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"df0ac6193ef5eeec2046085cfd071460","SpanId":"f6775ef5f22a1da7","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.6354372+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"df0ac6193ef5eeec2046085cfd071460","SpanId":"f6775ef5f22a1da7","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6358323+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"df0ac6193ef5eeec2046085cfd071460","SpanId":"f6775ef5f22a1da7","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":79.3122,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5I:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6360623+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"df0ac6193ef5eeec2046085cfd071460","SpanId":"f6775ef5f22a1da7","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6362768+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"df0ac6193ef5eeec2046085cfd071460","SpanId":"f6775ef5f22a1da7","Properties":{"ElapsedMilliseconds":80.8177,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6409734+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"72e53c32698df91d20f93e7d43db22fc","SpanId":"bfd8684a14bb2bc8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6413486+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"72e53c32698df91d20f93e7d43db22fc","SpanId":"bfd8684a14bb2bc8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6425223+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"72e53c32698df91d20f93e7d43db22fc","SpanId":"bfd8684a14bb2bc8","Properties":{"elapsed":"0","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5I:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6431320+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"72e53c32698df91d20f93e7d43db22fc","SpanId":"bfd8684a14bb2bc8","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6432989+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"72e53c32698df91d20f93e7d43db22fc","SpanId":"bfd8684a14bb2bc8","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6441899+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"72e53c32698df91d20f93e7d43db22fc","SpanId":"bfd8684a14bb2bc8","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6445372+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"72e53c32698df91d20f93e7d43db22fc","SpanId":"bfd8684a14bb2bc8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.6446565+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"72e53c32698df91d20f93e7d43db22fc","SpanId":"bfd8684a14bb2bc8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.6447593+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"72e53c32698df91d20f93e7d43db22fc","SpanId":"bfd8684a14bb2bc8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.6449409+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"72e53c32698df91d20f93e7d43db22fc","SpanId":"bfd8684a14bb2bc8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6451296+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"72e53c32698df91d20f93e7d43db22fc","SpanId":"bfd8684a14bb2bc8","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":1.6153,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5I:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6452937+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"72e53c32698df91d20f93e7d43db22fc","SpanId":"bfd8684a14bb2bc8","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6454997+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"72e53c32698df91d20f93e7d43db22fc","SpanId":"bfd8684a14bb2bc8","Properties":{"ElapsedMilliseconds":4.5325,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6492467+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"16344dff1b954e0dfc1ef4fa53f9e923","SpanId":"8b3df8c4300867b5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6498055+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"16344dff1b954e0dfc1ef4fa53f9e923","SpanId":"8b3df8c4300867b5","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6500338+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"16344dff1b954e0dfc1ef4fa53f9e923","SpanId":"8b3df8c4300867b5","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6502585+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"16344dff1b954e0dfc1ef4fa53f9e923","SpanId":"8b3df8c4300867b5","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6506692+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"16344dff1b954e0dfc1ef4fa53f9e923","SpanId":"8b3df8c4300867b5","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6517175+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"16344dff1b954e0dfc1ef4fa53f9e923","SpanId":"8b3df8c4300867b5","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6520876+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"16344dff1b954e0dfc1ef4fa53f9e923","SpanId":"8b3df8c4300867b5","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6522568+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"16344dff1b954e0dfc1ef4fa53f9e923","SpanId":"8b3df8c4300867b5","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6524691+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"16344dff1b954e0dfc1ef4fa53f9e923","SpanId":"8b3df8c4300867b5","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.0053,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5I:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6526973+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"16344dff1b954e0dfc1ef4fa53f9e923","SpanId":"8b3df8c4300867b5","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6528995+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"16344dff1b954e0dfc1ef4fa53f9e923","SpanId":"8b3df8c4300867b5","Properties":{"ElapsedMilliseconds":3.6561,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:0000000D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6780550+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"29829bc86b3a9af9a54fa8b307652875","SpanId":"3969f26f04d38cfb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6783971+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"29829bc86b3a9af9a54fa8b307652875","SpanId":"3969f26f04d38cfb","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6785576+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"29829bc86b3a9af9a54fa8b307652875","SpanId":"3969f26f04d38cfb","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6787188+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"29829bc86b3a9af9a54fa8b307652875","SpanId":"3969f26f04d38cfb","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.6790892+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"29829bc86b3a9af9a54fa8b307652875","SpanId":"3969f26f04d38cfb","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.6792558+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"29829bc86b3a9af9a54fa8b307652875","SpanId":"3969f26f04d38cfb","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.6801218+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"29829bc86b3a9af9a54fa8b307652875","SpanId":"3969f26f04d38cfb","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.7516106+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"29829bc86b3a9af9a54fa8b307652875","SpanId":"3969f26f04d38cfb","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.7526881+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"29829bc86b3a9af9a54fa8b307652875","SpanId":"3969f26f04d38cfb","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.7531606+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"29829bc86b3a9af9a54fa8b307652875","SpanId":"3969f26f04d38cfb","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.7541329+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"29829bc86b3a9af9a54fa8b307652875","SpanId":"3969f26f04d38cfb","Properties":{"elapsed":"0","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.7554695+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"29829bc86b3a9af9a54fa8b307652875","SpanId":"3969f26f04d38cfb","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.7595686+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"29829bc86b3a9af9a54fa8b307652875","SpanId":"3969f26f04d38cfb","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7598527+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"29829bc86b3a9af9a54fa8b307652875","SpanId":"3969f26f04d38cfb","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":80.928,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5I:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7600385+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"29829bc86b3a9af9a54fa8b307652875","SpanId":"3969f26f04d38cfb","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7602758+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"29829bc86b3a9af9a54fa8b307652875","SpanId":"3969f26f04d38cfb","Properties":{"ElapsedMilliseconds":82.2177,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7645987+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fe3e85b989cb5edc6fb16781d26165f1","SpanId":"fb384f3a58873e61","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7649192+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"fe3e85b989cb5edc6fb16781d26165f1","SpanId":"fb384f3a58873e61","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7660238+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fe3e85b989cb5edc6fb16781d26165f1","SpanId":"fb384f3a58873e61","Properties":{"elapsed":"0","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5I:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7664202+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fe3e85b989cb5edc6fb16781d26165f1","SpanId":"fb384f3a58873e61","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7665724+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fe3e85b989cb5edc6fb16781d26165f1","SpanId":"fb384f3a58873e61","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7673741+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fe3e85b989cb5edc6fb16781d26165f1","SpanId":"fb384f3a58873e61","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7676712+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"fe3e85b989cb5edc6fb16781d26165f1","SpanId":"fb384f3a58873e61","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.7677809+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"fe3e85b989cb5edc6fb16781d26165f1","SpanId":"fb384f3a58873e61","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.7679030+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"fe3e85b989cb5edc6fb16781d26165f1","SpanId":"fb384f3a58873e61","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.7680238+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fe3e85b989cb5edc6fb16781d26165f1","SpanId":"fb384f3a58873e61","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7681864+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fe3e85b989cb5edc6fb16781d26165f1","SpanId":"fb384f3a58873e61","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":1.3807,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5I:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7683362+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fe3e85b989cb5edc6fb16781d26165f1","SpanId":"fb384f3a58873e61","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7685670+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fe3e85b989cb5edc6fb16781d26165f1","SpanId":"fb384f3a58873e61","Properties":{"ElapsedMilliseconds":3.9707,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7724609+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eee954bea5cbc2a477161e740f8e7a93","SpanId":"6462be2ebb31410e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7727758+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"eee954bea5cbc2a477161e740f8e7a93","SpanId":"6462be2ebb31410e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7729269+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"eee954bea5cbc2a477161e740f8e7a93","SpanId":"6462be2ebb31410e","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7730726+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"eee954bea5cbc2a477161e740f8e7a93","SpanId":"6462be2ebb31410e","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7734971+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"eee954bea5cbc2a477161e740f8e7a93","SpanId":"6462be2ebb31410e","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7745207+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eee954bea5cbc2a477161e740f8e7a93","SpanId":"6462be2ebb31410e","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7748449+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"eee954bea5cbc2a477161e740f8e7a93","SpanId":"6462be2ebb31410e","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7749966+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"eee954bea5cbc2a477161e740f8e7a93","SpanId":"6462be2ebb31410e","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7751889+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"eee954bea5cbc2a477161e740f8e7a93","SpanId":"6462be2ebb31410e","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":1.9294,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5I:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7753555+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"eee954bea5cbc2a477161e740f8e7a93","SpanId":"6462be2ebb31410e","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.7755034+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eee954bea5cbc2a477161e740f8e7a93","SpanId":"6462be2ebb31410e","Properties":{"ElapsedMilliseconds":3.0465,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000010","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8017707+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e8c92d295ca35b9736d6de3bea15915f","SpanId":"7e6bdb0100046136","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8021082+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e8c92d295ca35b9736d6de3bea15915f","SpanId":"7e6bdb0100046136","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8022755+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e8c92d295ca35b9736d6de3bea15915f","SpanId":"7e6bdb0100046136","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8024326+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e8c92d295ca35b9736d6de3bea15915f","SpanId":"7e6bdb0100046136","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8028082+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"e8c92d295ca35b9736d6de3bea15915f","SpanId":"7e6bdb0100046136","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.8029402+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"e8c92d295ca35b9736d6de3bea15915f","SpanId":"7e6bdb0100046136","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.8038875+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e8c92d295ca35b9736d6de3bea15915f","SpanId":"7e6bdb0100046136","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.8743250+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"e8c92d295ca35b9736d6de3bea15915f","SpanId":"7e6bdb0100046136","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.8752308+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e8c92d295ca35b9736d6de3bea15915f","SpanId":"7e6bdb0100046136","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.8755671+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"e8c92d295ca35b9736d6de3bea15915f","SpanId":"7e6bdb0100046136","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.8765049+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e8c92d295ca35b9736d6de3bea15915f","SpanId":"7e6bdb0100046136","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.8779053+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e8c92d295ca35b9736d6de3bea15915f","SpanId":"7e6bdb0100046136","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.8821384+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e8c92d295ca35b9736d6de3bea15915f","SpanId":"7e6bdb0100046136","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8826382+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e8c92d295ca35b9736d6de3bea15915f","SpanId":"7e6bdb0100046136","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":79.9979,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5I:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8828886+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e8c92d295ca35b9736d6de3bea15915f","SpanId":"7e6bdb0100046136","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8831644+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e8c92d295ca35b9736d6de3bea15915f","SpanId":"7e6bdb0100046136","Properties":{"ElapsedMilliseconds":81.3921,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000011","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8872862+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1c7082760da66b02c9e9ce1d692d4a40","SpanId":"75db8c142de674d8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8876931+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1c7082760da66b02c9e9ce1d692d4a40","SpanId":"75db8c142de674d8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8887943+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1c7082760da66b02c9e9ce1d692d4a40","SpanId":"75db8c142de674d8","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5I:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8891537+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1c7082760da66b02c9e9ce1d692d4a40","SpanId":"75db8c142de674d8","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8893401+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1c7082760da66b02c9e9ce1d692d4a40","SpanId":"75db8c142de674d8","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8903790+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1c7082760da66b02c9e9ce1d692d4a40","SpanId":"75db8c142de674d8","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8908282+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"1c7082760da66b02c9e9ce1d692d4a40","SpanId":"75db8c142de674d8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.8910185+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"1c7082760da66b02c9e9ce1d692d4a40","SpanId":"75db8c142de674d8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.8911350+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"1c7082760da66b02c9e9ce1d692d4a40","SpanId":"75db8c142de674d8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.8912772+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1c7082760da66b02c9e9ce1d692d4a40","SpanId":"75db8c142de674d8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8914694+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1c7082760da66b02c9e9ce1d692d4a40","SpanId":"75db8c142de674d8","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":1.8987,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5I:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8916545+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1c7082760da66b02c9e9ce1d692d4a40","SpanId":"75db8c142de674d8","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8918576+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1c7082760da66b02c9e9ce1d692d4a40","SpanId":"75db8c142de674d8","Properties":{"ElapsedMilliseconds":4.5723,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000012","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8958638+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e540e6caa728256680c7997736b42674","SpanId":"993e1ee12048381c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8962537+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e540e6caa728256680c7997736b42674","SpanId":"993e1ee12048381c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8964328+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e540e6caa728256680c7997736b42674","SpanId":"993e1ee12048381c","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8965951+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e540e6caa728256680c7997736b42674","SpanId":"993e1ee12048381c","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8969698+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"e540e6caa728256680c7997736b42674","SpanId":"993e1ee12048381c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8979195+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e540e6caa728256680c7997736b42674","SpanId":"993e1ee12048381c","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8982328+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"e540e6caa728256680c7997736b42674","SpanId":"993e1ee12048381c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8984294+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e540e6caa728256680c7997736b42674","SpanId":"993e1ee12048381c","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8986044+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e540e6caa728256680c7997736b42674","SpanId":"993e1ee12048381c","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":1.8008,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5I:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8987738+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e540e6caa728256680c7997736b42674","SpanId":"993e1ee12048381c","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.8989541+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e540e6caa728256680c7997736b42674","SpanId":"993e1ee12048381c","Properties":{"ElapsedMilliseconds":3.0914,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000013","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.9184010+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1fdbbb8943b860b0026569779794befe","SpanId":"6f4b36cd0314ee87","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.9188114+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1fdbbb8943b860b0026569779794befe","SpanId":"6f4b36cd0314ee87","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.9189799+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1fdbbb8943b860b0026569779794befe","SpanId":"6f4b36cd0314ee87","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.9192040+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1fdbbb8943b860b0026569779794befe","SpanId":"6f4b36cd0314ee87","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.9195493+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"1fdbbb8943b860b0026569779794befe","SpanId":"6f4b36cd0314ee87","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.9196775+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"1fdbbb8943b860b0026569779794befe","SpanId":"6f4b36cd0314ee87","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.9205972+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1fdbbb8943b860b0026569779794befe","SpanId":"6f4b36cd0314ee87","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.9909009+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"1fdbbb8943b860b0026569779794befe","SpanId":"6f4b36cd0314ee87","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.9920514+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1fdbbb8943b860b0026569779794befe","SpanId":"6f4b36cd0314ee87","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.9923974+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"1fdbbb8943b860b0026569779794befe","SpanId":"6f4b36cd0314ee87","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.9933634+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1fdbbb8943b860b0026569779794befe","SpanId":"6f4b36cd0314ee87","Properties":{"elapsed":"0","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.9948492+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1fdbbb8943b860b0026569779794befe","SpanId":"6f4b36cd0314ee87","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:27.9990896+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1fdbbb8943b860b0026569779794befe","SpanId":"6f4b36cd0314ee87","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c7516f87-e1c0-46ac-8b31-825884731062","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.9994812+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1fdbbb8943b860b0026569779794befe","SpanId":"6f4b36cd0314ee87","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":80.0818,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5I:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.9996769+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1fdbbb8943b860b0026569779794befe","SpanId":"6f4b36cd0314ee87","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:27.9998874+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1fdbbb8943b860b0026569779794befe","SpanId":"6f4b36cd0314ee87","Properties":{"ElapsedMilliseconds":81.4892,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0041454+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"13fa040f4c62adb8b9d12916b62e510e","SpanId":"6801e97a1852f03e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0045405+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"13fa040f4c62adb8b9d12916b62e510e","SpanId":"6801e97a1852f03e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0058419+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"13fa040f4c62adb8b9d12916b62e510e","SpanId":"6801e97a1852f03e","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAC9OS0R5I:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0062187+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"13fa040f4c62adb8b9d12916b62e510e","SpanId":"6801e97a1852f03e","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0063867+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"13fa040f4c62adb8b9d12916b62e510e","SpanId":"6801e97a1852f03e","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0072252+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"13fa040f4c62adb8b9d12916b62e510e","SpanId":"6801e97a1852f03e","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0074951+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"13fa040f4c62adb8b9d12916b62e510e","SpanId":"6801e97a1852f03e","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:28.0076430+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"13fa040f4c62adb8b9d12916b62e510e","SpanId":"6801e97a1852f03e","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:28.0077475+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"13fa040f4c62adb8b9d12916b62e510e","SpanId":"6801e97a1852f03e","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:18:28.0079316+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"13fa040f4c62adb8b9d12916b62e510e","SpanId":"6801e97a1852f03e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"155b2ee4-c598-441a-b658-bc50149d1e5d","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0080851+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"13fa040f4c62adb8b9d12916b62e510e","SpanId":"6801e97a1852f03e","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":1.4979,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5I:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0082644+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"13fa040f4c62adb8b9d12916b62e510e","SpanId":"6801e97a1852f03e","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0084410+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"13fa040f4c62adb8b9d12916b62e510e","SpanId":"6801e97a1852f03e","Properties":{"ElapsedMilliseconds":4.2975,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0124805+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"66d91d8d982f5acfa8c0992d796d6986","SpanId":"6fff92a022d1b891","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0128358+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"66d91d8d982f5acfa8c0992d796d6986","SpanId":"6fff92a022d1b891","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAC9OS0R5I:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0129862+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"66d91d8d982f5acfa8c0992d796d6986","SpanId":"6fff92a022d1b891","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0131878+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"66d91d8d982f5acfa8c0992d796d6986","SpanId":"6fff92a022d1b891","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0135464+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"66d91d8d982f5acfa8c0992d796d6986","SpanId":"6fff92a022d1b891","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0145209+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"66d91d8d982f5acfa8c0992d796d6986","SpanId":"6fff92a022d1b891","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0148192+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. ","TraceId":"66d91d8d982f5acfa8c0992d796d6986","SpanId":"6fff92a022d1b891","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0149651+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"66d91d8d982f5acfa8c0992d796d6986","SpanId":"6fff92a022d1b891","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2357747c-bbf1-4e7b-a8eb-5c461df0c55f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAC9OS0R5I:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0151439+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"66d91d8d982f5acfa8c0992d796d6986","SpanId":"6fff92a022d1b891","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":1.7549,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAC9OS0R5I:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0153924+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"66d91d8d982f5acfa8c0992d796d6986","SpanId":"6fff92a022d1b891","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAC9OS0R5I:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:18:28.0155882+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"66d91d8d982f5acfa8c0992d796d6986","SpanId":"6fff92a022d1b891","Properties":{"ElapsedMilliseconds":3.1089,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAC9OS0R5I:00000016","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAC9OS0R5I"}}
{"Timestamp":"2025-09-03T00:19:23.4146601+03:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:19:34.5599671+03:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/hermoonumu/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-09-03T00:19:34.7204006+03:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://0.0.0.0:6865","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:19:34.7225616+03:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:19:34.7230623+03:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:19:34.7232763+03:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/run/media/hermoonumu/DATA/Project/Learning/MyWebApp/MessagingApp","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:19:37.1908234+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b252551fed067c1348a076745a906945","SpanId":"2dbc91b27a7bf7cc","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACPLRQSC8:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:37.1971796+03:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"b252551fed067c1348a076745a906945","SpanId":"2dbc91b27a7bf7cc","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNFACPLRQSC8:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:37.2181543+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b252551fed067c1348a076745a906945","SpanId":"2dbc91b27a7bf7cc","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACPLRQSC8:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:37.2223977+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b252551fed067c1348a076745a906945","SpanId":"2dbc91b27a7bf7cc","Properties":{"ElapsedMilliseconds":32.9982,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACPLRQSC8:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:37.2345814+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6034adc53fab66c2f523a4a6633360d0","SpanId":"579e6d70347de654","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACPLRQSC8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:37.2384736+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"6034adc53fab66c2f523a4a6633360d0","SpanId":"579e6d70347de654","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACPLRQSC8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:37.2739823+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6034adc53fab66c2f523a4a6633360d0","SpanId":"579e6d70347de654","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACPLRQSC8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:37.2916879+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6034adc53fab66c2f523a4a6633360d0","SpanId":"579e6d70347de654","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f766df97-622d-4acb-8c3b-c5acfc1ed82e","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:37.4242414+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"6034adc53fab66c2f523a4a6633360d0","SpanId":"579e6d70347de654","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"f766df97-622d-4acb-8c3b-c5acfc1ed82e","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACPLRQSC8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:19:37.4252558+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"6034adc53fab66c2f523a4a6633360d0","SpanId":"579e6d70347de654","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"f766df97-622d-4acb-8c3b-c5acfc1ed82e","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACPLRQSC8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:19:38.5520109+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6034adc53fab66c2f523a4a6633360d0","SpanId":"579e6d70347de654","Properties":{"elapsed":"49","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"f766df97-622d-4acb-8c3b-c5acfc1ed82e","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACPLRQSC8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:19:38.7109955+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"6034adc53fab66c2f523a4a6633360d0","SpanId":"579e6d70347de654","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"f766df97-622d-4acb-8c3b-c5acfc1ed82e","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACPLRQSC8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:19:38.7190644+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6034adc53fab66c2f523a4a6633360d0","SpanId":"579e6d70347de654","Properties":{"elapsed":"4","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"f766df97-622d-4acb-8c3b-c5acfc1ed82e","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACPLRQSC8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:19:38.7228817+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"6034adc53fab66c2f523a4a6633360d0","SpanId":"579e6d70347de654","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"f766df97-622d-4acb-8c3b-c5acfc1ed82e","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACPLRQSC8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:19:38.7564734+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6034adc53fab66c2f523a4a6633360d0","SpanId":"579e6d70347de654","Properties":{"elapsed":"2","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"f766df97-622d-4acb-8c3b-c5acfc1ed82e","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACPLRQSC8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:19:38.9003754+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6034adc53fab66c2f523a4a6633360d0","SpanId":"579e6d70347de654","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"f766df97-622d-4acb-8c3b-c5acfc1ed82e","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACPLRQSC8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:19:38.9375089+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6034adc53fab66c2f523a4a6633360d0","SpanId":"579e6d70347de654","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f766df97-622d-4acb-8c3b-c5acfc1ed82e","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:38.9474251+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6034adc53fab66c2f523a4a6633360d0","SpanId":"579e6d70347de654","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":1652.2979,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACPLRQSC8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:38.9482798+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6034adc53fab66c2f523a4a6633360d0","SpanId":"579e6d70347de654","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACPLRQSC8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:38.9566913+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6034adc53fab66c2f523a4a6633360d0","SpanId":"579e6d70347de654","Properties":{"ElapsedMilliseconds":1722.3608,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACPLRQSC8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:38.9574802+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6410b99f1e353955d463b610eb446a1d","SpanId":"1f4c667486a30b96","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACPLRQSC8:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:38.9583254+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"6410b99f1e353955d463b610eb446a1d","SpanId":"1f4c667486a30b96","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACPLRQSC8:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:38.9588066+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6410b99f1e353955d463b610eb446a1d","SpanId":"1f4c667486a30b96","Properties":{"ElapsedMilliseconds":1.3066,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACPLRQSC8:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:38.9627283+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"61d5114191abef259fc5d853ebf3dd24","SpanId":"de8dab1a937a23e9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACPLRQSC8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:38.9634232+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"61d5114191abef259fc5d853ebf3dd24","SpanId":"de8dab1a937a23e9","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACPLRQSC8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.0217538+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"61d5114191abef259fc5d853ebf3dd24","SpanId":"de8dab1a937a23e9","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFACPLRQSC8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.0277642+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"61d5114191abef259fc5d853ebf3dd24","SpanId":"de8dab1a937a23e9","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACPLRQSC8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.0322754+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"61d5114191abef259fc5d853ebf3dd24","SpanId":"de8dab1a937a23e9","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"721c8872-d559-44de-ae32-3662dbcf7981","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.0364089+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"61d5114191abef259fc5d853ebf3dd24","SpanId":"de8dab1a937a23e9","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"721c8872-d559-44de-ae32-3662dbcf7981","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.0372316+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"61d5114191abef259fc5d853ebf3dd24","SpanId":"de8dab1a937a23e9","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"721c8872-d559-44de-ae32-3662dbcf7981","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACPLRQSC8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:19:39.0374959+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"61d5114191abef259fc5d853ebf3dd24","SpanId":"de8dab1a937a23e9","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"721c8872-d559-44de-ae32-3662dbcf7981","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACPLRQSC8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:19:39.0376934+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"61d5114191abef259fc5d853ebf3dd24","SpanId":"de8dab1a937a23e9","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"721c8872-d559-44de-ae32-3662dbcf7981","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACPLRQSC8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:19:39.0382686+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"61d5114191abef259fc5d853ebf3dd24","SpanId":"de8dab1a937a23e9","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"721c8872-d559-44de-ae32-3662dbcf7981","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.0389946+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"61d5114191abef259fc5d853ebf3dd24","SpanId":"de8dab1a937a23e9","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":6.206,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACPLRQSC8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.0392996+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"61d5114191abef259fc5d853ebf3dd24","SpanId":"de8dab1a937a23e9","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACPLRQSC8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.0396676+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"61d5114191abef259fc5d853ebf3dd24","SpanId":"de8dab1a937a23e9","Properties":{"ElapsedMilliseconds":76.9488,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACPLRQSC8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.0442075+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ae49e5aeb4c92c210a3dd647c0ce93c8","SpanId":"c9a2c273927d05fc","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACPLRQSC8:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.0447652+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ae49e5aeb4c92c210a3dd647c0ce93c8","SpanId":"c9a2c273927d05fc","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACPLRQSC8:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.0451161+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ae49e5aeb4c92c210a3dd647c0ce93c8","SpanId":"c9a2c273927d05fc","Properties":{"ElapsedMilliseconds":0.9141,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACPLRQSC8:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.0478609+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9a106310f4b38968695b2d4097744326","SpanId":"8adab3635605d208","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACPLRQSC8:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.0484577+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9a106310f4b38968695b2d4097744326","SpanId":"8adab3635605d208","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACPLRQSC8:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.0511869+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9a106310f4b38968695b2d4097744326","SpanId":"8adab3635605d208","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACPLRQSC8:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.0548624+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9a106310f4b38968695b2d4097744326","SpanId":"8adab3635605d208","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0ed9a9c8-6802-4755-ac76-95424274a0e0","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.0619026+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"9a106310f4b38968695b2d4097744326","SpanId":"8adab3635605d208","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"0ed9a9c8-6802-4755-ac76-95424274a0e0","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.1203231+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9a106310f4b38968695b2d4097744326","SpanId":"8adab3635605d208","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0ed9a9c8-6802-4755-ac76-95424274a0e0","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.1215218+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. Y7BMExQOp/XthzGJeIwhiAqA3996qtIXgTuiV3MtzZrxjpncS8qfSxgaCwbe64fw2dTdCD0va30XxFaEnhTTExU+8Ux2hmSZ308cHTdt742/Zb7LsH3D3XyokdapRXPa8fAlly4AojgpXgAyrQwgk4BaNlVK3wYJljf4EprsoZo=","TraceId":"9a106310f4b38968695b2d4097744326","SpanId":"8adab3635605d208","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"0ed9a9c8-6802-4755-ac76-95424274a0e0","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.1219836+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9a106310f4b38968695b2d4097744326","SpanId":"8adab3635605d208","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0ed9a9c8-6802-4755-ac76-95424274a0e0","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACPLRQSC8:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.1223757+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9a106310f4b38968695b2d4097744326","SpanId":"8adab3635605d208","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":67.1374,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACPLRQSC8:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.1226035+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9a106310f4b38968695b2d4097744326","SpanId":"8adab3635605d208","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACPLRQSC8:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:19:39.1228354+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9a106310f4b38968695b2d4097744326","SpanId":"8adab3635605d208","Properties":{"ElapsedMilliseconds":74.9854,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACPLRQSC8:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACPLRQSC8"}}
{"Timestamp":"2025-09-03T00:21:20.8086739+03:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:21:28.8722797+03:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/hermoonumu/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-09-03T00:21:29.0202712+03:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://0.0.0.0:6865","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:21:29.0221110+03:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:21:29.0226618+03:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:21:29.0229070+03:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/run/media/hermoonumu/DATA/Project/Learning/MyWebApp/MessagingApp","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:21:32.6708182+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3e2c8d9d1879aee74717f90d5e62a164","SpanId":"b90fae30496c1b7f","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACQO965C1:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:32.6769941+03:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"3e2c8d9d1879aee74717f90d5e62a164","SpanId":"b90fae30496c1b7f","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNFACQO965C1:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:32.6991432+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"3e2c8d9d1879aee74717f90d5e62a164","SpanId":"b90fae30496c1b7f","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACQO965C1:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:32.7033936+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3e2c8d9d1879aee74717f90d5e62a164","SpanId":"b90fae30496c1b7f","Properties":{"ElapsedMilliseconds":34.0677,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACQO965C1:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:32.7160912+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fb07dab028189ebe406d25fe95a9af29","SpanId":"0b8f23ca46f13514","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACQO965C1:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:32.7197559+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"fb07dab028189ebe406d25fe95a9af29","SpanId":"0b8f23ca46f13514","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACQO965C1:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:32.7547693+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fb07dab028189ebe406d25fe95a9af29","SpanId":"0b8f23ca46f13514","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACQO965C1:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:32.7715307+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fb07dab028189ebe406d25fe95a9af29","SpanId":"0b8f23ca46f13514","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6b9177a4-8b11-4c85-8a0b-f8c370792610","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACQO965C1:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:32.8980426+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"fb07dab028189ebe406d25fe95a9af29","SpanId":"0b8f23ca46f13514","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"6b9177a4-8b11-4c85-8a0b-f8c370792610","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACQO965C1:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACQO965C1","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:21:32.8989853+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"fb07dab028189ebe406d25fe95a9af29","SpanId":"0b8f23ca46f13514","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"6b9177a4-8b11-4c85-8a0b-f8c370792610","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACQO965C1:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACQO965C1","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:21:34.0156769+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb07dab028189ebe406d25fe95a9af29","SpanId":"0b8f23ca46f13514","Properties":{"elapsed":"48","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"6b9177a4-8b11-4c85-8a0b-f8c370792610","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACQO965C1:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACQO965C1","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:21:34.1678276+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"fb07dab028189ebe406d25fe95a9af29","SpanId":"0b8f23ca46f13514","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"6b9177a4-8b11-4c85-8a0b-f8c370792610","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACQO965C1:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACQO965C1","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:21:34.1757291+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb07dab028189ebe406d25fe95a9af29","SpanId":"0b8f23ca46f13514","Properties":{"elapsed":"4","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"6b9177a4-8b11-4c85-8a0b-f8c370792610","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACQO965C1:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACQO965C1","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:21:34.1797758+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"fb07dab028189ebe406d25fe95a9af29","SpanId":"0b8f23ca46f13514","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"6b9177a4-8b11-4c85-8a0b-f8c370792610","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACQO965C1:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACQO965C1","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:21:34.2131963+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb07dab028189ebe406d25fe95a9af29","SpanId":"0b8f23ca46f13514","Properties":{"elapsed":"2","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"6b9177a4-8b11-4c85-8a0b-f8c370792610","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACQO965C1:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACQO965C1","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:21:34.3556143+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb07dab028189ebe406d25fe95a9af29","SpanId":"0b8f23ca46f13514","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"6b9177a4-8b11-4c85-8a0b-f8c370792610","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACQO965C1:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACQO965C1","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:21:34.3949742+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fb07dab028189ebe406d25fe95a9af29","SpanId":"0b8f23ca46f13514","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"6b9177a4-8b11-4c85-8a0b-f8c370792610","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACQO965C1:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.4039537+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fb07dab028189ebe406d25fe95a9af29","SpanId":"0b8f23ca46f13514","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":1629.2091,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACQO965C1:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.4047280+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fb07dab028189ebe406d25fe95a9af29","SpanId":"0b8f23ca46f13514","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACQO965C1:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.4134993+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fb07dab028189ebe406d25fe95a9af29","SpanId":"0b8f23ca46f13514","Properties":{"ElapsedMilliseconds":1697.7112,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACQO965C1:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.4143491+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"77e4eba32923969a896a8d4ef08c6f0b","SpanId":"3e4699ec34935225","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACQO965C1:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.4153388+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"77e4eba32923969a896a8d4ef08c6f0b","SpanId":"3e4699ec34935225","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACQO965C1:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.4158990+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"77e4eba32923969a896a8d4ef08c6f0b","SpanId":"3e4699ec34935225","Properties":{"ElapsedMilliseconds":1.5563,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACQO965C1:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.4194441+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8259eec0cda6be49284c95c3d218ef38","SpanId":"0bbddca633533856","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACQO965C1:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.4200597+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"8259eec0cda6be49284c95c3d218ef38","SpanId":"0bbddca633533856","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACQO965C1:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.4765497+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8259eec0cda6be49284c95c3d218ef38","SpanId":"0bbddca633533856","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFACQO965C1:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.4824587+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8259eec0cda6be49284c95c3d218ef38","SpanId":"0bbddca633533856","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACQO965C1:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.4868395+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8259eec0cda6be49284c95c3d218ef38","SpanId":"0bbddca633533856","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7c0128e7-305d-4dcc-ad65-8485dbd6a305","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACQO965C1:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.4907867+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8259eec0cda6be49284c95c3d218ef38","SpanId":"0bbddca633533856","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7c0128e7-305d-4dcc-ad65-8485dbd6a305","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACQO965C1:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.4916253+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"8259eec0cda6be49284c95c3d218ef38","SpanId":"0bbddca633533856","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"7c0128e7-305d-4dcc-ad65-8485dbd6a305","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACQO965C1:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACQO965C1","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:21:34.4918905+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"8259eec0cda6be49284c95c3d218ef38","SpanId":"0bbddca633533856","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"7c0128e7-305d-4dcc-ad65-8485dbd6a305","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACQO965C1:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACQO965C1","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:21:34.4921013+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"8259eec0cda6be49284c95c3d218ef38","SpanId":"0bbddca633533856","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"7c0128e7-305d-4dcc-ad65-8485dbd6a305","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACQO965C1:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACQO965C1","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:21:34.4926721+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8259eec0cda6be49284c95c3d218ef38","SpanId":"0bbddca633533856","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7c0128e7-305d-4dcc-ad65-8485dbd6a305","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACQO965C1:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.4933593+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8259eec0cda6be49284c95c3d218ef38","SpanId":"0bbddca633533856","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":6.0537,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACQO965C1:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.4936700+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8259eec0cda6be49284c95c3d218ef38","SpanId":"0bbddca633533856","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACQO965C1:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.4941083+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8259eec0cda6be49284c95c3d218ef38","SpanId":"0bbddca633533856","Properties":{"ElapsedMilliseconds":74.6693,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACQO965C1:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.4985276+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fb024b8314d5776bc8d2bbdd23127375","SpanId":"56ee35e3b2180ab1","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACQO965C1:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.4990077+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"fb024b8314d5776bc8d2bbdd23127375","SpanId":"56ee35e3b2180ab1","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACQO965C1:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.4992606+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fb024b8314d5776bc8d2bbdd23127375","SpanId":"56ee35e3b2180ab1","Properties":{"ElapsedMilliseconds":0.7478,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACQO965C1:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.5017878+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4b7c7a403e5e1cfb0fa0581a8e7f21f1","SpanId":"6306de9ba43f4cc8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACQO965C1:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.5023338+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"4b7c7a403e5e1cfb0fa0581a8e7f21f1","SpanId":"6306de9ba43f4cc8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACQO965C1:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.5044636+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4b7c7a403e5e1cfb0fa0581a8e7f21f1","SpanId":"6306de9ba43f4cc8","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACQO965C1:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.5079155+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4b7c7a403e5e1cfb0fa0581a8e7f21f1","SpanId":"6306de9ba43f4cc8","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e4668742-7b45-4f35-b791-caf3be44f49f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACQO965C1:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.5145640+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"4b7c7a403e5e1cfb0fa0581a8e7f21f1","SpanId":"6306de9ba43f4cc8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"e4668742-7b45-4f35-b791-caf3be44f49f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACQO965C1:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.5693498+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4b7c7a403e5e1cfb0fa0581a8e7f21f1","SpanId":"6306de9ba43f4cc8","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e4668742-7b45-4f35-b791-caf3be44f49f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACQO965C1:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.5705097+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. kbVJFhG7dLmmo1alksC6ie8+jZ/Aoo/OTdEufsmt4jlJlG1Xdbko9ZPAvXfQ8LRH/7cWfYE/2x2shOLX08m3u6DoTBonifNZRH5oKlPA3422BcDC5S6ZmTTEjWRvRPMYv/fk8yLOoGe2nqYs9xpxxeX3yzcgLDXjKYjEhtIHeHc=","TraceId":"4b7c7a403e5e1cfb0fa0581a8e7f21f1","SpanId":"6306de9ba43f4cc8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"e4668742-7b45-4f35-b791-caf3be44f49f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACQO965C1:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.5709307+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4b7c7a403e5e1cfb0fa0581a8e7f21f1","SpanId":"6306de9ba43f4cc8","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e4668742-7b45-4f35-b791-caf3be44f49f","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACQO965C1:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.5714893+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4b7c7a403e5e1cfb0fa0581a8e7f21f1","SpanId":"6306de9ba43f4cc8","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":63.1739,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACQO965C1:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.5717544+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4b7c7a403e5e1cfb0fa0581a8e7f21f1","SpanId":"6306de9ba43f4cc8","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACQO965C1:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:21:34.5720578+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4b7c7a403e5e1cfb0fa0581a8e7f21f1","SpanId":"6306de9ba43f4cc8","Properties":{"ElapsedMilliseconds":70.2674,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACQO965C1:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACQO965C1"}}
{"Timestamp":"2025-09-03T00:22:13.8037083+03:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:22:21.7849285+03:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/hermoonumu/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-09-03T00:22:21.9246747+03:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://0.0.0.0:6865","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:22:21.9265039+03:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:22:21.9269579+03:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:22:21.9271492+03:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/run/media/hermoonumu/DATA/Project/Learning/MyWebApp/MessagingApp","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:22:24.1091737+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"67d1bf4f0cea9c51926b3a6b8b26eaeb","SpanId":"a8465e6613f6e442","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCG:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:24.1156824+03:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"67d1bf4f0cea9c51926b3a6b8b26eaeb","SpanId":"a8465e6613f6e442","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNFACR7JNHCG:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:24.1377380+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"67d1bf4f0cea9c51926b3a6b8b26eaeb","SpanId":"a8465e6613f6e442","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCG:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:24.1423431+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"67d1bf4f0cea9c51926b3a6b8b26eaeb","SpanId":"a8465e6613f6e442","Properties":{"ElapsedMilliseconds":35.0666,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCG:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:24.1545399+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"20c05fd1fa221d81419ccea18a2abd4c","SpanId":"0fec7d41f59cee99","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCG:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:24.1580391+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"20c05fd1fa221d81419ccea18a2abd4c","SpanId":"0fec7d41f59cee99","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCG:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:24.1921788+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"20c05fd1fa221d81419ccea18a2abd4c","SpanId":"0fec7d41f59cee99","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCG:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:24.2088862+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"20c05fd1fa221d81419ccea18a2abd4c","SpanId":"0fec7d41f59cee99","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:24.3359344+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"20c05fd1fa221d81419ccea18a2abd4c","SpanId":"0fec7d41f59cee99","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCG","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:22:24.3368539+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"20c05fd1fa221d81419ccea18a2abd4c","SpanId":"0fec7d41f59cee99","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCG","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:22:25.4594916+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"20c05fd1fa221d81419ccea18a2abd4c","SpanId":"0fec7d41f59cee99","Properties":{"elapsed":"48","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCG","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:22:25.6147109+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"20c05fd1fa221d81419ccea18a2abd4c","SpanId":"0fec7d41f59cee99","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCG","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:22:25.6221199+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"20c05fd1fa221d81419ccea18a2abd4c","SpanId":"0fec7d41f59cee99","Properties":{"elapsed":"3","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCG","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:22:25.6259750+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"20c05fd1fa221d81419ccea18a2abd4c","SpanId":"0fec7d41f59cee99","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCG","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:22:25.6593832+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"20c05fd1fa221d81419ccea18a2abd4c","SpanId":"0fec7d41f59cee99","Properties":{"elapsed":"2","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCG","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:22:25.7996281+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"20c05fd1fa221d81419ccea18a2abd4c","SpanId":"0fec7d41f59cee99","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCG","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:22:25.8344886+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"20c05fd1fa221d81419ccea18a2abd4c","SpanId":"0fec7d41f59cee99","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.8440257+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"20c05fd1fa221d81419ccea18a2abd4c","SpanId":"0fec7d41f59cee99","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":1631.6036,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCG:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.8448660+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"20c05fd1fa221d81419ccea18a2abd4c","SpanId":"0fec7d41f59cee99","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCG:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.8525672+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"20c05fd1fa221d81419ccea18a2abd4c","SpanId":"0fec7d41f59cee99","Properties":{"ElapsedMilliseconds":1698.307,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCG:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.8533839+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"694b52b94312ac05b80abd6d3d5bd6d8","SpanId":"385d55c093e6ce39","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCG:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.8541532+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"694b52b94312ac05b80abd6d3d5bd6d8","SpanId":"385d55c093e6ce39","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCG:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.8545774+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"694b52b94312ac05b80abd6d3d5bd6d8","SpanId":"385d55c093e6ce39","Properties":{"ElapsedMilliseconds":1.1792,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCG:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.8590080+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5c1c8de6ab6d41162bbebe4f0652409e","SpanId":"2a41b3dd6c260719","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCG:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.8596907+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"5c1c8de6ab6d41162bbebe4f0652409e","SpanId":"2a41b3dd6c260719","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCG:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.9218816+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5c1c8de6ab6d41162bbebe4f0652409e","SpanId":"2a41b3dd6c260719","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFACR7JNHCG:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.9280113+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5c1c8de6ab6d41162bbebe4f0652409e","SpanId":"2a41b3dd6c260719","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCG:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.9329985+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5c1c8de6ab6d41162bbebe4f0652409e","SpanId":"2a41b3dd6c260719","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.9366162+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5c1c8de6ab6d41162bbebe4f0652409e","SpanId":"2a41b3dd6c260719","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.9374893+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"5c1c8de6ab6d41162bbebe4f0652409e","SpanId":"2a41b3dd6c260719","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCG","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:22:25.9377261+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"5c1c8de6ab6d41162bbebe4f0652409e","SpanId":"2a41b3dd6c260719","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCG","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:22:25.9380086+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"5c1c8de6ab6d41162bbebe4f0652409e","SpanId":"2a41b3dd6c260719","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCG","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:22:25.9386849+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5c1c8de6ab6d41162bbebe4f0652409e","SpanId":"2a41b3dd6c260719","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.9394682+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5c1c8de6ab6d41162bbebe4f0652409e","SpanId":"2a41b3dd6c260719","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":6.0133,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCG:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.9397786+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5c1c8de6ab6d41162bbebe4f0652409e","SpanId":"2a41b3dd6c260719","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCG:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.9402210+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5c1c8de6ab6d41162bbebe4f0652409e","SpanId":"2a41b3dd6c260719","Properties":{"ElapsedMilliseconds":81.2352,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCG:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.9451737+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9de72925c23d791e2d31520bd78f4d93","SpanId":"a1cae0c7cf0e6657","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCG:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.9456621+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9de72925c23d791e2d31520bd78f4d93","SpanId":"a1cae0c7cf0e6657","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCG:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.9459836+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9de72925c23d791e2d31520bd78f4d93","SpanId":"a1cae0c7cf0e6657","Properties":{"ElapsedMilliseconds":0.8161,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCG:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.9484352+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8100b93a15b6bbc616d0cc24ad33c598","SpanId":"314a59054ce08421","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCG:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.9489277+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"8100b93a15b6bbc616d0cc24ad33c598","SpanId":"314a59054ce08421","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCG:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.9508611+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8100b93a15b6bbc616d0cc24ad33c598","SpanId":"314a59054ce08421","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCG:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.9547391+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8100b93a15b6bbc616d0cc24ad33c598","SpanId":"314a59054ce08421","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:25.9615386+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by 192.168.31.243:6865","TraceId":"8100b93a15b6bbc616d0cc24ad33c598","SpanId":"314a59054ce08421","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:26.0192234+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8100b93a15b6bbc616d0cc24ad33c598","SpanId":"314a59054ce08421","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:26.0205480+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by 192.168.31.243:6865. Refresh failed. TKHTtixEfeAyy/2Uf5kXaKKZi7MORF1cMLRpKhSj+AZthFghJMybcabA1pPrCfvacmnE+OvuRhOE17VxOqF7vkHS3PQSwwO+8T4m1fH6Dqfqt5IpW5336GdvIftmPcQHIK175XzFLD/CJfWiHAnvrJRv4rZ154wc52Lnkh49yc4=","TraceId":"8100b93a15b6bbc616d0cc24ad33c598","SpanId":"314a59054ce08421","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:26.0209434+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8100b93a15b6bbc616d0cc24ad33c598","SpanId":"314a59054ce08421","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCG:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:26.0213779+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8100b93a15b6bbc616d0cc24ad33c598","SpanId":"314a59054ce08421","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":66.2971,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCG:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:26.0216435+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8100b93a15b6bbc616d0cc24ad33c598","SpanId":"314a59054ce08421","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCG:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:22:26.0219302+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8100b93a15b6bbc616d0cc24ad33c598","SpanId":"314a59054ce08421","Properties":{"ElapsedMilliseconds":73.5128,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCG:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCG"}}
{"Timestamp":"2025-09-03T00:24:59.0176246+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"78c1226976144c47f7c0716f64a42601","SpanId":"b666a575214813c8","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.0186518+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"78c1226976144c47f7c0716f64a42601","SpanId":"b666a575214813c8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.0194184+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"78c1226976144c47f7c0716f64a42601","SpanId":"b666a575214813c8","Properties":{"ElapsedMilliseconds":1.8357,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.0227267+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"78080161393181cd0066c8af4c73092d","SpanId":"ed5d66a075629dad","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.0231881+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"78080161393181cd0066c8af4c73092d","SpanId":"ed5d66a075629dad","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.0237742+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"78080161393181cd0066c8af4c73092d","SpanId":"ed5d66a075629dad","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.0243676+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"78080161393181cd0066c8af4c73092d","SpanId":"ed5d66a075629dad","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.0258810+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"78080161393181cd0066c8af4c73092d","SpanId":"ed5d66a075629dad","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:24:59.0261745+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"78080161393181cd0066c8af4c73092d","SpanId":"ed5d66a075629dad","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:24:59.0292632+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"78080161393181cd0066c8af4c73092d","SpanId":"ed5d66a075629dad","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:24:59.1025942+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"78080161393181cd0066c8af4c73092d","SpanId":"ed5d66a075629dad","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:24:59.1038880+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"78080161393181cd0066c8af4c73092d","SpanId":"ed5d66a075629dad","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:24:59.1044526+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"78080161393181cd0066c8af4c73092d","SpanId":"ed5d66a075629dad","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:24:59.1062290+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"78080161393181cd0066c8af4c73092d","SpanId":"ed5d66a075629dad","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:24:59.1102621+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"78080161393181cd0066c8af4c73092d","SpanId":"ed5d66a075629dad","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:24:59.1156917+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"78080161393181cd0066c8af4c73092d","SpanId":"ed5d66a075629dad","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1166706+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"78080161393181cd0066c8af4c73092d","SpanId":"ed5d66a075629dad","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":91.8726,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCH:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1170091+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"78080161393181cd0066c8af4c73092d","SpanId":"ed5d66a075629dad","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1174950+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"78080161393181cd0066c8af4c73092d","SpanId":"ed5d66a075629dad","Properties":{"ElapsedMilliseconds":94.7311,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1274869+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5d730491a176828282a5d56e280ab0ca","SpanId":"f7cbe2f5047032af","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1281988+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"5d730491a176828282a5d56e280ab0ca","SpanId":"f7cbe2f5047032af","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1285323+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5d730491a176828282a5d56e280ab0ca","SpanId":"f7cbe2f5047032af","Properties":{"ElapsedMilliseconds":1.0914,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1315987+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"38211bcf516eb28dc83354df2dd9698d","SpanId":"3b2a7c6373b73b79","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1320631+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"38211bcf516eb28dc83354df2dd9698d","SpanId":"3b2a7c6373b73b79","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1343603+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38211bcf516eb28dc83354df2dd9698d","SpanId":"3b2a7c6373b73b79","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFACR7JNHCH:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1368937+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"38211bcf516eb28dc83354df2dd9698d","SpanId":"3b2a7c6373b73b79","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1372501+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"38211bcf516eb28dc83354df2dd9698d","SpanId":"3b2a7c6373b73b79","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1389833+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38211bcf516eb28dc83354df2dd9698d","SpanId":"3b2a7c6373b73b79","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1395276+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"38211bcf516eb28dc83354df2dd9698d","SpanId":"3b2a7c6373b73b79","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:24:59.1397168+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"38211bcf516eb28dc83354df2dd9698d","SpanId":"3b2a7c6373b73b79","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:24:59.1400197+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"38211bcf516eb28dc83354df2dd9698d","SpanId":"3b2a7c6373b73b79","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:24:59.1402678+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"38211bcf516eb28dc83354df2dd9698d","SpanId":"3b2a7c6373b73b79","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1405645+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"38211bcf516eb28dc83354df2dd9698d","SpanId":"3b2a7c6373b73b79","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":3.0107,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCH:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1407766+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"38211bcf516eb28dc83354df2dd9698d","SpanId":"3b2a7c6373b73b79","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1411282+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"38211bcf516eb28dc83354df2dd9698d","SpanId":"3b2a7c6373b73b79","Properties":{"ElapsedMilliseconds":9.4679,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1465147+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"edb571786992da34a142ade652e7a3d8","SpanId":"d502a0c3822196a5","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1469949+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"edb571786992da34a142ade652e7a3d8","SpanId":"d502a0c3822196a5","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1473600+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"edb571786992da34a142ade652e7a3d8","SpanId":"d502a0c3822196a5","Properties":{"ElapsedMilliseconds":0.8494,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000005","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1502150+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"958609ac865c994d973de8ff8fbdbc9d","SpanId":"0b4ba5aba6c369d6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1507436+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"958609ac865c994d973de8ff8fbdbc9d","SpanId":"0b4ba5aba6c369d6","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1510804+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"958609ac865c994d973de8ff8fbdbc9d","SpanId":"0b4ba5aba6c369d6","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1513646+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"958609ac865c994d973de8ff8fbdbc9d","SpanId":"0b4ba5aba6c369d6","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1522870+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by localhost:6865","TraceId":"958609ac865c994d973de8ff8fbdbc9d","SpanId":"0b4ba5aba6c369d6","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1542075+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"958609ac865c994d973de8ff8fbdbc9d","SpanId":"0b4ba5aba6c369d6","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1549133+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by localhost:6865. Refresh failed. G9Ve5zsTkL0gtGTp5z+G/gewXqU0JgWium9naF8SW3bfMhX7DJfa4ouGX/wao7Tu2HbX6QBTjYqIOL1wl2G2OVVYhngsCoPbws87KSVj/WXsHhLHjBwyX93xTNFeJ9FhCj96Geb3tQIT81OYKBqLmpfS56vB6gtDtM+9Zt3dutQ=","TraceId":"958609ac865c994d973de8ff8fbdbc9d","SpanId":"0b4ba5aba6c369d6","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1552301+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"958609ac865c994d973de8ff8fbdbc9d","SpanId":"0b4ba5aba6c369d6","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1555562+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"958609ac865c994d973de8ff8fbdbc9d","SpanId":"0b4ba5aba6c369d6","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":3.9205,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCH:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1558467+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"958609ac865c994d973de8ff8fbdbc9d","SpanId":"0b4ba5aba6c369d6","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:24:59.1562117+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"958609ac865c994d973de8ff8fbdbc9d","SpanId":"0b4ba5aba6c369d6","Properties":{"ElapsedMilliseconds":5.9818,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000006","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.6318340+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1d2e520f3bacf65809011921f41deaa7","SpanId":"eb5dfa466cbde5e3","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.6328976+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1d2e520f3bacf65809011921f41deaa7","SpanId":"eb5dfa466cbde5e3","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.6332759+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1d2e520f3bacf65809011921f41deaa7","SpanId":"eb5dfa466cbde5e3","Properties":{"ElapsedMilliseconds":1.4324,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.6361539+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"30925953dff8e446a15e4d96f5356ab4","SpanId":"4ab963e7b662a615","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.6365404+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"30925953dff8e446a15e4d96f5356ab4","SpanId":"4ab963e7b662a615","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.6371655+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"30925953dff8e446a15e4d96f5356ab4","SpanId":"4ab963e7b662a615","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.6374469+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"30925953dff8e446a15e4d96f5356ab4","SpanId":"4ab963e7b662a615","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.6386399+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"30925953dff8e446a15e4d96f5356ab4","SpanId":"4ab963e7b662a615","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:03.6389209+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"30925953dff8e446a15e4d96f5356ab4","SpanId":"4ab963e7b662a615","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:03.6418032+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"30925953dff8e446a15e4d96f5356ab4","SpanId":"4ab963e7b662a615","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:03.7177887+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"30925953dff8e446a15e4d96f5356ab4","SpanId":"4ab963e7b662a615","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:03.7189681+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"30925953dff8e446a15e4d96f5356ab4","SpanId":"4ab963e7b662a615","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:03.7193906+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"30925953dff8e446a15e4d96f5356ab4","SpanId":"4ab963e7b662a615","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:03.7205862+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"30925953dff8e446a15e4d96f5356ab4","SpanId":"4ab963e7b662a615","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:03.7224190+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"30925953dff8e446a15e4d96f5356ab4","SpanId":"4ab963e7b662a615","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:03.7271695+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"30925953dff8e446a15e4d96f5356ab4","SpanId":"4ab963e7b662a615","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7278935+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"30925953dff8e446a15e4d96f5356ab4","SpanId":"4ab963e7b662a615","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":90.1473,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCH:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7281836+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"30925953dff8e446a15e4d96f5356ab4","SpanId":"4ab963e7b662a615","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7285232+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"30925953dff8e446a15e4d96f5356ab4","SpanId":"4ab963e7b662a615","Properties":{"ElapsedMilliseconds":92.3461,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7419514+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1b48dd280caea0e6e47f1cb0db593f03","SpanId":"7d8f7f68c5a3ded2","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000009","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7424828+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1b48dd280caea0e6e47f1cb0db593f03","SpanId":"7d8f7f68c5a3ded2","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:00000009","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7428779+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1b48dd280caea0e6e47f1cb0db593f03","SpanId":"7d8f7f68c5a3ded2","Properties":{"ElapsedMilliseconds":0.9027,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000009","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7458344+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ce918da4669802f10148cbb36dea24c6","SpanId":"4fad5f86be6632cd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7462926+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ce918da4669802f10148cbb36dea24c6","SpanId":"4fad5f86be6632cd","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7485327+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ce918da4669802f10148cbb36dea24c6","SpanId":"4fad5f86be6632cd","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFACR7JNHCH:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7504840+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ce918da4669802f10148cbb36dea24c6","SpanId":"4fad5f86be6632cd","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7508533+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ce918da4669802f10148cbb36dea24c6","SpanId":"4fad5f86be6632cd","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7524792+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ce918da4669802f10148cbb36dea24c6","SpanId":"4fad5f86be6632cd","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7531950+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"ce918da4669802f10148cbb36dea24c6","SpanId":"4fad5f86be6632cd","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:03.7534888+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"ce918da4669802f10148cbb36dea24c6","SpanId":"4fad5f86be6632cd","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:03.7540419+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"ce918da4669802f10148cbb36dea24c6","SpanId":"4fad5f86be6632cd","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:03.7546565+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ce918da4669802f10148cbb36dea24c6","SpanId":"4fad5f86be6632cd","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7552032+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ce918da4669802f10148cbb36dea24c6","SpanId":"4fad5f86be6632cd","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":4.0672,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCH:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7556572+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ce918da4669802f10148cbb36dea24c6","SpanId":"4fad5f86be6632cd","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7561095+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ce918da4669802f10148cbb36dea24c6","SpanId":"4fad5f86be6632cd","Properties":{"ElapsedMilliseconds":10.2174,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7619181+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d1d94801ff246811ec11eb75b8b97eae","SpanId":"c3e5c7e4ccc1ed32","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000000B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7624246+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d1d94801ff246811ec11eb75b8b97eae","SpanId":"c3e5c7e4ccc1ed32","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:0000000B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7628100+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d1d94801ff246811ec11eb75b8b97eae","SpanId":"c3e5c7e4ccc1ed32","Properties":{"ElapsedMilliseconds":0.895,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000000B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7665008+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b565498655d7741580b43ad29b701751","SpanId":"01d7a81978698d01","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7669657+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b565498655d7741580b43ad29b701751","SpanId":"01d7a81978698d01","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7675386+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b565498655d7741580b43ad29b701751","SpanId":"01d7a81978698d01","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7677816+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b565498655d7741580b43ad29b701751","SpanId":"01d7a81978698d01","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7686162+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by localhost:6865","TraceId":"b565498655d7741580b43ad29b701751","SpanId":"01d7a81978698d01","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7702601+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b565498655d7741580b43ad29b701751","SpanId":"01d7a81978698d01","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7708122+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by localhost:6865. Refresh failed. fUwxz3daWvBlyjTL833VcS0+ENI6S3jGMNfd4ZVQyrsMwRA1aaOsl2XSzwwoeKEyg6MaRJealQpFKmUeB0VpkwhE0rWkhdtIbloaZfALxSHWMQBt0x/+RHgMDkaobtW+uhFPss1JqOiKDmZOVChfeu8VMSluWZOLO8rWSGO6Ue4=","TraceId":"b565498655d7741580b43ad29b701751","SpanId":"01d7a81978698d01","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7710345+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b565498655d7741580b43ad29b701751","SpanId":"01d7a81978698d01","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7712852+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b565498655d7741580b43ad29b701751","SpanId":"01d7a81978698d01","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":3.3096,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCH:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7714804+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b565498655d7741580b43ad29b701751","SpanId":"01d7a81978698d01","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:03.7717346+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b565498655d7741580b43ad29b701751","SpanId":"01d7a81978698d01","Properties":{"ElapsedMilliseconds":5.2247,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.0028247+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5b7f285d8f4e49f968ef8f171b6139c0","SpanId":"f1cef5ce22bc3a43","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000000D","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.0035635+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"5b7f285d8f4e49f968ef8f171b6139c0","SpanId":"f1cef5ce22bc3a43","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:0000000D","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.0041891+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5b7f285d8f4e49f968ef8f171b6139c0","SpanId":"f1cef5ce22bc3a43","Properties":{"ElapsedMilliseconds":1.1752,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000000D","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.0068562+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9a78b8f0b89c101329abb7d612e68cf6","SpanId":"da204d9428e34c2c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.0072960+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9a78b8f0b89c101329abb7d612e68cf6","SpanId":"da204d9428e34c2c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.0075858+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9a78b8f0b89c101329abb7d612e68cf6","SpanId":"da204d9428e34c2c","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.0078195+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9a78b8f0b89c101329abb7d612e68cf6","SpanId":"da204d9428e34c2c","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.0086155+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"9a78b8f0b89c101329abb7d612e68cf6","SpanId":"da204d9428e34c2c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:40.0087864+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"9a78b8f0b89c101329abb7d612e68cf6","SpanId":"da204d9428e34c2c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:40.0107844+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9a78b8f0b89c101329abb7d612e68cf6","SpanId":"da204d9428e34c2c","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:40.0841976+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"9a78b8f0b89c101329abb7d612e68cf6","SpanId":"da204d9428e34c2c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:40.0852351+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9a78b8f0b89c101329abb7d612e68cf6","SpanId":"da204d9428e34c2c","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:40.0856626+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"9a78b8f0b89c101329abb7d612e68cf6","SpanId":"da204d9428e34c2c","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:40.0867768+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9a78b8f0b89c101329abb7d612e68cf6","SpanId":"da204d9428e34c2c","Properties":{"elapsed":"0","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:40.0887019+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9a78b8f0b89c101329abb7d612e68cf6","SpanId":"da204d9428e34c2c","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:40.0933740+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9a78b8f0b89c101329abb7d612e68cf6","SpanId":"da204d9428e34c2c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.0939225+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9a78b8f0b89c101329abb7d612e68cf6","SpanId":"da204d9428e34c2c","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":85.7741,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCH:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.0943417+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9a78b8f0b89c101329abb7d612e68cf6","SpanId":"da204d9428e34c2c","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.0945801+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9a78b8f0b89c101329abb7d612e68cf6","SpanId":"da204d9428e34c2c","Properties":{"ElapsedMilliseconds":87.7248,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000000E","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1077316+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"89b4fd408a5ce31fbaa431d7dff3f33c","SpanId":"abdb66ca200b7657","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1081739+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"89b4fd408a5ce31fbaa431d7dff3f33c","SpanId":"abdb66ca200b7657","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1085260+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"89b4fd408a5ce31fbaa431d7dff3f33c","SpanId":"abdb66ca200b7657","Properties":{"ElapsedMilliseconds":0.7795,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000000F","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1113196+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8899d00c2373c305e639fca99a13ba99","SpanId":"e8e4f1612812ec70","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1116808+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"8899d00c2373c305e639fca99a13ba99","SpanId":"e8e4f1612812ec70","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1132016+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8899d00c2373c305e639fca99a13ba99","SpanId":"e8e4f1612812ec70","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFACR7JNHCH:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1137789+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8899d00c2373c305e639fca99a13ba99","SpanId":"e8e4f1612812ec70","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1140335+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8899d00c2373c305e639fca99a13ba99","SpanId":"e8e4f1612812ec70","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1151271+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8899d00c2373c305e639fca99a13ba99","SpanId":"e8e4f1612812ec70","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1156150+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"8899d00c2373c305e639fca99a13ba99","SpanId":"e8e4f1612812ec70","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:40.1157708+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"8899d00c2373c305e639fca99a13ba99","SpanId":"e8e4f1612812ec70","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:40.1159463+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"8899d00c2373c305e639fca99a13ba99","SpanId":"e8e4f1612812ec70","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:26:40.1161527+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8899d00c2373c305e639fca99a13ba99","SpanId":"e8e4f1612812ec70","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1164594+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8899d00c2373c305e639fca99a13ba99","SpanId":"e8e4f1612812ec70","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.2098,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCH:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1166984+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8899d00c2373c305e639fca99a13ba99","SpanId":"e8e4f1612812ec70","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1169657+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8899d00c2373c305e639fca99a13ba99","SpanId":"e8e4f1612812ec70","Properties":{"ElapsedMilliseconds":5.6559,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000010","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1221335+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7f322bbce6bcd0e00c070ed3ab57a3cb","SpanId":"3ed9d61e8ad42d83","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000011","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1225417+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"7f322bbce6bcd0e00c070ed3ab57a3cb","SpanId":"3ed9d61e8ad42d83","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:00000011","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1228471+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7f322bbce6bcd0e00c070ed3ab57a3cb","SpanId":"3ed9d61e8ad42d83","Properties":{"ElapsedMilliseconds":0.7186,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000011","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1254571+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8441a3640d974cd0ff16e4e92733a57b","SpanId":"b2495a310f4873a8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1257942+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"8441a3640d974cd0ff16e4e92733a57b","SpanId":"b2495a310f4873a8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1260180+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8441a3640d974cd0ff16e4e92733a57b","SpanId":"b2495a310f4873a8","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1262389+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8441a3640d974cd0ff16e4e92733a57b","SpanId":"b2495a310f4873a8","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1269212+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by localhost:6865","TraceId":"8441a3640d974cd0ff16e4e92733a57b","SpanId":"b2495a310f4873a8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1282887+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8441a3640d974cd0ff16e4e92733a57b","SpanId":"b2495a310f4873a8","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1288177+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by localhost:6865. Refresh failed. sKpaXVGBKzTKO/oWiKs8peEx5Zx40MtuwpxIdzbcHOLJbyovvEkkqR4Qz490lIJjXhJYrBohritwBPRm5K/FTzuHNnYzvzNo2wBu8N95b5crDAXJ2hB8ZuZqjpeG/1TmXEC2BGrGv6YAtP8Nhv1ql4ucxlUdZhiECo/XchPcXq4=","TraceId":"8441a3640d974cd0ff16e4e92733a57b","SpanId":"b2495a310f4873a8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1290741+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8441a3640d974cd0ff16e4e92733a57b","SpanId":"b2495a310f4873a8","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1293596+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8441a3640d974cd0ff16e4e92733a57b","SpanId":"b2495a310f4873a8","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.8949,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCH:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1295903+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8441a3640d974cd0ff16e4e92733a57b","SpanId":"b2495a310f4873a8","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:26:40.1298601+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8441a3640d974cd0ff16e4e92733a57b","SpanId":"b2495a310f4873a8","Properties":{"ElapsedMilliseconds":4.366,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000012","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:51.8829033+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d53e63a7ad6f25b0400d3e6c3d46018c","SpanId":"7c28d5b259e50a38","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000013","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:51.8835949+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d53e63a7ad6f25b0400d3e6c3d46018c","SpanId":"7c28d5b259e50a38","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:00000013","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:51.8844630+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d53e63a7ad6f25b0400d3e6c3d46018c","SpanId":"7c28d5b259e50a38","Properties":{"ElapsedMilliseconds":1.5391,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000013","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:51.8870759+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8973c701256c7daed4b7381d300577a2","SpanId":"fbaeeff0d541141e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:51.8875085+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"8973c701256c7daed4b7381d300577a2","SpanId":"fbaeeff0d541141e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:51.8877503+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8973c701256c7daed4b7381d300577a2","SpanId":"fbaeeff0d541141e","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:51.8879588+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8973c701256c7daed4b7381d300577a2","SpanId":"fbaeeff0d541141e","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:51.8887341+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"8973c701256c7daed4b7381d300577a2","SpanId":"fbaeeff0d541141e","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:27:51.8889627+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"8973c701256c7daed4b7381d300577a2","SpanId":"fbaeeff0d541141e","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:27:51.8994095+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8973c701256c7daed4b7381d300577a2","SpanId":"fbaeeff0d541141e","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:27:51.9699738+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"8973c701256c7daed4b7381d300577a2","SpanId":"fbaeeff0d541141e","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:27:51.9710280+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8973c701256c7daed4b7381d300577a2","SpanId":"fbaeeff0d541141e","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:27:51.9716048+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"8973c701256c7daed4b7381d300577a2","SpanId":"fbaeeff0d541141e","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:27:51.9729069+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8973c701256c7daed4b7381d300577a2","SpanId":"fbaeeff0d541141e","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:27:51.9754933+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8973c701256c7daed4b7381d300577a2","SpanId":"fbaeeff0d541141e","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:27:51.9799412+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8973c701256c7daed4b7381d300577a2","SpanId":"fbaeeff0d541141e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:51.9805073+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8973c701256c7daed4b7381d300577a2","SpanId":"fbaeeff0d541141e","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":92.2567,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCH:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:51.9810960+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8973c701256c7daed4b7381d300577a2","SpanId":"fbaeeff0d541141e","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:51.9815224+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8973c701256c7daed4b7381d300577a2","SpanId":"fbaeeff0d541141e","Properties":{"ElapsedMilliseconds":94.4214,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000014","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:51.9934080+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"175186cffbc06401fee3686ff024e1cd","SpanId":"d693396715a47b46","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:51.9938566+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"175186cffbc06401fee3686ff024e1cd","SpanId":"d693396715a47b46","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:51.9941558+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"175186cffbc06401fee3686ff024e1cd","SpanId":"d693396715a47b46","Properties":{"ElapsedMilliseconds":0.7464,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000015","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:51.9969586+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"120e8bc8f29399224fa9057f6a20bc71","SpanId":"bb1638ba73a2f041","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000016","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:51.9973220+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"120e8bc8f29399224fa9057f6a20bc71","SpanId":"bb1638ba73a2f041","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:00000016","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:51.9991017+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"120e8bc8f29399224fa9057f6a20bc71","SpanId":"bb1638ba73a2f041","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFACR7JNHCH:00000016","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:51.9996087+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"120e8bc8f29399224fa9057f6a20bc71","SpanId":"bb1638ba73a2f041","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:00000016","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:51.9998028+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"120e8bc8f29399224fa9057f6a20bc71","SpanId":"bb1638ba73a2f041","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000016","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:52.0010131+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"120e8bc8f29399224fa9057f6a20bc71","SpanId":"bb1638ba73a2f041","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000016","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:52.0014948+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"120e8bc8f29399224fa9057f6a20bc71","SpanId":"bb1638ba73a2f041","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000016","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:27:52.0016439+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"120e8bc8f29399224fa9057f6a20bc71","SpanId":"bb1638ba73a2f041","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000016","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:27:52.0018233+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"120e8bc8f29399224fa9057f6a20bc71","SpanId":"bb1638ba73a2f041","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000016","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:27:52.0020359+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"120e8bc8f29399224fa9057f6a20bc71","SpanId":"bb1638ba73a2f041","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000016","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:52.0022754+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"120e8bc8f29399224fa9057f6a20bc71","SpanId":"bb1638ba73a2f041","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.2694,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCH:00000016","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:52.0025170+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"120e8bc8f29399224fa9057f6a20bc71","SpanId":"bb1638ba73a2f041","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:00000016","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:52.0028044+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"120e8bc8f29399224fa9057f6a20bc71","SpanId":"bb1638ba73a2f041","Properties":{"ElapsedMilliseconds":5.7979,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000016","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:52.0077575+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"de08f97ea1bdb70b068a70a9c56b044c","SpanId":"87e990fc8be021d7","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000017","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:52.0083800+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"de08f97ea1bdb70b068a70a9c56b044c","SpanId":"87e990fc8be021d7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:00000017","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:52.0086915+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"de08f97ea1bdb70b068a70a9c56b044c","SpanId":"87e990fc8be021d7","Properties":{"ElapsedMilliseconds":0.9154,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000017","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:52.0116386+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"188cc0dc9306dd6c662c11aa3070cb1b","SpanId":"b507262e147f8f01","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000018","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:52.0120259+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"188cc0dc9306dd6c662c11aa3070cb1b","SpanId":"b507262e147f8f01","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:00000018","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:52.0122174+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"188cc0dc9306dd6c662c11aa3070cb1b","SpanId":"b507262e147f8f01","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:00000018","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:52.0124249+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"188cc0dc9306dd6c662c11aa3070cb1b","SpanId":"b507262e147f8f01","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000018","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:52.0129311+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by localhost:6865","TraceId":"188cc0dc9306dd6c662c11aa3070cb1b","SpanId":"b507262e147f8f01","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000018","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:52.0142299+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"188cc0dc9306dd6c662c11aa3070cb1b","SpanId":"b507262e147f8f01","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000018","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:52.0147105+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by localhost:6865. Refresh failed. HmcQ2BNh0QqktSV6AOP5ppMu2Ra/RG27gupiUMrMuXS6YBc6r4MjaJUWY+fWLAmztuf7CEaTfRuF65M3sbLj6fmRsMkRcxlrChTxCrmcs905fsVHhb/fHZxPY5KlqU9DvObSN8yRGar9PUOrHioG3Uuj+VzFAnThcEefrKX0SDk=","TraceId":"188cc0dc9306dd6c662c11aa3070cb1b","SpanId":"b507262e147f8f01","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000018","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:52.0149652+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"188cc0dc9306dd6c662c11aa3070cb1b","SpanId":"b507262e147f8f01","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:00000018","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:52.0152535+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"188cc0dc9306dd6c662c11aa3070cb1b","SpanId":"b507262e147f8f01","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.6473,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCH:00000018","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:52.0154960+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"188cc0dc9306dd6c662c11aa3070cb1b","SpanId":"b507262e147f8f01","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:00000018","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:27:52.0157122+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"188cc0dc9306dd6c662c11aa3070cb1b","SpanId":"b507262e147f8f01","Properties":{"ElapsedMilliseconds":4.0685,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000018","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.3134123+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"245471c90de37bfd25c7c0f66ae43bc8","SpanId":"c301b1a8b92ee9a2","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000019","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.3139108+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"245471c90de37bfd25c7c0f66ae43bc8","SpanId":"c301b1a8b92ee9a2","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:00000019","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.3141961+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"245471c90de37bfd25c7c0f66ae43bc8","SpanId":"c301b1a8b92ee9a2","Properties":{"ElapsedMilliseconds":0.7395,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:00000019","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.3168610+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6f49f5f32b6893565d40e1c511691be9","SpanId":"7231dffbbaf09c80","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.3172532+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"6f49f5f32b6893565d40e1c511691be9","SpanId":"7231dffbbaf09c80","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.3178482+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6f49f5f32b6893565d40e1c511691be9","SpanId":"7231dffbbaf09c80","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.3183297+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6f49f5f32b6893565d40e1c511691be9","SpanId":"7231dffbbaf09c80","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.3192408+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"6f49f5f32b6893565d40e1c511691be9","SpanId":"7231dffbbaf09c80","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:28:15.3195224+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"6f49f5f32b6893565d40e1c511691be9","SpanId":"7231dffbbaf09c80","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:28:15.3213313+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6f49f5f32b6893565d40e1c511691be9","SpanId":"7231dffbbaf09c80","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:28:15.3960702+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"6f49f5f32b6893565d40e1c511691be9","SpanId":"7231dffbbaf09c80","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:28:15.3971428+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6f49f5f32b6893565d40e1c511691be9","SpanId":"7231dffbbaf09c80","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:28:15.3976617+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"6f49f5f32b6893565d40e1c511691be9","SpanId":"7231dffbbaf09c80","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:28:15.3986719+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6f49f5f32b6893565d40e1c511691be9","SpanId":"7231dffbbaf09c80","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:28:15.4006205+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6f49f5f32b6893565d40e1c511691be9","SpanId":"7231dffbbaf09c80","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:28:15.4054993+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6f49f5f32b6893565d40e1c511691be9","SpanId":"7231dffbbaf09c80","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4058315+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6f49f5f32b6893565d40e1c511691be9","SpanId":"7231dffbbaf09c80","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":87.149,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCH:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4061132+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6f49f5f32b6893565d40e1c511691be9","SpanId":"7231dffbbaf09c80","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4064395+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6f49f5f32b6893565d40e1c511691be9","SpanId":"7231dffbbaf09c80","Properties":{"ElapsedMilliseconds":89.5763,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000001A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4205523+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"37b310ad37b189d6d96dfe8f4434f062","SpanId":"6b84aeded8327ec4","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000001B","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4213801+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"37b310ad37b189d6d96dfe8f4434f062","SpanId":"6b84aeded8327ec4","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:0000001B","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4218326+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"37b310ad37b189d6d96dfe8f4434f062","SpanId":"6b84aeded8327ec4","Properties":{"ElapsedMilliseconds":1.2107,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000001B","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4252880+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d9b8c56c1b1bcbccd08a56273f880b44","SpanId":"f36cdaee6a9c2e11","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000001C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4259172+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d9b8c56c1b1bcbccd08a56273f880b44","SpanId":"f36cdaee6a9c2e11","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:0000001C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4277674+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d9b8c56c1b1bcbccd08a56273f880b44","SpanId":"f36cdaee6a9c2e11","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFACR7JNHCH:0000001C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4282634+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d9b8c56c1b1bcbccd08a56273f880b44","SpanId":"f36cdaee6a9c2e11","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:0000001C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4285606+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d9b8c56c1b1bcbccd08a56273f880b44","SpanId":"f36cdaee6a9c2e11","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4301496+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d9b8c56c1b1bcbccd08a56273f880b44","SpanId":"f36cdaee6a9c2e11","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4307656+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"d9b8c56c1b1bcbccd08a56273f880b44","SpanId":"f36cdaee6a9c2e11","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:28:15.4312312+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"d9b8c56c1b1bcbccd08a56273f880b44","SpanId":"f36cdaee6a9c2e11","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:28:15.4322815+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"d9b8c56c1b1bcbccd08a56273f880b44","SpanId":"f36cdaee6a9c2e11","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:28:15.4331996+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d9b8c56c1b1bcbccd08a56273f880b44","SpanId":"f36cdaee6a9c2e11","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4335816+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d9b8c56c1b1bcbccd08a56273f880b44","SpanId":"f36cdaee6a9c2e11","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":4.6461,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCH:0000001C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4337888+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d9b8c56c1b1bcbccd08a56273f880b44","SpanId":"f36cdaee6a9c2e11","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:0000001C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4340494+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d9b8c56c1b1bcbccd08a56273f880b44","SpanId":"f36cdaee6a9c2e11","Properties":{"ElapsedMilliseconds":8.753,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000001C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4418791+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eb8e9eedcbb40e6d6b8f6a75fff90ec7","SpanId":"9fd609fe5d426853","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000001D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4424405+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"eb8e9eedcbb40e6d6b8f6a75fff90ec7","SpanId":"9fd609fe5d426853","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:0000001D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4428647+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eb8e9eedcbb40e6d6b8f6a75fff90ec7","SpanId":"9fd609fe5d426853","Properties":{"ElapsedMilliseconds":0.9777,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000001D","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4458451+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d8a2f70a05e0ef056e85df986aad8252","SpanId":"19f0775ccdb12748","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000001E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4463445+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d8a2f70a05e0ef056e85df986aad8252","SpanId":"19f0775ccdb12748","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCH:0000001E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4466980+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d8a2f70a05e0ef056e85df986aad8252","SpanId":"19f0775ccdb12748","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:0000001E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4470501+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d8a2f70a05e0ef056e85df986aad8252","SpanId":"19f0775ccdb12748","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4476605+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by localhost:6865","TraceId":"d8a2f70a05e0ef056e85df986aad8252","SpanId":"19f0775ccdb12748","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4491050+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d8a2f70a05e0ef056e85df986aad8252","SpanId":"19f0775ccdb12748","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4496046+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by localhost:6865. Refresh failed. MpsRNfO7W+nzrmKUe1UCX8PhnOriN1fh92q53LroSGLHuVaMhdosh/Uwz/GV/rZoyAvepD5/YwB70zkFieu7sznwvX4hChKmeJNptkFCXbVgMhZ/rrWzcIugUxUUefCskV1SOs2ayIG4snPQ8Qxd2yV1OxwCFR2rGbCNg23+Hwk=","TraceId":"d8a2f70a05e0ef056e85df986aad8252","SpanId":"19f0775ccdb12748","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4498674+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d8a2f70a05e0ef056e85df986aad8252","SpanId":"19f0775ccdb12748","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1e13e001-18cc-4abe-b95e-7809d7aa4b5b","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFACR7JNHCH:0000001E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4501761+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d8a2f70a05e0ef056e85df986aad8252","SpanId":"19f0775ccdb12748","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2.8869,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCH:0000001E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4503808+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d8a2f70a05e0ef056e85df986aad8252","SpanId":"19f0775ccdb12748","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCH:0000001E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:28:15.4508238+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d8a2f70a05e0ef056e85df986aad8252","SpanId":"19f0775ccdb12748","Properties":{"ElapsedMilliseconds":4.9337,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCH:0000001E","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFACR7JNHCH"}}
{"Timestamp":"2025-09-03T00:32:45.4808388+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c459901b21ce2ea8ca2b0ea4c2e40f2b","SpanId":"dc6233431c1b6c71","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.4813410+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c459901b21ce2ea8ca2b0ea4c2e40f2b","SpanId":"dc6233431c1b6c71","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCI:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.4817025+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c459901b21ce2ea8ca2b0ea4c2e40f2b","SpanId":"dc6233431c1b6c71","Properties":{"ElapsedMilliseconds":0.8507,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.4841832+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3ab0c5e96cef6fc7fe12b1ad009455a5","SpanId":"74ce389494f3394c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.4845538+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"3ab0c5e96cef6fc7fe12b1ad009455a5","SpanId":"74ce389494f3394c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCI:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.4849067+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3ab0c5e96cef6fc7fe12b1ad009455a5","SpanId":"74ce389494f3394c","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCI:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.4851878+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3ab0c5e96cef6fc7fe12b1ad009455a5","SpanId":"74ce389494f3394c","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.4859790+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"3ab0c5e96cef6fc7fe12b1ad009455a5","SpanId":"74ce389494f3394c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:32:45.4861891+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"3ab0c5e96cef6fc7fe12b1ad009455a5","SpanId":"74ce389494f3394c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:32:45.4883901+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3ab0c5e96cef6fc7fe12b1ad009455a5","SpanId":"74ce389494f3394c","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:32:45.5597774+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"3ab0c5e96cef6fc7fe12b1ad009455a5","SpanId":"74ce389494f3394c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:32:45.5610996+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3ab0c5e96cef6fc7fe12b1ad009455a5","SpanId":"74ce389494f3394c","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:32:45.5615923+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"3ab0c5e96cef6fc7fe12b1ad009455a5","SpanId":"74ce389494f3394c","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:32:45.5626969+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3ab0c5e96cef6fc7fe12b1ad009455a5","SpanId":"74ce389494f3394c","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:32:45.5647432+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3ab0c5e96cef6fc7fe12b1ad009455a5","SpanId":"74ce389494f3394c","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:32:45.5693608+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3ab0c5e96cef6fc7fe12b1ad009455a5","SpanId":"74ce389494f3394c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.5699325+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3ab0c5e96cef6fc7fe12b1ad009455a5","SpanId":"74ce389494f3394c","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":84.2817,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCI:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.5702628+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3ab0c5e96cef6fc7fe12b1ad009455a5","SpanId":"74ce389494f3394c","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCI:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.5709875+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3ab0c5e96cef6fc7fe12b1ad009455a5","SpanId":"74ce389494f3394c","Properties":{"ElapsedMilliseconds":86.79,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.5828338+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"249b645ab833edee703ef4f0c5ccf746","SpanId":"ceb057c19337e527","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.5835969+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"249b645ab833edee703ef4f0c5ccf746","SpanId":"ceb057c19337e527","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCI:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.5842444+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"249b645ab833edee703ef4f0c5ccf746","SpanId":"ceb057c19337e527","Properties":{"ElapsedMilliseconds":1.3937,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.5870159+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f4c2cd85f9d5ea9f656c2dc6442fd643","SpanId":"0b42b356709ad547","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.5875235+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f4c2cd85f9d5ea9f656c2dc6442fd643","SpanId":"0b42b356709ad547","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCI:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.5890007+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4c2cd85f9d5ea9f656c2dc6442fd643","SpanId":"0b42b356709ad547","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFACR7JNHCI:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.5894266+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f4c2cd85f9d5ea9f656c2dc6442fd643","SpanId":"0b42b356709ad547","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCI:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.5896208+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f4c2cd85f9d5ea9f656c2dc6442fd643","SpanId":"0b42b356709ad547","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.5906052+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4c2cd85f9d5ea9f656c2dc6442fd643","SpanId":"0b42b356709ad547","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.5910021+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"f4c2cd85f9d5ea9f656c2dc6442fd643","SpanId":"0b42b356709ad547","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:32:45.5911685+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"f4c2cd85f9d5ea9f656c2dc6442fd643","SpanId":"0b42b356709ad547","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:32:45.5912835+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"f4c2cd85f9d5ea9f656c2dc6442fd643","SpanId":"0b42b356709ad547","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:32:45.5914652+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f4c2cd85f9d5ea9f656c2dc6442fd643","SpanId":"0b42b356709ad547","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.5916752+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f4c2cd85f9d5ea9f656c2dc6442fd643","SpanId":"0b42b356709ad547","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":1.8469,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCI:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.5918625+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f4c2cd85f9d5ea9f656c2dc6442fd643","SpanId":"0b42b356709ad547","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCI:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:32:45.5920542+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f4c2cd85f9d5ea9f656c2dc6442fd643","SpanId":"0b42b356709ad547","Properties":{"ElapsedMilliseconds":5.0434,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.2915436+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4ea019f0273050c2c9442b5cf31e29ac","SpanId":"9360b68cbafe690f","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.2920713+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"4ea019f0273050c2c9442b5cf31e29ac","SpanId":"9360b68cbafe690f","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCI:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.2925041+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4ea019f0273050c2c9442b5cf31e29ac","SpanId":"9360b68cbafe690f","Properties":{"ElapsedMilliseconds":0.882,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.2948703+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b811855ede559d07643223f917561015","SpanId":"99bb73966f263c32","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.2952649+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b811855ede559d07643223f917561015","SpanId":"99bb73966f263c32","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCI:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.2954955+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b811855ede559d07643223f917561015","SpanId":"99bb73966f263c32","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCI:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.2956775+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b811855ede559d07643223f917561015","SpanId":"99bb73966f263c32","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.2962316+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"b811855ede559d07643223f917561015","SpanId":"99bb73966f263c32","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:33:40.2964563+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"b811855ede559d07643223f917561015","SpanId":"99bb73966f263c32","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:33:40.3066156+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b811855ede559d07643223f917561015","SpanId":"99bb73966f263c32","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:33:40.3798819+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"b811855ede559d07643223f917561015","SpanId":"99bb73966f263c32","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:33:40.3810364+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b811855ede559d07643223f917561015","SpanId":"99bb73966f263c32","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:33:40.3813856+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"b811855ede559d07643223f917561015","SpanId":"99bb73966f263c32","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:33:40.3825647+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b811855ede559d07643223f917561015","SpanId":"99bb73966f263c32","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:33:40.3842620+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b811855ede559d07643223f917561015","SpanId":"99bb73966f263c32","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:33:40.3889075+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b811855ede559d07643223f917561015","SpanId":"99bb73966f263c32","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.3892812+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b811855ede559d07643223f917561015","SpanId":"99bb73966f263c32","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":93.404,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCI:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.3894913+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b811855ede559d07643223f917561015","SpanId":"99bb73966f263c32","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCI:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.3898357+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b811855ede559d07643223f917561015","SpanId":"99bb73966f263c32","Properties":{"ElapsedMilliseconds":94.9603,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.4020994+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d0c55c19e5a97cc9de31d2285838022f","SpanId":"f1410867dd236b0e","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.4025409+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d0c55c19e5a97cc9de31d2285838022f","SpanId":"f1410867dd236b0e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCI:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.4027508+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d0c55c19e5a97cc9de31d2285838022f","SpanId":"f1410867dd236b0e","Properties":{"ElapsedMilliseconds":0.6326,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.4054968+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"63d66d1f39edcf66fca6399e5115f2f4","SpanId":"09e18253e31b3f1f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.4058860+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"63d66d1f39edcf66fca6399e5115f2f4","SpanId":"09e18253e31b3f1f","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCI:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.4074129+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"63d66d1f39edcf66fca6399e5115f2f4","SpanId":"09e18253e31b3f1f","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFACR7JNHCI:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.4079594+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"63d66d1f39edcf66fca6399e5115f2f4","SpanId":"09e18253e31b3f1f","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCI:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.4082752+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"63d66d1f39edcf66fca6399e5115f2f4","SpanId":"09e18253e31b3f1f","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.4098140+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"63d66d1f39edcf66fca6399e5115f2f4","SpanId":"09e18253e31b3f1f","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.4104198+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"63d66d1f39edcf66fca6399e5115f2f4","SpanId":"09e18253e31b3f1f","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:33:40.4105922+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"63d66d1f39edcf66fca6399e5115f2f4","SpanId":"09e18253e31b3f1f","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:33:40.4107394+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"63d66d1f39edcf66fca6399e5115f2f4","SpanId":"09e18253e31b3f1f","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:33:40.4110043+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"63d66d1f39edcf66fca6399e5115f2f4","SpanId":"09e18253e31b3f1f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCI:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.4112210+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"63d66d1f39edcf66fca6399e5115f2f4","SpanId":"09e18253e31b3f1f","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.6808,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCI:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.4114097+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"63d66d1f39edcf66fca6399e5115f2f4","SpanId":"09e18253e31b3f1f","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCI:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:33:40.4116007+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"63d66d1f39edcf66fca6399e5115f2f4","SpanId":"09e18253e31b3f1f","Properties":{"ElapsedMilliseconds":6.108,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.3332957+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9fff829b734fa10b8ad31cd91cbcdb7c","SpanId":"044e6c97496b1438","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.3337726+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9fff829b734fa10b8ad31cd91cbcdb7c","SpanId":"044e6c97496b1438","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCI:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.3340396+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9fff829b734fa10b8ad31cd91cbcdb7c","SpanId":"044e6c97496b1438","Properties":{"ElapsedMilliseconds":0.7394,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.3368739+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d6adbb56e475f7336e09f666bd75d9c1","SpanId":"5223d54d976190ed","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.3372187+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d6adbb56e475f7336e09f666bd75d9c1","SpanId":"5223d54d976190ed","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCI:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.3373956+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d6adbb56e475f7336e09f666bd75d9c1","SpanId":"5223d54d976190ed","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCI:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.3375809+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d6adbb56e475f7336e09f666bd75d9c1","SpanId":"5223d54d976190ed","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.3382903+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"d6adbb56e475f7336e09f666bd75d9c1","SpanId":"5223d54d976190ed","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:34:43.3384797+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"d6adbb56e475f7336e09f666bd75d9c1","SpanId":"5223d54d976190ed","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:34:43.3405861+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d6adbb56e475f7336e09f666bd75d9c1","SpanId":"5223d54d976190ed","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:34:43.4128778+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"d6adbb56e475f7336e09f666bd75d9c1","SpanId":"5223d54d976190ed","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:34:43.4139205+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d6adbb56e475f7336e09f666bd75d9c1","SpanId":"5223d54d976190ed","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:34:43.4143484+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"d6adbb56e475f7336e09f666bd75d9c1","SpanId":"5223d54d976190ed","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:34:43.4155240+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d6adbb56e475f7336e09f666bd75d9c1","SpanId":"5223d54d976190ed","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:34:43.4175596+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d6adbb56e475f7336e09f666bd75d9c1","SpanId":"5223d54d976190ed","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:34:43.4220404+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d6adbb56e475f7336e09f666bd75d9c1","SpanId":"5223d54d976190ed","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"26d67c40-b739-4217-8244-156837db2e71","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFACR7JNHCI:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.4224031+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d6adbb56e475f7336e09f666bd75d9c1","SpanId":"5223d54d976190ed","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":84.6419,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCI:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.4226113+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d6adbb56e475f7336e09f666bd75d9c1","SpanId":"5223d54d976190ed","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCI:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.4230033+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d6adbb56e475f7336e09f666bd75d9c1","SpanId":"5223d54d976190ed","Properties":{"ElapsedMilliseconds":86.1361,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:0000000A","RequestPath":"/api/auth/login","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.4319181+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1c3fb8b8ad0042e71d869949d1d350cd","SpanId":"771f1c8a39a95507","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.4323574+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1c3fb8b8ad0042e71d869949d1d350cd","SpanId":"771f1c8a39a95507","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCI:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.4327818+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1c3fb8b8ad0042e71d869949d1d350cd","SpanId":"771f1c8a39a95507","Properties":{"ElapsedMilliseconds":0.8589,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.4366740+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bfa0a44b2dc17792f8d1126c0fe8629b","SpanId":"f04b70de1f827b2c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.4371142+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"bfa0a44b2dc17792f8d1126c0fe8629b","SpanId":"f04b70de1f827b2c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFACR7JNHCI:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.4389196+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bfa0a44b2dc17792f8d1126c0fe8629b","SpanId":"f04b70de1f827b2c","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFACR7JNHCI:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.4394933+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bfa0a44b2dc17792f8d1126c0fe8629b","SpanId":"f04b70de1f827b2c","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCI:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.4398721+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bfa0a44b2dc17792f8d1126c0fe8629b","SpanId":"f04b70de1f827b2c","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCI:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.4409475+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bfa0a44b2dc17792f8d1126c0fe8629b","SpanId":"f04b70de1f827b2c","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCI:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.4414443+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"bfa0a44b2dc17792f8d1126c0fe8629b","SpanId":"f04b70de1f827b2c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCI:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:34:43.4416025+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"bfa0a44b2dc17792f8d1126c0fe8629b","SpanId":"f04b70de1f827b2c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCI:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:34:43.4417531+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"bfa0a44b2dc17792f8d1126c0fe8629b","SpanId":"f04b70de1f827b2c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCI:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:34:43.4420030+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bfa0a44b2dc17792f8d1126c0fe8629b","SpanId":"f04b70de1f827b2c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCI:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.4423977+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bfa0a44b2dc17792f8d1126c0fe8629b","SpanId":"f04b70de1f827b2c","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.2911,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCI:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.4426337+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bfa0a44b2dc17792f8d1126c0fe8629b","SpanId":"f04b70de1f827b2c","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCI:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:34:43.4429003+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bfa0a44b2dc17792f8d1126c0fe8629b","SpanId":"f04b70de1f827b2c","Properties":{"ElapsedMilliseconds":6.2231,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCI:0000000C","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCI"}}
{"Timestamp":"2025-09-03T00:35:54.6981059+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"12e4b5192b399daaf6f7c52d8d4a1555","SpanId":"2aa192b5983cf24a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCJ:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFACR7JNHCJ"}}
{"Timestamp":"2025-09-03T00:35:54.7018895+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"12e4b5192b399daaf6f7c52d8d4a1555","SpanId":"2aa192b5983cf24a","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFACR7JNHCJ:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFACR7JNHCJ"}}
{"Timestamp":"2025-09-03T00:35:54.7026270+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"12e4b5192b399daaf6f7c52d8d4a1555","SpanId":"2aa192b5983cf24a","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCJ:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFACR7JNHCJ"}}
{"Timestamp":"2025-09-03T00:35:54.7080912+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"12e4b5192b399daaf6f7c52d8d4a1555","SpanId":"2aa192b5983cf24a","Properties":{"RouteData":"{action = \"GetUserChats\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Int64]]] GetUserChatsAsync()","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5bc88e71-bfe9-429c-a1ac-ff4225982cf4","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFACR7JNHCJ:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFACR7JNHCJ"}}
{"Timestamp":"2025-09-03T00:35:54.7101774+03:00","Level":"Information","MessageTemplate":"Initiated chats retrieval by 192.168.31.243:6865","TraceId":"12e4b5192b399daaf6f7c52d8d4a1555","SpanId":"2aa192b5983cf24a","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"5bc88e71-bfe9-429c-a1ac-ff4225982cf4","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFACR7JNHCJ:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFACR7JNHCJ"}}
{"Timestamp":"2025-09-03T00:35:54.7115902+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"12e4b5192b399daaf6f7c52d8d4a1555","SpanId":"2aa192b5983cf24a","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5bc88e71-bfe9-429c-a1ac-ff4225982cf4","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFACR7JNHCJ:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFACR7JNHCJ"}}
{"Timestamp":"2025-09-03T00:35:54.8313179+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"12e4b5192b399daaf6f7c52d8d4a1555","SpanId":"2aa192b5983cf24a","Properties":{"elapsed":"2","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u1.\"ID\", u1.\"PasswordHash\", u1.\"Role\", u1.\"Username\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"Name\", s.\"OwnerID\"\nFROM (\n    SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\n    FROM \"Users\" AS u\n    WHERE u.\"ID\" = @__UserID_0\n    LIMIT 1\n) AS u1\nLEFT JOIN (\n    SELECT u0.\"ChatID\", u0.\"UserID\", c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"UserChatJoinTable\" AS u0\n    INNER JOIN \"Chats\" AS c ON u0.\"ChatID\" = c.\"ID\"\n) AS s ON u1.\"ID\" = s.\"UserID\"\nORDER BY u1.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5bc88e71-bfe9-429c-a1ac-ff4225982cf4","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFACR7JNHCJ:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFACR7JNHCJ"}}
{"Timestamp":"2025-09-03T00:35:54.8636929+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"12e4b5192b399daaf6f7c52d8d4a1555","SpanId":"2aa192b5983cf24a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.UserChatsDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5bc88e71-bfe9-429c-a1ac-ff4225982cf4","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFACR7JNHCJ:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFACR7JNHCJ"}}
{"Timestamp":"2025-09-03T00:35:54.8745020+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"12e4b5192b399daaf6f7c52d8d4a1555","SpanId":"2aa192b5983cf24a","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","ElapsedMilliseconds":166.0026,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCJ:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFACR7JNHCJ"}}
{"Timestamp":"2025-09-03T00:35:54.8748174+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"12e4b5192b399daaf6f7c52d8d4a1555","SpanId":"2aa192b5983cf24a","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCJ:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFACR7JNHCJ"}}
{"Timestamp":"2025-09-03T00:35:54.8751324+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"12e4b5192b399daaf6f7c52d8d4a1555","SpanId":"2aa192b5983cf24a","Properties":{"ElapsedMilliseconds":177.0281,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCJ:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFACR7JNHCJ"}}
{"Timestamp":"2025-09-03T00:36:04.0641322+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"50f7b1dd7603bf6c5fb4b71b740cbb6d","SpanId":"5def4ee7cb708622","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCJ:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCJ"}}
{"Timestamp":"2025-09-03T00:36:04.0663000+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"50f7b1dd7603bf6c5fb4b71b740cbb6d","SpanId":"5def4ee7cb708622","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFACR7JNHCJ:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCJ"}}
{"Timestamp":"2025-09-03T00:36:04.0667954+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"50f7b1dd7603bf6c5fb4b71b740cbb6d","SpanId":"5def4ee7cb708622","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCJ:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCJ"}}
{"Timestamp":"2025-09-03T00:36:04.0670721+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"50f7b1dd7603bf6c5fb4b71b740cbb6d","SpanId":"5def4ee7cb708622","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCJ:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCJ"}}
{"Timestamp":"2025-09-03T00:36:04.0681238+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"50f7b1dd7603bf6c5fb4b71b740cbb6d","SpanId":"5def4ee7cb708622","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCJ:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCJ"}}
{"Timestamp":"2025-09-03T00:36:04.0688876+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"50f7b1dd7603bf6c5fb4b71b740cbb6d","SpanId":"5def4ee7cb708622","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCJ:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCJ","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:36:04.0690972+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"50f7b1dd7603bf6c5fb4b71b740cbb6d","SpanId":"5def4ee7cb708622","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCJ:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCJ","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:36:04.0692519+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"50f7b1dd7603bf6c5fb4b71b740cbb6d","SpanId":"5def4ee7cb708622","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCJ:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCJ","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:36:04.0695090+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"50f7b1dd7603bf6c5fb4b71b740cbb6d","SpanId":"5def4ee7cb708622","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"22c2f706-15e8-422c-833a-91a6288cede8","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFACR7JNHCJ:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCJ"}}
{"Timestamp":"2025-09-03T00:36:04.0698698+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"50f7b1dd7603bf6c5fb4b71b740cbb6d","SpanId":"5def4ee7cb708622","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.5846,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFACR7JNHCJ:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCJ"}}
{"Timestamp":"2025-09-03T00:36:04.0701022+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"50f7b1dd7603bf6c5fb4b71b740cbb6d","SpanId":"5def4ee7cb708622","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFACR7JNHCJ:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCJ"}}
{"Timestamp":"2025-09-03T00:36:04.0707238+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"50f7b1dd7603bf6c5fb4b71b740cbb6d","SpanId":"5def4ee7cb708622","Properties":{"ElapsedMilliseconds":6.5951,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFACR7JNHCJ:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFACR7JNHCJ"}}
{"Timestamp":"2025-09-03T00:36:34.5833739+03:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:36:45.1600332+03:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/hermoonumu/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-09-03T00:36:45.2984952+03:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://0.0.0.0:6865","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:36:45.3002380+03:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:36:45.3006808+03:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:36:45.3008540+03:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/run/media/hermoonumu/DATA/Project/Learning/MyWebApp/MessagingApp","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:36:48.9822702+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"66786b12a98c85d489f39fbbec195eda","SpanId":"737113101beafb0c","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUT:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:48.9882206+03:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"66786b12a98c85d489f39fbbec195eda","SpanId":"737113101beafb0c","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNFAD39BPMUT:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:49.0108332+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"66786b12a98c85d489f39fbbec195eda","SpanId":"737113101beafb0c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMUT:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:49.0152444+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"66786b12a98c85d489f39fbbec195eda","SpanId":"737113101beafb0c","Properties":{"ElapsedMilliseconds":34.5943,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUT:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:49.0278856+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c81b8715688b39f1998c5b35bd29e7ac","SpanId":"4ba51f9c3ddcd80c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUT:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:49.0315510+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c81b8715688b39f1998c5b35bd29e7ac","SpanId":"4ba51f9c3ddcd80c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMUT:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:49.0664147+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c81b8715688b39f1998c5b35bd29e7ac","SpanId":"4ba51f9c3ddcd80c","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMUT:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:49.0850746+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c81b8715688b39f1998c5b35bd29e7ac","SpanId":"4ba51f9c3ddcd80c","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"efcf10b7-1a78-49d4-bcc6-76cfd74eae99","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:49.2101789+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"c81b8715688b39f1998c5b35bd29e7ac","SpanId":"4ba51f9c3ddcd80c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"efcf10b7-1a78-49d4-bcc6-76cfd74eae99","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMUT","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:36:49.2111866+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"c81b8715688b39f1998c5b35bd29e7ac","SpanId":"4ba51f9c3ddcd80c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"efcf10b7-1a78-49d4-bcc6-76cfd74eae99","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMUT","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:36:50.3486199+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c81b8715688b39f1998c5b35bd29e7ac","SpanId":"4ba51f9c3ddcd80c","Properties":{"elapsed":"48","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"efcf10b7-1a78-49d4-bcc6-76cfd74eae99","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMUT","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:36:50.5105868+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"c81b8715688b39f1998c5b35bd29e7ac","SpanId":"4ba51f9c3ddcd80c","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"efcf10b7-1a78-49d4-bcc6-76cfd74eae99","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMUT","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:36:50.5181859+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c81b8715688b39f1998c5b35bd29e7ac","SpanId":"4ba51f9c3ddcd80c","Properties":{"elapsed":"3","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"efcf10b7-1a78-49d4-bcc6-76cfd74eae99","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMUT","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:36:50.5219930+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"c81b8715688b39f1998c5b35bd29e7ac","SpanId":"4ba51f9c3ddcd80c","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"efcf10b7-1a78-49d4-bcc6-76cfd74eae99","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMUT","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:36:50.5560009+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c81b8715688b39f1998c5b35bd29e7ac","SpanId":"4ba51f9c3ddcd80c","Properties":{"elapsed":"2","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"efcf10b7-1a78-49d4-bcc6-76cfd74eae99","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMUT","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:36:50.7029497+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c81b8715688b39f1998c5b35bd29e7ac","SpanId":"4ba51f9c3ddcd80c","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"efcf10b7-1a78-49d4-bcc6-76cfd74eae99","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMUT","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:36:50.7406902+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c81b8715688b39f1998c5b35bd29e7ac","SpanId":"4ba51f9c3ddcd80c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"efcf10b7-1a78-49d4-bcc6-76cfd74eae99","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:50.7506966+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c81b8715688b39f1998c5b35bd29e7ac","SpanId":"4ba51f9c3ddcd80c","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":1662.2108,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAD39BPMUT:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:50.7515801+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c81b8715688b39f1998c5b35bd29e7ac","SpanId":"4ba51f9c3ddcd80c","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMUT:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:50.7626706+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c81b8715688b39f1998c5b35bd29e7ac","SpanId":"4ba51f9c3ddcd80c","Properties":{"ElapsedMilliseconds":1734.9677,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUT:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:50.7634429+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b9dff4e74c65911bd50e47fd36eccf97","SpanId":"a78a2461b675c3a9","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUT:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:50.7642872+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b9dff4e74c65911bd50e47fd36eccf97","SpanId":"a78a2461b675c3a9","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMUT:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:50.7647422+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b9dff4e74c65911bd50e47fd36eccf97","SpanId":"a78a2461b675c3a9","Properties":{"ElapsedMilliseconds":1.2895,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUT:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:50.7677662+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"714516bd460950e3cedddaf665d08419","SpanId":"5e017cf553f1f543","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUT:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:50.7683251+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"714516bd460950e3cedddaf665d08419","SpanId":"5e017cf553f1f543","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMUT:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:50.8240084+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"714516bd460950e3cedddaf665d08419","SpanId":"5e017cf553f1f543","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAD39BPMUT:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:50.8300065+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"714516bd460950e3cedddaf665d08419","SpanId":"5e017cf553f1f543","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMUT:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:50.8340584+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"714516bd460950e3cedddaf665d08419","SpanId":"5e017cf553f1f543","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"be944689-db2b-4987-aa32-ff4932996860","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:50.8379661+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"714516bd460950e3cedddaf665d08419","SpanId":"5e017cf553f1f543","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"be944689-db2b-4987-aa32-ff4932996860","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:50.8391127+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"714516bd460950e3cedddaf665d08419","SpanId":"5e017cf553f1f543","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"be944689-db2b-4987-aa32-ff4932996860","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMUT","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:36:50.8393493+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"714516bd460950e3cedddaf665d08419","SpanId":"5e017cf553f1f543","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"be944689-db2b-4987-aa32-ff4932996860","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMUT","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:36:50.8395712+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"714516bd460950e3cedddaf665d08419","SpanId":"5e017cf553f1f543","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"be944689-db2b-4987-aa32-ff4932996860","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMUT","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:36:50.8423570+03:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"714516bd460950e3cedddaf665d08419","SpanId":"5e017cf553f1f543","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"be944689-db2b-4987-aa32-ff4932996860","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:50.8428209+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"714516bd460950e3cedddaf665d08419","SpanId":"5e017cf553f1f543","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":8.2975,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAD39BPMUT:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:50.8430717+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"714516bd460950e3cedddaf665d08419","SpanId":"5e017cf553f1f543","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMUT:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:50.8435034+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"714516bd460950e3cedddaf665d08419","SpanId":"5e017cf553f1f543","Properties":{"ElapsedMilliseconds":75.7319,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUT:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:50.8659160+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a2a3927056b97103ffa8ebb8ab40eee6","SpanId":"2739f0a6c0edb176","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUU:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMUU"}}
{"Timestamp":"2025-09-03T00:36:50.8665870+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a2a3927056b97103ffa8ebb8ab40eee6","SpanId":"2739f0a6c0edb176","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMUU:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMUU"}}
{"Timestamp":"2025-09-03T00:36:50.8671700+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a2a3927056b97103ffa8ebb8ab40eee6","SpanId":"2739f0a6c0edb176","Properties":{"ElapsedMilliseconds":1.2385,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUU:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMUU"}}
{"Timestamp":"2025-09-03T00:36:50.8793618+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"89e367fcd511e98b8b4f2bf12040a99d","SpanId":"46bf6fa6fd19a9c7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUU:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMUU"}}
{"Timestamp":"2025-09-03T00:36:50.8813526+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"89e367fcd511e98b8b4f2bf12040a99d","SpanId":"46bf6fa6fd19a9c7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMUU:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMUU"}}
{"Timestamp":"2025-09-03T00:36:50.9480274+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"89e367fcd511e98b8b4f2bf12040a99d","SpanId":"46bf6fa6fd19a9c7","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAD39BPMUU:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMUU"}}
{"Timestamp":"2025-09-03T00:36:50.9499849+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"89e367fcd511e98b8b4f2bf12040a99d","SpanId":"46bf6fa6fd19a9c7","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMUU:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMUU"}}
{"Timestamp":"2025-09-03T00:36:50.9537269+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"89e367fcd511e98b8b4f2bf12040a99d","SpanId":"46bf6fa6fd19a9c7","Properties":{"RouteData":"{action = \"GetUserChats\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Int64]]] GetUserChatsAsync()","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5c589744-bb53-4a61-b136-2c171ec9f5b0","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFAD39BPMUU:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMUU"}}
{"Timestamp":"2025-09-03T00:36:50.9563477+03:00","Level":"Information","MessageTemplate":"Initiated chats retrieval by 192.168.31.243:6865","TraceId":"89e367fcd511e98b8b4f2bf12040a99d","SpanId":"46bf6fa6fd19a9c7","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"5c589744-bb53-4a61-b136-2c171ec9f5b0","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFAD39BPMUU:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMUU"}}
{"Timestamp":"2025-09-03T00:36:50.9577379+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"89e367fcd511e98b8b4f2bf12040a99d","SpanId":"46bf6fa6fd19a9c7","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5c589744-bb53-4a61-b136-2c171ec9f5b0","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFAD39BPMUU:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMUU"}}
{"Timestamp":"2025-09-03T00:36:51.0639234+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"89e367fcd511e98b8b4f2bf12040a99d","SpanId":"46bf6fa6fd19a9c7","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u1.\"ID\", u1.\"PasswordHash\", u1.\"Role\", u1.\"Username\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"Name\", s.\"OwnerID\"\nFROM (\n    SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\n    FROM \"Users\" AS u\n    WHERE u.\"ID\" = @__UserID_0\n    LIMIT 1\n) AS u1\nLEFT JOIN (\n    SELECT u0.\"ChatID\", u0.\"UserID\", c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"UserChatJoinTable\" AS u0\n    INNER JOIN \"Chats\" AS c ON u0.\"ChatID\" = c.\"ID\"\n) AS s ON u1.\"ID\" = s.\"UserID\"\nORDER BY u1.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5c589744-bb53-4a61-b136-2c171ec9f5b0","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFAD39BPMUU:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMUU"}}
{"Timestamp":"2025-09-03T00:36:51.0949562+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"89e367fcd511e98b8b4f2bf12040a99d","SpanId":"46bf6fa6fd19a9c7","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.UserChatsDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5c589744-bb53-4a61-b136-2c171ec9f5b0","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFAD39BPMUU:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMUU"}}
{"Timestamp":"2025-09-03T00:36:51.1036855+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"89e367fcd511e98b8b4f2bf12040a99d","SpanId":"46bf6fa6fd19a9c7","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","ElapsedMilliseconds":149.4255,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAD39BPMUU:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMUU"}}
{"Timestamp":"2025-09-03T00:36:51.1040940+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"89e367fcd511e98b8b4f2bf12040a99d","SpanId":"46bf6fa6fd19a9c7","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMUU:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMUU"}}
{"Timestamp":"2025-09-03T00:36:51.1044557+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"89e367fcd511e98b8b4f2bf12040a99d","SpanId":"46bf6fa6fd19a9c7","Properties":{"ElapsedMilliseconds":225.0927,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUU:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMUU"}}
{"Timestamp":"2025-09-03T00:36:57.2636665+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dc921cfec6314f5d7147c56332798c34","SpanId":"62bc5140f339d1db","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/logout","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUT:00000005","RequestPath":"/api/auth/logout","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:57.2645589+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"dc921cfec6314f5d7147c56332798c34","SpanId":"62bc5140f339d1db","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMUT:00000005","RequestPath":"/api/auth/logout","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:57.2651714+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dc921cfec6314f5d7147c56332798c34","SpanId":"62bc5140f339d1db","Properties":{"ElapsedMilliseconds":1.408,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/logout","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUT:00000005","RequestPath":"/api/auth/logout","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:57.2966153+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"06085cc70b2e1722a3fbe1f9c8a8732b","SpanId":"bf15caf537ec2cea","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/logout","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUT:00000006","RequestPath":"/api/auth/logout","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:57.2979162+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"06085cc70b2e1722a3fbe1f9c8a8732b","SpanId":"bf15caf537ec2cea","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMUT:00000006","RequestPath":"/api/auth/logout","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:57.3019827+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"06085cc70b2e1722a3fbe1f9c8a8732b","SpanId":"bf15caf537ec2cea","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAD39BPMUT:00000006","RequestPath":"/api/auth/logout","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:57.3046306+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"06085cc70b2e1722a3fbe1f9c8a8732b","SpanId":"bf15caf537ec2cea","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Logout (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMUT:00000006","RequestPath":"/api/auth/logout","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:57.3098338+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"06085cc70b2e1722a3fbe1f9c8a8732b","SpanId":"bf15caf537ec2cea","Properties":{"RouteData":"{action = \"Logout\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Logout()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c6be5e87-464e-4c91-bbb2-6b7137446cb9","ActionName":"MessagingApp.Controllers.AuthController.Logout (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000006","RequestPath":"/api/auth/logout","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:57.3122099+03:00","Level":"Information","MessageTemplate":"Initiated session invalidation by localhost:6865","TraceId":"06085cc70b2e1722a3fbe1f9c8a8732b","SpanId":"bf15caf537ec2cea","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"c6be5e87-464e-4c91-bbb2-6b7137446cb9","ActionName":"MessagingApp.Controllers.AuthController.Logout (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000006","RequestPath":"/api/auth/logout","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:57.3287511+03:00","Level":"Error","MessageTemplate":"","TraceId":"06085cc70b2e1722a3fbe1f9c8a8732b","SpanId":"bf15caf537ec2cea","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","ActionId":"c6be5e87-464e-4c91-bbb2-6b7137446cb9","ActionName":"MessagingApp.Controllers.AuthController.Logout (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000006","RequestPath":"/api/auth/logout","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:57.3543692+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"06085cc70b2e1722a3fbe1f9c8a8732b","SpanId":"bf15caf537ec2cea","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__userId_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c6be5e87-464e-4c91-bbb2-6b7137446cb9","ActionName":"MessagingApp.Controllers.AuthController.Logout (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000006","RequestPath":"/api/auth/logout","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:57.3602756+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"06085cc70b2e1722a3fbe1f9c8a8732b","SpanId":"bf15caf537ec2cea","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?', @p2='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO revoked_jwts (\"JTI\", \"Token\")\nVALUES (@p1, @p2)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c6be5e87-464e-4c91-bbb2-6b7137446cb9","ActionName":"MessagingApp.Controllers.AuthController.Logout (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000006","RequestPath":"/api/auth/logout","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:57.3649332+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"06085cc70b2e1722a3fbe1f9c8a8732b","SpanId":"bf15caf537ec2cea","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c6be5e87-464e-4c91-bbb2-6b7137446cb9","ActionName":"MessagingApp.Controllers.AuthController.Logout (MessagingApp)","RequestId":"0HNFAD39BPMUT:00000006","RequestPath":"/api/auth/logout","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:57.3655743+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"06085cc70b2e1722a3fbe1f9c8a8732b","SpanId":"bf15caf537ec2cea","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Logout (MessagingApp)","ElapsedMilliseconds":55.372,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAD39BPMUT:00000006","RequestPath":"/api/auth/logout","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:57.3658582+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"06085cc70b2e1722a3fbe1f9c8a8732b","SpanId":"bf15caf537ec2cea","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Logout (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMUT:00000006","RequestPath":"/api/auth/logout","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:36:57.3664390+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"06085cc70b2e1722a3fbe1f9c8a8732b","SpanId":"bf15caf537ec2cea","Properties":{"ElapsedMilliseconds":69.8163,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/logout","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUT:00000006","RequestPath":"/api/auth/logout","ConnectionId":"0HNFAD39BPMUT"}}
{"Timestamp":"2025-09-03T00:38:11.2963609+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bab1d227e04156aaaa530ae485239997","SpanId":"1fcd1e2ff54fbaf8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":"application/json","ContentLength":60,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/RetrieveExpiredToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUV:00000001","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:11.2998171+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bab1d227e04156aaaa530ae485239997","SpanId":"1fcd1e2ff54fbaf8","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAD39BPMUV:00000001","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:11.3004052+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bab1d227e04156aaaa530ae485239997","SpanId":"1fcd1e2ff54fbaf8","Properties":{"EndpointName":"405 HTTP Method Not Supported","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMUV:00000001","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:11.3007806+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bab1d227e04156aaaa530ae485239997","SpanId":"1fcd1e2ff54fbaf8","Properties":{"EndpointName":"405 HTTP Method Not Supported","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMUV:00000001","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:11.3010985+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bab1d227e04156aaaa530ae485239997","SpanId":"1fcd1e2ff54fbaf8","Properties":{"ElapsedMilliseconds":4.7395,"StatusCode":405,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/RetrieveExpiredToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUV:00000001","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:41.6011822+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e99a0ddc2db03ba8f35ed8fac31f409c","SpanId":"952b49a1182c2043","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":"application/json","ContentLength":60,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/RetrieveExpiredToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUV:00000002","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:41.6039853+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e99a0ddc2db03ba8f35ed8fac31f409c","SpanId":"952b49a1182c2043","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAD39BPMUV:00000002","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:41.6054354+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e99a0ddc2db03ba8f35ed8fac31f409c","SpanId":"952b49a1182c2043","Properties":{"EndpointName":"405 HTTP Method Not Supported","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMUV:00000002","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:41.6056928+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e99a0ddc2db03ba8f35ed8fac31f409c","SpanId":"952b49a1182c2043","Properties":{"EndpointName":"405 HTTP Method Not Supported","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMUV:00000002","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:41.6059510+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e99a0ddc2db03ba8f35ed8fac31f409c","SpanId":"952b49a1182c2043","Properties":{"ElapsedMilliseconds":4.7566,"StatusCode":405,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/RetrieveExpiredToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUV:00000002","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:48.4744598+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a51c2b448177f9066fcca9fe7972098e","SpanId":"5690a627907f4f03","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":"application/json","ContentLength":60,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/RetrieveExpiredToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUV:00000003","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:48.4770427+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a51c2b448177f9066fcca9fe7972098e","SpanId":"5690a627907f4f03","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAD39BPMUV:00000003","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:48.4774806+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a51c2b448177f9066fcca9fe7972098e","SpanId":"5690a627907f4f03","Properties":{"EndpointName":"405 HTTP Method Not Supported","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMUV:00000003","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:48.4777548+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a51c2b448177f9066fcca9fe7972098e","SpanId":"5690a627907f4f03","Properties":{"EndpointName":"405 HTTP Method Not Supported","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMUV:00000003","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:48.4780759+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a51c2b448177f9066fcca9fe7972098e","SpanId":"5690a627907f4f03","Properties":{"ElapsedMilliseconds":3.616,"StatusCode":405,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/RetrieveExpiredToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUV:00000003","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:54.8212551+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7fa0a17db2b252ef2b66dddc99859c9d","SpanId":"361c031bfb42eff2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":60,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/RetrieveExpiredToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUV:00000004","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:54.8237988+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7fa0a17db2b252ef2b66dddc99859c9d","SpanId":"361c031bfb42eff2","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAD39BPMUV:00000004","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:54.8243992+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7fa0a17db2b252ef2b66dddc99859c9d","SpanId":"361c031bfb42eff2","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.GetExampleJWTToken (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMUV:00000004","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:54.8283766+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7fa0a17db2b252ef2b66dddc99859c9d","SpanId":"361c031bfb42eff2","Properties":{"RouteData":"{action = \"GetExampleJWTToken\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] GetExampleJWTToken(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"96bf6e88-b885-4017-a64c-0ca6a83c4330","ActionName":"MessagingApp.Controllers.AuthController.GetExampleJWTToken (MessagingApp)","RequestId":"0HNFAD39BPMUV:00000004","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:54.8322574+03:00","Level":"Information","MessageTemplate":"Initiated test exprited JWT retrieval by 192.168.31.243:6865","TraceId":"7fa0a17db2b252ef2b66dddc99859c9d","SpanId":"361c031bfb42eff2","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"96bf6e88-b885-4017-a64c-0ca6a83c4330","ActionName":"MessagingApp.Controllers.AuthController.GetExampleJWTToken (MessagingApp)","RequestId":"0HNFAD39BPMUV:00000004","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:38:54.8338035+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7fa0a17db2b252ef2b66dddc99859c9d","SpanId":"361c031bfb42eff2","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"96bf6e88-b885-4017-a64c-0ca6a83c4330","ActionName":"MessagingApp.Controllers.AuthController.GetExampleJWTToken (MessagingApp)","RequestId":"0HNFAD39BPMUV:00000004","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:38:54.8345544+03:00","Level":"Information","MessageTemplate":"Returning JWT to 192.168.31.243:6865","TraceId":"7fa0a17db2b252ef2b66dddc99859c9d","SpanId":"361c031bfb42eff2","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"96bf6e88-b885-4017-a64c-0ca6a83c4330","ActionName":"MessagingApp.Controllers.AuthController.GetExampleJWTToken (MessagingApp)","RequestId":"0HNFAD39BPMUV:00000004","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:38:54.8348257+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"7fa0a17db2b252ef2b66dddc99859c9d","SpanId":"361c031bfb42eff2","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"96bf6e88-b885-4017-a64c-0ca6a83c4330","ActionName":"MessagingApp.Controllers.AuthController.GetExampleJWTToken (MessagingApp)","RequestId":"0HNFAD39BPMUV:00000004","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:38:54.8368721+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7fa0a17db2b252ef2b66dddc99859c9d","SpanId":"361c031bfb42eff2","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"96bf6e88-b885-4017-a64c-0ca6a83c4330","ActionName":"MessagingApp.Controllers.AuthController.GetExampleJWTToken (MessagingApp)","RequestId":"0HNFAD39BPMUV:00000004","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:38:54.8433149+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7fa0a17db2b252ef2b66dddc99859c9d","SpanId":"361c031bfb42eff2","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p0, @p1, @p2, @p3)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"96bf6e88-b885-4017-a64c-0ca6a83c4330","ActionName":"MessagingApp.Controllers.AuthController.GetExampleJWTToken (MessagingApp)","RequestId":"0HNFAD39BPMUV:00000004","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:38:54.8444269+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7fa0a17db2b252ef2b66dddc99859c9d","SpanId":"361c031bfb42eff2","Properties":{"ObjectResultType":"ObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"96bf6e88-b885-4017-a64c-0ca6a83c4330","ActionName":"MessagingApp.Controllers.AuthController.GetExampleJWTToken (MessagingApp)","RequestId":"0HNFAD39BPMUV:00000004","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:54.8449644+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7fa0a17db2b252ef2b66dddc99859c9d","SpanId":"361c031bfb42eff2","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.GetExampleJWTToken (MessagingApp)","ElapsedMilliseconds":16.2003,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAD39BPMUV:00000004","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:54.8451959+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7fa0a17db2b252ef2b66dddc99859c9d","SpanId":"361c031bfb42eff2","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.GetExampleJWTToken (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMUV:00000004","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:38:54.8455606+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7fa0a17db2b252ef2b66dddc99859c9d","SpanId":"361c031bfb42eff2","Properties":{"ElapsedMilliseconds":24.2888,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/RetrieveExpiredToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMUV:00000004","RequestPath":"/api/auth/RetrieveExpiredToken","ConnectionId":"0HNFAD39BPMUV"}}
{"Timestamp":"2025-09-03T00:42:16.6705634+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ce297b70fd0796253c3b47d579166a6d","SpanId":"e63e365536c1e726","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.6831074+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ce297b70fd0796253c3b47d579166a6d","SpanId":"e63e365536c1e726","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMV0:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.6842716+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ce297b70fd0796253c3b47d579166a6d","SpanId":"e63e365536c1e726","Properties":{"ElapsedMilliseconds":13.3765,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.6881554+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d603fb077201fafc9cc3e90cefcdd0b8","SpanId":"0b63a3e7734262f9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.6886117+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d603fb077201fafc9cc3e90cefcdd0b8","SpanId":"0b63a3e7734262f9","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMV0:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.6932150+03:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"d603fb077201fafc9cc3e90cefcdd0b8","SpanId":"0b63a3e7734262f9","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/2/2025 9:38:54 PM', Current time (UTC): '9/2/2025 9:42:16 PM'.\n   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFAD39BPMV0:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.7116661+03:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"d603fb077201fafc9cc3e90cefcdd0b8","SpanId":"0b63a3e7734262f9","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/2/2025 9:38:54 PM', Current time (UTC): '9/2/2025 9:42:16 PM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFAD39BPMV0:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.7131931+03:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"d603fb077201fafc9cc3e90cefcdd0b8","SpanId":"0b63a3e7734262f9","Properties":{"Reason":"These requirements were not met:\nDenyAnonymousAuthorizationRequirement: Requires an authenticated user.","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HNFAD39BPMV0:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.7201239+03:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"d603fb077201fafc9cc3e90cefcdd0b8","SpanId":"0b63a3e7734262f9","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFAD39BPMV0:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.7208648+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d603fb077201fafc9cc3e90cefcdd0b8","SpanId":"0b63a3e7734262f9","Properties":{"ElapsedMilliseconds":32.5476,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.7824466+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fac7c78f4382f33fda059d918b7ddda9","SpanId":"bdad2dadc119528d","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.7828823+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"fac7c78f4382f33fda059d918b7ddda9","SpanId":"bdad2dadc119528d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMV0:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.7831775+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fac7c78f4382f33fda059d918b7ddda9","SpanId":"bdad2dadc119528d","Properties":{"ElapsedMilliseconds":0.6895,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.7871244+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"26d994e9d38d65a040c0fef7c74e3bcb","SpanId":"b124ac9ee61396d4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.7876374+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"26d994e9d38d65a040c0fef7c74e3bcb","SpanId":"b124ac9ee61396d4","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMV0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.7879575+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"26d994e9d38d65a040c0fef7c74e3bcb","SpanId":"b124ac9ee61396d4","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMV0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.7926517+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"26d994e9d38d65a040c0fef7c74e3bcb","SpanId":"b124ac9ee61396d4","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0b04b25f-c134-45f4-8137-b25bce9cebfe","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.7961672+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by localhost:6865","TraceId":"26d994e9d38d65a040c0fef7c74e3bcb","SpanId":"b124ac9ee61396d4","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"0b04b25f-c134-45f4-8137-b25bce9cebfe","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.8162236+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"26d994e9d38d65a040c0fef7c74e3bcb","SpanId":"b124ac9ee61396d4","Properties":{"elapsed":"2","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0b04b25f-c134-45f4-8137-b25bce9cebfe","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.8170961+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by localhost:6865. Refresh failed. tdtF3PfatXfCatYeGLHK4VNolLSh76sj3nRhQ4WDS8MfT8k2RMu0B+PczGSn0HK056jkjTaQA8lQKJMkqtmBoxAjzwKM2h74tiNfBsHaODusX9+blHhGtXA5LMqgJgqh6Za3+ey2J0AwLYpWwbiDiMPDUATpVAQZmL04vAwbdRI=","TraceId":"26d994e9d38d65a040c0fef7c74e3bcb","SpanId":"b124ac9ee61396d4","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"0b04b25f-c134-45f4-8137-b25bce9cebfe","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.8175872+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"26d994e9d38d65a040c0fef7c74e3bcb","SpanId":"b124ac9ee61396d4","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0b04b25f-c134-45f4-8137-b25bce9cebfe","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.8181756+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"26d994e9d38d65a040c0fef7c74e3bcb","SpanId":"b124ac9ee61396d4","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":25.2091,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAD39BPMV0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.8185125+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"26d994e9d38d65a040c0fef7c74e3bcb","SpanId":"b124ac9ee61396d4","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMV0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:42:16.8190827+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"26d994e9d38d65a040c0fef7c74e3bcb","SpanId":"b124ac9ee61396d4","Properties":{"ElapsedMilliseconds":31.9175,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:40.9546891+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4cc756d60842b1c695f01548ab3fd840","SpanId":"62691924ff787e9d","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:40.9553237+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"4cc756d60842b1c695f01548ab3fd840","SpanId":"62691924ff787e9d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMV0:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:40.9559045+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4cc756d60842b1c695f01548ab3fd840","SpanId":"62691924ff787e9d","Properties":{"ElapsedMilliseconds":1.2163,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:40.9587068+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e9e5779229518116e399f602bfc8b6e3","SpanId":"808a3c60671f8176","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:40.9591141+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e9e5779229518116e399f602bfc8b6e3","SpanId":"808a3c60671f8176","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMV0:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:40.9594887+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e9e5779229518116e399f602bfc8b6e3","SpanId":"808a3c60671f8176","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMV0:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:40.9598748+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e9e5779229518116e399f602bfc8b6e3","SpanId":"808a3c60671f8176","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"efcf10b7-1a78-49d4-bcc6-76cfd74eae99","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:40.9610892+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"e9e5779229518116e399f602bfc8b6e3","SpanId":"808a3c60671f8176","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"efcf10b7-1a78-49d4-bcc6-76cfd74eae99","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMV0","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:43:40.9613319+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"e9e5779229518116e399f602bfc8b6e3","SpanId":"808a3c60671f8176","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"efcf10b7-1a78-49d4-bcc6-76cfd74eae99","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMV0","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:43:40.9639796+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e9e5779229518116e399f602bfc8b6e3","SpanId":"808a3c60671f8176","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"efcf10b7-1a78-49d4-bcc6-76cfd74eae99","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMV0","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:43:41.0358989+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"e9e5779229518116e399f602bfc8b6e3","SpanId":"808a3c60671f8176","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"efcf10b7-1a78-49d4-bcc6-76cfd74eae99","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMV0","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:43:41.0372025+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e9e5779229518116e399f602bfc8b6e3","SpanId":"808a3c60671f8176","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"efcf10b7-1a78-49d4-bcc6-76cfd74eae99","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMV0","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:43:41.0377229+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"e9e5779229518116e399f602bfc8b6e3","SpanId":"808a3c60671f8176","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"efcf10b7-1a78-49d4-bcc6-76cfd74eae99","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMV0","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:43:41.0388915+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e9e5779229518116e399f602bfc8b6e3","SpanId":"808a3c60671f8176","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"efcf10b7-1a78-49d4-bcc6-76cfd74eae99","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMV0","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:43:41.0412929+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e9e5779229518116e399f602bfc8b6e3","SpanId":"808a3c60671f8176","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"efcf10b7-1a78-49d4-bcc6-76cfd74eae99","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMV0","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:43:41.0494590+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e9e5779229518116e399f602bfc8b6e3","SpanId":"808a3c60671f8176","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"efcf10b7-1a78-49d4-bcc6-76cfd74eae99","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:41.0498279+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e9e5779229518116e399f602bfc8b6e3","SpanId":"808a3c60671f8176","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":89.5728,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAD39BPMV0:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:41.0500414+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e9e5779229518116e399f602bfc8b6e3","SpanId":"808a3c60671f8176","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMV0:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:41.0503203+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e9e5779229518116e399f602bfc8b6e3","SpanId":"808a3c60671f8176","Properties":{"ElapsedMilliseconds":91.6102,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:41.0613173+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c5fdd89c3489f9d9c2604a561c6e17e1","SpanId":"c94d6f33d8364f32","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:41.0618126+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c5fdd89c3489f9d9c2604a561c6e17e1","SpanId":"c94d6f33d8364f32","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMV0:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:41.0621196+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c5fdd89c3489f9d9c2604a561c6e17e1","SpanId":"c94d6f33d8364f32","Properties":{"ElapsedMilliseconds":0.8024,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:41.0652674+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8b058ce2b2c1b2230c82396f179a6456","SpanId":"e46acb12ae956ef9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:41.0656984+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"8b058ce2b2c1b2230c82396f179a6456","SpanId":"e46acb12ae956ef9","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMV0:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:41.0674240+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8b058ce2b2c1b2230c82396f179a6456","SpanId":"e46acb12ae956ef9","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAD39BPMV0:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:41.0679526+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8b058ce2b2c1b2230c82396f179a6456","SpanId":"e46acb12ae956ef9","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMV0:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:41.0681623+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8b058ce2b2c1b2230c82396f179a6456","SpanId":"e46acb12ae956ef9","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"be944689-db2b-4987-aa32-ff4932996860","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:41.0696600+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8b058ce2b2c1b2230c82396f179a6456","SpanId":"e46acb12ae956ef9","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"be944689-db2b-4987-aa32-ff4932996860","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:41.0701848+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"8b058ce2b2c1b2230c82396f179a6456","SpanId":"e46acb12ae956ef9","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"be944689-db2b-4987-aa32-ff4932996860","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:43:41.0703924+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"8b058ce2b2c1b2230c82396f179a6456","SpanId":"e46acb12ae956ef9","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"be944689-db2b-4987-aa32-ff4932996860","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:43:41.0706161+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"8b058ce2b2c1b2230c82396f179a6456","SpanId":"e46acb12ae956ef9","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"be944689-db2b-4987-aa32-ff4932996860","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:43:41.0709961+03:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"8b058ce2b2c1b2230c82396f179a6456","SpanId":"e46acb12ae956ef9","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"be944689-db2b-4987-aa32-ff4932996860","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD39BPMV0:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:41.0712280+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8b058ce2b2c1b2230c82396f179a6456","SpanId":"e46acb12ae956ef9","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.8116,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAD39BPMV0:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:41.0714359+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8b058ce2b2c1b2230c82396f179a6456","SpanId":"e46acb12ae956ef9","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMV0:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:41.0717416+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8b058ce2b2c1b2230c82396f179a6456","SpanId":"e46acb12ae956ef9","Properties":{"ElapsedMilliseconds":6.4847,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:43:41.1150202+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7062987f8ddcdec8efccc07b400722fc","SpanId":"d397cd8bad2f381c","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV1:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMV1"}}
{"Timestamp":"2025-09-03T00:43:41.1155129+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"7062987f8ddcdec8efccc07b400722fc","SpanId":"d397cd8bad2f381c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMV1:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMV1"}}
{"Timestamp":"2025-09-03T00:43:41.1158295+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7062987f8ddcdec8efccc07b400722fc","SpanId":"d397cd8bad2f381c","Properties":{"ElapsedMilliseconds":0.7986,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV1:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMV1"}}
{"Timestamp":"2025-09-03T00:43:41.1288550+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2ab72d0932b7d2d8def8f8b591c7584a","SpanId":"32ef2a9b9c230175","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV1:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMV1"}}
{"Timestamp":"2025-09-03T00:43:41.1295147+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"2ab72d0932b7d2d8def8f8b591c7584a","SpanId":"32ef2a9b9c230175","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMV1:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMV1"}}
{"Timestamp":"2025-09-03T00:43:41.1313807+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ab72d0932b7d2d8def8f8b591c7584a","SpanId":"32ef2a9b9c230175","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAD39BPMV1:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMV1"}}
{"Timestamp":"2025-09-03T00:43:41.1319358+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2ab72d0932b7d2d8def8f8b591c7584a","SpanId":"32ef2a9b9c230175","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMV1:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMV1"}}
{"Timestamp":"2025-09-03T00:43:41.1322482+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2ab72d0932b7d2d8def8f8b591c7584a","SpanId":"32ef2a9b9c230175","Properties":{"RouteData":"{action = \"GetUserChats\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Int64]]] GetUserChatsAsync()","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5c589744-bb53-4a61-b136-2c171ec9f5b0","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFAD39BPMV1:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMV1"}}
{"Timestamp":"2025-09-03T00:43:41.1334283+03:00","Level":"Information","MessageTemplate":"Initiated chats retrieval by 192.168.31.243:6865","TraceId":"2ab72d0932b7d2d8def8f8b591c7584a","SpanId":"32ef2a9b9c230175","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"5c589744-bb53-4a61-b136-2c171ec9f5b0","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFAD39BPMV1:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMV1"}}
{"Timestamp":"2025-09-03T00:43:41.1349308+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ab72d0932b7d2d8def8f8b591c7584a","SpanId":"32ef2a9b9c230175","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5c589744-bb53-4a61-b136-2c171ec9f5b0","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFAD39BPMV1:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMV1"}}
{"Timestamp":"2025-09-03T00:43:41.1375764+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ab72d0932b7d2d8def8f8b591c7584a","SpanId":"32ef2a9b9c230175","Properties":{"elapsed":"2","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u1.\"ID\", u1.\"PasswordHash\", u1.\"Role\", u1.\"Username\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"Name\", s.\"OwnerID\"\nFROM (\n    SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\n    FROM \"Users\" AS u\n    WHERE u.\"ID\" = @__UserID_0\n    LIMIT 1\n) AS u1\nLEFT JOIN (\n    SELECT u0.\"ChatID\", u0.\"UserID\", c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"UserChatJoinTable\" AS u0\n    INNER JOIN \"Chats\" AS c ON u0.\"ChatID\" = c.\"ID\"\n) AS s ON u1.\"ID\" = s.\"UserID\"\nORDER BY u1.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5c589744-bb53-4a61-b136-2c171ec9f5b0","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFAD39BPMV1:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMV1"}}
{"Timestamp":"2025-09-03T00:43:41.1391353+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2ab72d0932b7d2d8def8f8b591c7584a","SpanId":"32ef2a9b9c230175","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.UserChatsDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5c589744-bb53-4a61-b136-2c171ec9f5b0","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFAD39BPMV1:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMV1"}}
{"Timestamp":"2025-09-03T00:43:41.1403820+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2ab72d0932b7d2d8def8f8b591c7584a","SpanId":"32ef2a9b9c230175","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","ElapsedMilliseconds":7.6941,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAD39BPMV1:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMV1"}}
{"Timestamp":"2025-09-03T00:43:41.1411012+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2ab72d0932b7d2d8def8f8b591c7584a","SpanId":"32ef2a9b9c230175","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMV1:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMV1"}}
{"Timestamp":"2025-09-03T00:43:41.1416130+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2ab72d0932b7d2d8def8f8b591c7584a","SpanId":"32ef2a9b9c230175","Properties":{"ElapsedMilliseconds":12.8605,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV1:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD39BPMV1"}}
{"Timestamp":"2025-09-03T00:44:19.2240208+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cf6a565c2621053fe517f94c7ae00bc3","SpanId":"b79448d9765417e2","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:00000009","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.2247218+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"cf6a565c2621053fe517f94c7ae00bc3","SpanId":"b79448d9765417e2","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMV0:00000009","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.2262946+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cf6a565c2621053fe517f94c7ae00bc3","SpanId":"b79448d9765417e2","Properties":{"ElapsedMilliseconds":2.2713,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:00000009","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.2367168+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7409d8caacfd203f21b659ff83d16e72","SpanId":"c6be4cb72c452345","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.2380759+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"7409d8caacfd203f21b659ff83d16e72","SpanId":"c6be4cb72c452345","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMV0:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.2399854+03:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"7409d8caacfd203f21b659ff83d16e72","SpanId":"c6be4cb72c452345","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14120: JWT is not well formed, there is only one dot (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString, TryReadJwtClaim tryReadJwtClaim)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFAD39BPMV0:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.2412023+03:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"7409d8caacfd203f21b659ff83d16e72","SpanId":"c6be4cb72c452345","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14120: JWT is not well formed, there is only one dot (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFAD39BPMV0:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.2421606+03:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"7409d8caacfd203f21b659ff83d16e72","SpanId":"c6be4cb72c452345","Properties":{"Reason":"These requirements were not met:\nDenyAnonymousAuthorizationRequirement: Requires an authenticated user.","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HNFAD39BPMV0:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.2430092+03:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"7409d8caacfd203f21b659ff83d16e72","SpanId":"c6be4cb72c452345","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFAD39BPMV0:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.2436902+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7409d8caacfd203f21b659ff83d16e72","SpanId":"c6be4cb72c452345","Properties":{"ElapsedMilliseconds":6.9506,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.3422370+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"33530c6ab79794cd852027d585d7cbac","SpanId":"2a011c1fa23fc023","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:0000000B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.3428519+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"33530c6ab79794cd852027d585d7cbac","SpanId":"2a011c1fa23fc023","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMV0:0000000B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.3431652+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"33530c6ab79794cd852027d585d7cbac","SpanId":"2a011c1fa23fc023","Properties":{"ElapsedMilliseconds":0.8784,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:0000000B","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.3519304+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"50e2f4504a5bd8b7b64c429e57289942","SpanId":"60ed9fe9ba1889de","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.3522922+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"50e2f4504a5bd8b7b64c429e57289942","SpanId":"60ed9fe9ba1889de","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD39BPMV0:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.3526259+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"50e2f4504a5bd8b7b64c429e57289942","SpanId":"60ed9fe9ba1889de","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMV0:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.3530268+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"50e2f4504a5bd8b7b64c429e57289942","SpanId":"60ed9fe9ba1889de","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0b04b25f-c134-45f4-8137-b25bce9cebfe","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAD39BPMV0:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.3542610+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by localhost:6865","TraceId":"50e2f4504a5bd8b7b64c429e57289942","SpanId":"60ed9fe9ba1889de","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"0b04b25f-c134-45f4-8137-b25bce9cebfe","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAD39BPMV0:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.3569320+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"50e2f4504a5bd8b7b64c429e57289942","SpanId":"60ed9fe9ba1889de","Properties":{"elapsed":"1","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0b04b25f-c134-45f4-8137-b25bce9cebfe","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAD39BPMV0:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.3578058+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by localhost:6865. Refresh failed. xD3aIfSpSblFfTh2/6FBsjiOpB2cyeD/3rV/7+4ipyFkho9i67aewoDnGkqBu25VSZT5698cC2k8jpS0ODHKMbUR23ytmYmewEGGTPUSYtLCvG2zf+cH0H7zMnasW9pLJkodDmab9zRfByIQvkRUhcvWup1qyRW+i7emSGYdTZM=","TraceId":"50e2f4504a5bd8b7b64c429e57289942","SpanId":"60ed9fe9ba1889de","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"0b04b25f-c134-45f4-8137-b25bce9cebfe","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAD39BPMV0:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.3582289+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"50e2f4504a5bd8b7b64c429e57289942","SpanId":"60ed9fe9ba1889de","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0b04b25f-c134-45f4-8137-b25bce9cebfe","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAD39BPMV0:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.3587661+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"50e2f4504a5bd8b7b64c429e57289942","SpanId":"60ed9fe9ba1889de","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":5.2515,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAD39BPMV0:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.3593719+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"50e2f4504a5bd8b7b64c429e57289942","SpanId":"60ed9fe9ba1889de","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD39BPMV0:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:44:19.3599589+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"50e2f4504a5bd8b7b64c429e57289942","SpanId":"60ed9fe9ba1889de","Properties":{"ElapsedMilliseconds":8.0222,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD39BPMV0:0000000C","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD39BPMV0"}}
{"Timestamp":"2025-09-03T00:45:47.4224544+03:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:45:55.7511773+03:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/hermoonumu/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-09-03T00:45:55.8918094+03:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://0.0.0.0:6865","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:45:55.8936550+03:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:45:55.8941216+03:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:45:55.8944234+03:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/run/media/hermoonumu/DATA/Project/Learning/MyWebApp/MessagingApp","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:46:19.7452356+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"57ca6a11a6a3c16d6784e837c4a8408f","SpanId":"dec99ed816acf9f0","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OG8:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:19.7527578+03:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"57ca6a11a6a3c16d6784e837c4a8408f","SpanId":"dec99ed816acf9f0","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNFAD8JF0OG8:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:19.7750450+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"57ca6a11a6a3c16d6784e837c4a8408f","SpanId":"dec99ed816acf9f0","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD8JF0OG8:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:19.7803389+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"57ca6a11a6a3c16d6784e837c4a8408f","SpanId":"dec99ed816acf9f0","Properties":{"ElapsedMilliseconds":36.4673,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OG8:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:19.7923878+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1b8ee2bad962d754ebe097e5a9baeff1","SpanId":"0f08a8b9c73dbdd1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OG8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:19.7960594+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1b8ee2bad962d754ebe097e5a9baeff1","SpanId":"0f08a8b9c73dbdd1","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD8JF0OG8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:19.8308062+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1b8ee2bad962d754ebe097e5a9baeff1","SpanId":"0f08a8b9c73dbdd1","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD8JF0OG8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:19.8476391+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1b8ee2bad962d754ebe097e5a9baeff1","SpanId":"0f08a8b9c73dbdd1","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"65fbc936-fdaf-4ea3-9e81-8b027c6982da","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:19.9727618+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"1b8ee2bad962d754ebe097e5a9baeff1","SpanId":"0f08a8b9c73dbdd1","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"65fbc936-fdaf-4ea3-9e81-8b027c6982da","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:19.9737587+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"1b8ee2bad962d754ebe097e5a9baeff1","SpanId":"0f08a8b9c73dbdd1","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"65fbc936-fdaf-4ea3-9e81-8b027c6982da","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.0915285+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1b8ee2bad962d754ebe097e5a9baeff1","SpanId":"0f08a8b9c73dbdd1","Properties":{"elapsed":"49","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"65fbc936-fdaf-4ea3-9e81-8b027c6982da","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.2501834+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"1b8ee2bad962d754ebe097e5a9baeff1","SpanId":"0f08a8b9c73dbdd1","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"65fbc936-fdaf-4ea3-9e81-8b027c6982da","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.2579042+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1b8ee2bad962d754ebe097e5a9baeff1","SpanId":"0f08a8b9c73dbdd1","Properties":{"elapsed":"3","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"65fbc936-fdaf-4ea3-9e81-8b027c6982da","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.2617100+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"1b8ee2bad962d754ebe097e5a9baeff1","SpanId":"0f08a8b9c73dbdd1","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"65fbc936-fdaf-4ea3-9e81-8b027c6982da","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.2945416+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1b8ee2bad962d754ebe097e5a9baeff1","SpanId":"0f08a8b9c73dbdd1","Properties":{"elapsed":"2","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"65fbc936-fdaf-4ea3-9e81-8b027c6982da","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.4349056+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1b8ee2bad962d754ebe097e5a9baeff1","SpanId":"0f08a8b9c73dbdd1","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"65fbc936-fdaf-4ea3-9e81-8b027c6982da","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.4728900+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1b8ee2bad962d754ebe097e5a9baeff1","SpanId":"0f08a8b9c73dbdd1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"65fbc936-fdaf-4ea3-9e81-8b027c6982da","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.4859929+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1b8ee2bad962d754ebe097e5a9baeff1","SpanId":"0f08a8b9c73dbdd1","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":1634.229,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAD8JF0OG8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.4870150+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1b8ee2bad962d754ebe097e5a9baeff1","SpanId":"0f08a8b9c73dbdd1","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD8JF0OG8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.4950470+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1b8ee2bad962d754ebe097e5a9baeff1","SpanId":"0f08a8b9c73dbdd1","Properties":{"ElapsedMilliseconds":1703.0064,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OG8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.4988159+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f0967868b3798dc2f4cd75d4669a5552","SpanId":"f8f73739f1183586","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OG8:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.4997637+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f0967868b3798dc2f4cd75d4669a5552","SpanId":"f8f73739f1183586","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD8JF0OG8:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.5001911+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f0967868b3798dc2f4cd75d4669a5552","SpanId":"f8f73739f1183586","Properties":{"ElapsedMilliseconds":1.368,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OG8:00000003","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.5033267+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7d20af6adcdee7c3d4fba1cb6f3ca218","SpanId":"dd07d2495e00fab9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OG8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.5041647+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"7d20af6adcdee7c3d4fba1cb6f3ca218","SpanId":"dd07d2495e00fab9","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD8JF0OG8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.5123581+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"446947263d74882cd7976e05fd9738d1","SpanId":"084e9c8d123a0332","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OG9:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG9"}}
{"Timestamp":"2025-09-03T00:46:21.5128797+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"446947263d74882cd7976e05fd9738d1","SpanId":"084e9c8d123a0332","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD8JF0OG9:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG9"}}
{"Timestamp":"2025-09-03T00:46:21.5150956+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"446947263d74882cd7976e05fd9738d1","SpanId":"084e9c8d123a0332","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD8JF0OG9:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG9"}}
{"Timestamp":"2025-09-03T00:46:21.5156557+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"446947263d74882cd7976e05fd9738d1","SpanId":"084e9c8d123a0332","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"65fbc936-fdaf-4ea3-9e81-8b027c6982da","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD8JF0OG9:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG9"}}
{"Timestamp":"2025-09-03T00:46:21.5180121+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"446947263d74882cd7976e05fd9738d1","SpanId":"084e9c8d123a0332","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"65fbc936-fdaf-4ea3-9e81-8b027c6982da","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD8JF0OG9:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG9","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.5183985+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"446947263d74882cd7976e05fd9738d1","SpanId":"084e9c8d123a0332","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"65fbc936-fdaf-4ea3-9e81-8b027c6982da","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD8JF0OG9:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG9","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.5336718+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"446947263d74882cd7976e05fd9738d1","SpanId":"084e9c8d123a0332","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"65fbc936-fdaf-4ea3-9e81-8b027c6982da","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD8JF0OG9:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG9","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.6034899+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7d20af6adcdee7c3d4fba1cb6f3ca218","SpanId":"dd07d2495e00fab9","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAD8JF0OG8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.6097245+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7d20af6adcdee7c3d4fba1cb6f3ca218","SpanId":"dd07d2495e00fab9","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD8JF0OG8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.6122468+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"446947263d74882cd7976e05fd9738d1","SpanId":"084e9c8d123a0332","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"65fbc936-fdaf-4ea3-9e81-8b027c6982da","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD8JF0OG9:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG9","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.6135902+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"446947263d74882cd7976e05fd9738d1","SpanId":"084e9c8d123a0332","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"65fbc936-fdaf-4ea3-9e81-8b027c6982da","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD8JF0OG9:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG9","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.6142286+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"446947263d74882cd7976e05fd9738d1","SpanId":"084e9c8d123a0332","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"65fbc936-fdaf-4ea3-9e81-8b027c6982da","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD8JF0OG9:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG9","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.6142452+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7d20af6adcdee7c3d4fba1cb6f3ca218","SpanId":"dd07d2495e00fab9","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"684cc22c-d388-46ec-99d1-ab4492ed14d0","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.6158816+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"446947263d74882cd7976e05fd9738d1","SpanId":"084e9c8d123a0332","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"65fbc936-fdaf-4ea3-9e81-8b027c6982da","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD8JF0OG9:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG9","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.6189528+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"446947263d74882cd7976e05fd9738d1","SpanId":"084e9c8d123a0332","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"65fbc936-fdaf-4ea3-9e81-8b027c6982da","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD8JF0OG9:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG9","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.6239753+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"446947263d74882cd7976e05fd9738d1","SpanId":"084e9c8d123a0332","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"65fbc936-fdaf-4ea3-9e81-8b027c6982da","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFAD8JF0OG9:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG9"}}
{"Timestamp":"2025-09-03T00:46:21.6247588+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"446947263d74882cd7976e05fd9738d1","SpanId":"084e9c8d123a0332","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":108.7324,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAD8JF0OG9:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG9"}}
{"Timestamp":"2025-09-03T00:46:21.6250834+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"446947263d74882cd7976e05fd9738d1","SpanId":"084e9c8d123a0332","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD8JF0OG9:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG9"}}
{"Timestamp":"2025-09-03T00:46:21.6255276+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"446947263d74882cd7976e05fd9738d1","SpanId":"084e9c8d123a0332","Properties":{"ElapsedMilliseconds":113.1605,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OG9:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFAD8JF0OG9"}}
{"Timestamp":"2025-09-03T00:46:21.6264069+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7d20af6adcdee7c3d4fba1cb6f3ca218","SpanId":"dd07d2495e00fab9","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"684cc22c-d388-46ec-99d1-ab4492ed14d0","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.6271196+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"7d20af6adcdee7c3d4fba1cb6f3ca218","SpanId":"dd07d2495e00fab9","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"684cc22c-d388-46ec-99d1-ab4492ed14d0","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.6273643+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"7d20af6adcdee7c3d4fba1cb6f3ca218","SpanId":"dd07d2495e00fab9","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"684cc22c-d388-46ec-99d1-ab4492ed14d0","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.6275752+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"7d20af6adcdee7c3d4fba1cb6f3ca218","SpanId":"dd07d2495e00fab9","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"684cc22c-d388-46ec-99d1-ab4492ed14d0","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.6306873+03:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"7d20af6adcdee7c3d4fba1cb6f3ca218","SpanId":"dd07d2495e00fab9","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"684cc22c-d388-46ec-99d1-ab4492ed14d0","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.6311730+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7d20af6adcdee7c3d4fba1cb6f3ca218","SpanId":"dd07d2495e00fab9","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":16.5379,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAD8JF0OG8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.6315715+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7d20af6adcdee7c3d4fba1cb6f3ca218","SpanId":"dd07d2495e00fab9","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD8JF0OG8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.6319887+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7d20af6adcdee7c3d4fba1cb6f3ca218","SpanId":"dd07d2495e00fab9","Properties":{"ElapsedMilliseconds":128.67,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OG8:00000004","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.6359852+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"431a7df88ccc87397aa723cd12253594","SpanId":"0546a2aa96f4ca29","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OG8:00000005","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.6366296+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"431a7df88ccc87397aa723cd12253594","SpanId":"0546a2aa96f4ca29","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD8JF0OG8:00000005","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.6390054+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"431a7df88ccc87397aa723cd12253594","SpanId":"0546a2aa96f4ca29","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAD8JF0OG8:00000005","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.6409523+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"431a7df88ccc87397aa723cd12253594","SpanId":"0546a2aa96f4ca29","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD8JF0OG8:00000005","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.6412566+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"431a7df88ccc87397aa723cd12253594","SpanId":"0546a2aa96f4ca29","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"684cc22c-d388-46ec-99d1-ab4492ed14d0","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000005","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.6428953+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"431a7df88ccc87397aa723cd12253594","SpanId":"0546a2aa96f4ca29","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"684cc22c-d388-46ec-99d1-ab4492ed14d0","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000005","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.6434810+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"431a7df88ccc87397aa723cd12253594","SpanId":"0546a2aa96f4ca29","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"684cc22c-d388-46ec-99d1-ab4492ed14d0","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000005","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.6436820+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"431a7df88ccc87397aa723cd12253594","SpanId":"0546a2aa96f4ca29","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"684cc22c-d388-46ec-99d1-ab4492ed14d0","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000005","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.6438301+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"431a7df88ccc87397aa723cd12253594","SpanId":"0546a2aa96f4ca29","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"684cc22c-d388-46ec-99d1-ab4492ed14d0","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000005","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:46:21.6441510+03:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"431a7df88ccc87397aa723cd12253594","SpanId":"0546a2aa96f4ca29","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"684cc22c-d388-46ec-99d1-ab4492ed14d0","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000005","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.6443536+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"431a7df88ccc87397aa723cd12253594","SpanId":"0546a2aa96f4ca29","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.556,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAD8JF0OG8:00000005","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.6446809+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"431a7df88ccc87397aa723cd12253594","SpanId":"0546a2aa96f4ca29","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD8JF0OG8:00000005","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.6449867+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"431a7df88ccc87397aa723cd12253594","SpanId":"0546a2aa96f4ca29","Properties":{"ElapsedMilliseconds":9.0187,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OG8:00000005","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:46:21.6635825+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4e7d37e4b001e25c2b0eebf7f354b0f6","SpanId":"c3c56a2d4e0aa0a1","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OGA:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD8JF0OGA"}}
{"Timestamp":"2025-09-03T00:46:21.6641962+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"4e7d37e4b001e25c2b0eebf7f354b0f6","SpanId":"c3c56a2d4e0aa0a1","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD8JF0OGA:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD8JF0OGA"}}
{"Timestamp":"2025-09-03T00:46:21.6647024+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4e7d37e4b001e25c2b0eebf7f354b0f6","SpanId":"c3c56a2d4e0aa0a1","Properties":{"ElapsedMilliseconds":1.096,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OGA:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD8JF0OGA"}}
{"Timestamp":"2025-09-03T00:46:21.6825005+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d8bd49db2e104c5a93511fb2396f3ba4","SpanId":"2299e087aafd160a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OGA:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD8JF0OGA"}}
{"Timestamp":"2025-09-03T00:46:21.6847579+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d8bd49db2e104c5a93511fb2396f3ba4","SpanId":"2299e087aafd160a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD8JF0OGA:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD8JF0OGA"}}
{"Timestamp":"2025-09-03T00:46:21.6888984+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d8bd49db2e104c5a93511fb2396f3ba4","SpanId":"2299e087aafd160a","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFAD8JF0OGA:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD8JF0OGA"}}
{"Timestamp":"2025-09-03T00:46:21.6937191+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d8bd49db2e104c5a93511fb2396f3ba4","SpanId":"2299e087aafd160a","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD8JF0OGA:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD8JF0OGA"}}
{"Timestamp":"2025-09-03T00:46:21.7012564+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d8bd49db2e104c5a93511fb2396f3ba4","SpanId":"2299e087aafd160a","Properties":{"RouteData":"{action = \"GetUserChats\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Int64]]] GetUserChatsAsync()","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e6569774-55e2-4232-88b4-7b68287fd047","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFAD8JF0OGA:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD8JF0OGA"}}
{"Timestamp":"2025-09-03T00:46:21.7040953+03:00","Level":"Information","MessageTemplate":"Initiated chats retrieval by 192.168.31.243:6865","TraceId":"d8bd49db2e104c5a93511fb2396f3ba4","SpanId":"2299e087aafd160a","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"e6569774-55e2-4232-88b4-7b68287fd047","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFAD8JF0OGA:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD8JF0OGA"}}
{"Timestamp":"2025-09-03T00:46:21.7057633+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d8bd49db2e104c5a93511fb2396f3ba4","SpanId":"2299e087aafd160a","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e6569774-55e2-4232-88b4-7b68287fd047","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFAD8JF0OGA:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD8JF0OGA"}}
{"Timestamp":"2025-09-03T00:46:21.8177706+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d8bd49db2e104c5a93511fb2396f3ba4","SpanId":"2299e087aafd160a","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u1.\"ID\", u1.\"PasswordHash\", u1.\"Role\", u1.\"Username\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"Name\", s.\"OwnerID\"\nFROM (\n    SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\n    FROM \"Users\" AS u\n    WHERE u.\"ID\" = @__UserID_0\n    LIMIT 1\n) AS u1\nLEFT JOIN (\n    SELECT u0.\"ChatID\", u0.\"UserID\", c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"UserChatJoinTable\" AS u0\n    INNER JOIN \"Chats\" AS c ON u0.\"ChatID\" = c.\"ID\"\n) AS s ON u1.\"ID\" = s.\"UserID\"\nORDER BY u1.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e6569774-55e2-4232-88b4-7b68287fd047","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFAD8JF0OGA:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD8JF0OGA"}}
{"Timestamp":"2025-09-03T00:46:21.8439017+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d8bd49db2e104c5a93511fb2396f3ba4","SpanId":"2299e087aafd160a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.UserChatsDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e6569774-55e2-4232-88b4-7b68287fd047","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFAD8JF0OGA:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD8JF0OGA"}}
{"Timestamp":"2025-09-03T00:46:21.8509690+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d8bd49db2e104c5a93511fb2396f3ba4","SpanId":"2299e087aafd160a","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","ElapsedMilliseconds":149.1098,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAD8JF0OGA:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD8JF0OGA"}}
{"Timestamp":"2025-09-03T00:46:21.8513301+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d8bd49db2e104c5a93511fb2396f3ba4","SpanId":"2299e087aafd160a","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD8JF0OGA:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD8JF0OGA"}}
{"Timestamp":"2025-09-03T00:46:21.8516849+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d8bd49db2e104c5a93511fb2396f3ba4","SpanId":"2299e087aafd160a","Properties":{"ElapsedMilliseconds":169.199,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OGA:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFAD8JF0OGA"}}
{"Timestamp":"2025-09-03T00:47:08.8616608+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"650f40b6b032c4a35d520b6dea288974","SpanId":"5198f90f12c368b7","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OG8:00000006","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:08.8631325+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"650f40b6b032c4a35d520b6dea288974","SpanId":"5198f90f12c368b7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD8JF0OG8:00000006","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:08.8645770+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"650f40b6b032c4a35d520b6dea288974","SpanId":"5198f90f12c368b7","Properties":{"ElapsedMilliseconds":2.9157,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OG8:00000006","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:08.8705888+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b4821866c24edb46e53e13b503eff358","SpanId":"2c15d378479f3d67","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OG8:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:08.8712456+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b4821866c24edb46e53e13b503eff358","SpanId":"2c15d378479f3d67","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD8JF0OG8:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:08.8750136+03:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"b4821866c24edb46e53e13b503eff358","SpanId":"2c15d378479f3d67","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14120: JWT is not well formed, there is only one dot (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString, TryReadJwtClaim tryReadJwtClaim)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFAD8JF0OG8:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:08.8919389+03:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"b4821866c24edb46e53e13b503eff358","SpanId":"2c15d378479f3d67","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14120: JWT is not well formed, there is only one dot (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFAD8JF0OG8:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:08.8935646+03:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"b4821866c24edb46e53e13b503eff358","SpanId":"2c15d378479f3d67","Properties":{"Reason":"These requirements were not met:\nDenyAnonymousAuthorizationRequirement: Requires an authenticated user.","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HNFAD8JF0OG8:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:08.8990029+03:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"b4821866c24edb46e53e13b503eff358","SpanId":"2c15d378479f3d67","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFAD8JF0OG8:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:08.8996453+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b4821866c24edb46e53e13b503eff358","SpanId":"2c15d378479f3d67","Properties":{"ElapsedMilliseconds":28.961,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OG8:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:08.9779463+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"da30f862400c3a49ca50f7a914c92538","SpanId":"91714e644c35accf","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OG8:00000008","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:08.9785484+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"da30f862400c3a49ca50f7a914c92538","SpanId":"91714e644c35accf","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD8JF0OG8:00000008","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:08.9796734+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"da30f862400c3a49ca50f7a914c92538","SpanId":"91714e644c35accf","Properties":{"ElapsedMilliseconds":1.7476,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OG8:00000008","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:08.9850117+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f59fcf225965af5252a3886359df4c16","SpanId":"adc2f6355ab92b8d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OG8:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:08.9855892+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f59fcf225965af5252a3886359df4c16","SpanId":"adc2f6355ab92b8d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFAD8JF0OG8:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:08.9861138+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f59fcf225965af5252a3886359df4c16","SpanId":"adc2f6355ab92b8d","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD8JF0OG8:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:08.9930688+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f59fcf225965af5252a3886359df4c16","SpanId":"adc2f6355ab92b8d","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"32bc2586-670c-4fca-9fa8-6dbc110e93df","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:08.9980825+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by localhost:6865","TraceId":"f59fcf225965af5252a3886359df4c16","SpanId":"adc2f6355ab92b8d","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"32bc2586-670c-4fca-9fa8-6dbc110e93df","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:09.0113425+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f59fcf225965af5252a3886359df4c16","SpanId":"adc2f6355ab92b8d","Properties":{"elapsed":"2","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"32bc2586-670c-4fca-9fa8-6dbc110e93df","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:09.0127353+03:00","Level":"Error","MessageTemplate":"","TraceId":"f59fcf225965af5252a3886359df4c16","SpanId":"adc2f6355ab92b8d","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","ActionId":"32bc2586-670c-4fca-9fa8-6dbc110e93df","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:09.0130714+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by localhost:6865. Refresh failed. /OVfVOk3HJe/J8gjDM6zAdmXwizhJ2eHknTrB1IQkybtW3xJLWmEoOgtaFLC+6sEyWdoUYLMSp2WTnAYrnhZkr71XjCvhKET7/ufE84caURNPf2Fx3rfau6eFeSKKFJYRN+TxcRK/jo8mUQJ0dozWP3S7CVmcNHU05zxpaW+PdA=","TraceId":"f59fcf225965af5252a3886359df4c16","SpanId":"adc2f6355ab92b8d","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"32bc2586-670c-4fca-9fa8-6dbc110e93df","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:09.0134899+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f59fcf225965af5252a3886359df4c16","SpanId":"adc2f6355ab92b8d","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"32bc2586-670c-4fca-9fa8-6dbc110e93df","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFAD8JF0OG8:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:09.0140102+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f59fcf225965af5252a3886359df4c16","SpanId":"adc2f6355ab92b8d","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":20.2801,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFAD8JF0OG8:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:09.0142635+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f59fcf225965af5252a3886359df4c16","SpanId":"adc2f6355ab92b8d","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFAD8JF0OG8:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:47:09.0145855+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f59fcf225965af5252a3886359df4c16","SpanId":"adc2f6355ab92b8d","Properties":{"ElapsedMilliseconds":29.5695,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFAD8JF0OG8:00000009","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFAD8JF0OG8"}}
{"Timestamp":"2025-09-03T00:48:40.3825065+03:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:48:52.3389602+03:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/hermoonumu/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-09-03T00:48:52.4762820+03:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://0.0.0.0:6865","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:48:52.4781027+03:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:48:52.4786232+03:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:48:52.4788104+03:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/run/media/hermoonumu/DATA/Project/Learning/MyWebApp/MessagingApp","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:48:59.5005648+03:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:49:08.3439741+03:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/hermoonumu/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-09-03T00:49:08.4888990+03:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://0.0.0.0:6865","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:49:08.4906706+03:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:49:08.4910788+03:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:49:08.4913100+03:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/run/media/hermoonumu/DATA/Project/Learning/MyWebApp/MessagingApp","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:49:47.0884977+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ba0602b66feef607dcbc19a84d8584e1","SpanId":"4e6bc25012794164","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADAH8A5RR:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:47.0993449+03:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"ba0602b66feef607dcbc19a84d8584e1","SpanId":"4e6bc25012794164","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNFADAH8A5RR:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:47.1290553+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ba0602b66feef607dcbc19a84d8584e1","SpanId":"4e6bc25012794164","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADAH8A5RR:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:47.1342575+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ba0602b66feef607dcbc19a84d8584e1","SpanId":"4e6bc25012794164","Properties":{"ElapsedMilliseconds":48.3626,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADAH8A5RR:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:47.1486791+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"31639b164325e4fbb8b26fe8ed27ee57","SpanId":"d7112614dbbf5797","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADAH8A5RR:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:47.1518030+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"31639b164325e4fbb8b26fe8ed27ee57","SpanId":"d7112614dbbf5797","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADAH8A5RR:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:47.1985205+03:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"31639b164325e4fbb8b26fe8ed27ee57","SpanId":"d7112614dbbf5797","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14120: JWT is not well formed, there is only one dot (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString, TryReadJwtClaim tryReadJwtClaim)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFADAH8A5RR:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:47.2097575+03:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"31639b164325e4fbb8b26fe8ed27ee57","SpanId":"d7112614dbbf5797","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14120: JWT is not well formed, there is only one dot (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFADAH8A5RR:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:47.2147713+03:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"31639b164325e4fbb8b26fe8ed27ee57","SpanId":"d7112614dbbf5797","Properties":{"Reason":"These requirements were not met:\nDenyAnonymousAuthorizationRequirement: Requires an authenticated user.","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HNFADAH8A5RR:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:47.2190937+03:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"31639b164325e4fbb8b26fe8ed27ee57","SpanId":"d7112614dbbf5797","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFADAH8A5RR:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:47.2204025+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"31639b164325e4fbb8b26fe8ed27ee57","SpanId":"d7112614dbbf5797","Properties":{"ElapsedMilliseconds":72.0814,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADAH8A5RR:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:47.2296302+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ff965404cb4a6bb47d6c6ce9e3011eed","SpanId":"47c7a20b72d2bace","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADAH8A5RR:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:47.2307907+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ff965404cb4a6bb47d6c6ce9e3011eed","SpanId":"47c7a20b72d2bace","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADAH8A5RR:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:47.2314349+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ff965404cb4a6bb47d6c6ce9e3011eed","SpanId":"47c7a20b72d2bace","Properties":{"ElapsedMilliseconds":1.7899,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADAH8A5RR:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:47.2357071+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"967747fc0f30971a389f6209d71ad056","SpanId":"9195db23b1e96c9d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADAH8A5RR:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:47.2376250+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"967747fc0f30971a389f6209d71ad056","SpanId":"9195db23b1e96c9d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADAH8A5RR:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:47.2431545+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"967747fc0f30971a389f6209d71ad056","SpanId":"9195db23b1e96c9d","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADAH8A5RR:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:47.2625132+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"967747fc0f30971a389f6209d71ad056","SpanId":"9195db23b1e96c9d","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e8a4d681-1287-4423-af8a-2c1f84fa3586","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADAH8A5RR:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:47.3985006+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by localhost:6865","TraceId":"967747fc0f30971a389f6209d71ad056","SpanId":"9195db23b1e96c9d","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"e8a4d681-1287-4423-af8a-2c1f84fa3586","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADAH8A5RR:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:48.5278545+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"967747fc0f30971a389f6209d71ad056","SpanId":"9195db23b1e96c9d","Properties":{"elapsed":"47","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e8a4d681-1287-4423-af8a-2c1f84fa3586","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADAH8A5RR:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:48.6062370+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by localhost:6865. Refresh failed. /OVfVOk3HJe/J8gjDM6zAdmXwizhJ2eHknTrB1IQkybtW3xJLWmEoOgtaFLC+6sEyWdoUYLMSp2WTnAYrnhZkr71XjCvhKET7/ufE84caURNPf2Fx3rfau6eFeSKKFJYRN+TxcRK/jo8mUQJ0dozWP3S7CVmcNHU05zxpaW+PdA=","TraceId":"967747fc0f30971a389f6209d71ad056","SpanId":"9195db23b1e96c9d","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"e8a4d681-1287-4423-af8a-2c1f84fa3586","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADAH8A5RR:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:48.6105182+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"967747fc0f30971a389f6209d71ad056","SpanId":"9195db23b1e96c9d","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e8a4d681-1287-4423-af8a-2c1f84fa3586","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADAH8A5RR:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:48.6149179+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"967747fc0f30971a389f6209d71ad056","SpanId":"9195db23b1e96c9d","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":1349.065,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADAH8A5RR:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:48.6156607+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"967747fc0f30971a389f6209d71ad056","SpanId":"9195db23b1e96c9d","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADAH8A5RR:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:49:48.6238423+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"967747fc0f30971a389f6209d71ad056","SpanId":"9195db23b1e96c9d","Properties":{"ElapsedMilliseconds":1388.1141,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADAH8A5RR:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADAH8A5RR"}}
{"Timestamp":"2025-09-03T00:50:17.3535031+03:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:50:25.6190324+03:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/hermoonumu/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-09-03T00:50:25.7571746+03:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://0.0.0.0:6865","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:50:25.7589930+03:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:50:25.7594951+03:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:50:25.7596852+03:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/run/media/hermoonumu/DATA/Project/Learning/MyWebApp/MessagingApp","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:50:45.2790594+03:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:50:53.2453619+03:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/hermoonumu/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-09-03T00:50:53.3952162+03:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://0.0.0.0:6865","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:50:53.3971122+03:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:50:53.3976142+03:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:50:53.3978370+03:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/run/media/hermoonumu/DATA/Project/Learning/MyWebApp/MessagingApp","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:51:03.0039040+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0bcd986edb01c6c2138072472d3bbb52","SpanId":"20f1a78be22ae0ec","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADB7S8NL0:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:03.0160868+03:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"0bcd986edb01c6c2138072472d3bbb52","SpanId":"20f1a78be22ae0ec","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNFADB7S8NL0:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:03.0519056+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"0bcd986edb01c6c2138072472d3bbb52","SpanId":"20f1a78be22ae0ec","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADB7S8NL0:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:03.0582698+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0bcd986edb01c6c2138072472d3bbb52","SpanId":"20f1a78be22ae0ec","Properties":{"ElapsedMilliseconds":56.1437,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADB7S8NL0:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:03.0749466+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9c6cf5f6051738fab15cc082c54a864f","SpanId":"f6a7bfc0054bbbd6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADB7S8NL0:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:03.0776929+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9c6cf5f6051738fab15cc082c54a864f","SpanId":"f6a7bfc0054bbbd6","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADB7S8NL0:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:03.1238008+03:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"9c6cf5f6051738fab15cc082c54a864f","SpanId":"f6a7bfc0054bbbd6","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14120: JWT is not well formed, there is only one dot (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString, TryReadJwtClaim tryReadJwtClaim)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFADB7S8NL0:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:03.1374881+03:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"9c6cf5f6051738fab15cc082c54a864f","SpanId":"f6a7bfc0054bbbd6","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14120: JWT is not well formed, there is only one dot (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFADB7S8NL0:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:03.1433257+03:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"9c6cf5f6051738fab15cc082c54a864f","SpanId":"f6a7bfc0054bbbd6","Properties":{"Reason":"These requirements were not met:\nDenyAnonymousAuthorizationRequirement: Requires an authenticated user.","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HNFADB7S8NL0:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:03.1472960+03:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"9c6cf5f6051738fab15cc082c54a864f","SpanId":"f6a7bfc0054bbbd6","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFADB7S8NL0:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:03.1485941+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9c6cf5f6051738fab15cc082c54a864f","SpanId":"f6a7bfc0054bbbd6","Properties":{"ElapsedMilliseconds":74.0315,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADB7S8NL0:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:03.1557056+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b595ad2cdd138fdbf744cebd947fa5b5","SpanId":"9ee9e6a9e045b10b","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADB7S8NL0:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:03.1567321+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b595ad2cdd138fdbf744cebd947fa5b5","SpanId":"9ee9e6a9e045b10b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADB7S8NL0:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:03.1572775+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b595ad2cdd138fdbf744cebd947fa5b5","SpanId":"9ee9e6a9e045b10b","Properties":{"ElapsedMilliseconds":1.559,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADB7S8NL0:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:03.1602926+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d3bbc1388754a469707b9bea79aac562","SpanId":"c1b103b633381265","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADB7S8NL0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:03.1618835+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d3bbc1388754a469707b9bea79aac562","SpanId":"c1b103b633381265","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADB7S8NL0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:03.1671554+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d3bbc1388754a469707b9bea79aac562","SpanId":"c1b103b633381265","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADB7S8NL0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:03.1875804+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d3bbc1388754a469707b9bea79aac562","SpanId":"c1b103b633381265","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b821e59f-ab76-4e15-b6d4-d4ce6dfbc124","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADB7S8NL0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:03.3206684+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by localhost:6865","TraceId":"d3bbc1388754a469707b9bea79aac562","SpanId":"c1b103b633381265","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"b821e59f-ab76-4e15-b6d4-d4ce6dfbc124","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADB7S8NL0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:04.4400434+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d3bbc1388754a469707b9bea79aac562","SpanId":"c1b103b633381265","Properties":{"elapsed":"48","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b821e59f-ab76-4e15-b6d4-d4ce6dfbc124","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADB7S8NL0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:04.5098394+03:00","Level":"Error","MessageTemplate":"r u shitting me rn","TraceId":"d3bbc1388754a469707b9bea79aac562","SpanId":"c1b103b633381265","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","ActionId":"b821e59f-ab76-4e15-b6d4-d4ce6dfbc124","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADB7S8NL0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:04.5102637+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by localhost:6865. Refresh failed. /OVfVOk3HJe/J8gjDM6zAdmXwizhJ2eHknTrB1IQkybtW3xJLWmEoOgtaFLC+6sEyWdoUYLMSp2WTnAYrnhZkr71XjCvhKET7/ufE84caURNPf2Fx3rfau6eFeSKKFJYRN+TxcRK/jo8mUQJ0dozWP3S7CVmcNHU05zxpaW+PdA=","TraceId":"d3bbc1388754a469707b9bea79aac562","SpanId":"c1b103b633381265","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"b821e59f-ab76-4e15-b6d4-d4ce6dfbc124","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADB7S8NL0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:04.5215490+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d3bbc1388754a469707b9bea79aac562","SpanId":"c1b103b633381265","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b821e59f-ab76-4e15-b6d4-d4ce6dfbc124","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADB7S8NL0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:04.5260181+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d3bbc1388754a469707b9bea79aac562","SpanId":"c1b103b633381265","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":1335.1185,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADB7S8NL0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:04.5268222+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d3bbc1388754a469707b9bea79aac562","SpanId":"c1b103b633381265","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADB7S8NL0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:04.5342931+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d3bbc1388754a469707b9bea79aac562","SpanId":"c1b103b633381265","Properties":{"ElapsedMilliseconds":1373.9914,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADB7S8NL0:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADB7S8NL0"}}
{"Timestamp":"2025-09-03T00:51:30.0679008+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"98e4822593352f78e7ba0a1ef24ce34e","SpanId":"4037a63cc61c210c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/scalar/scalar.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADB7S8NL1:00000001","RequestPath":"/scalar/scalar.js","ConnectionId":"0HNFADB7S8NL1"}}
{"Timestamp":"2025-09-03T00:51:30.0694607+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"98e4822593352f78e7ba0a1ef24ce34e","SpanId":"4037a63cc61c210c","Properties":{"EndpointName":"HTTP: GET /scalar/scalar.js","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADB7S8NL1:00000001","RequestPath":"/scalar/scalar.js","ConnectionId":"0HNFADB7S8NL1"}}
{"Timestamp":"2025-09-03T00:51:30.0771739+03:00","Level":"Information","MessageTemplate":"Sending file with download name '{FileDownloadName}'.","TraceId":"98e4822593352f78e7ba0a1ef24ce34e","SpanId":"4037a63cc61c210c","Properties":{"FileDownloadName":"","EventId":{"Id":5,"Name":"WritingResultAsFileWithNoFileName"},"SourceContext":"Microsoft.AspNetCore.Http.Result.FileStreamResult","RequestId":"0HNFADB7S8NL1:00000001","RequestPath":"/scalar/scalar.js","ConnectionId":"0HNFADB7S8NL1"}}
{"Timestamp":"2025-09-03T00:51:30.1342538+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"98e4822593352f78e7ba0a1ef24ce34e","SpanId":"4037a63cc61c210c","Properties":{"EndpointName":"HTTP: GET /scalar/scalar.js","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADB7S8NL1:00000001","RequestPath":"/scalar/scalar.js","ConnectionId":"0HNFADB7S8NL1"}}
{"Timestamp":"2025-09-03T00:51:30.1347199+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"98e4822593352f78e7ba0a1ef24ce34e","SpanId":"4037a63cc61c210c","Properties":{"ElapsedMilliseconds":66.7962,"StatusCode":200,"ContentType":"text/javascript","ContentLength":828049,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/scalar/scalar.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADB7S8NL1:00000001","RequestPath":"/scalar/scalar.js","ConnectionId":"0HNFADB7S8NL1"}}
{"Timestamp":"2025-09-03T00:51:31.0914621+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"071d105fbdca03c14312bccf4c1ae3f0","SpanId":"e1061c41f91e1890","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/favicon.ico","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADB7S8NL1:00000002","RequestPath":"/favicon.ico","ConnectionId":"0HNFADB7S8NL1"}}
{"Timestamp":"2025-09-03T00:51:31.0932820+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"071d105fbdca03c14312bccf4c1ae3f0","SpanId":"e1061c41f91e1890","Properties":{"ElapsedMilliseconds":1.8286,"StatusCode":404,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/favicon.ico","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADB7S8NL1:00000002","RequestPath":"/favicon.ico","ConnectionId":"0HNFADB7S8NL1"}}
{"Timestamp":"2025-09-03T00:51:31.0943674+03:00","Level":"Information","MessageTemplate":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","TraceId":"071d105fbdca03c14312bccf4c1ae3f0","SpanId":"e1061c41f91e1890","Properties":{"Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/favicon.ico","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADB7S8NL1:00000002","RequestPath":"/favicon.ico","ConnectionId":"0HNFADB7S8NL1"}}
{"Timestamp":"2025-09-03T00:52:19.0080274+03:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:52:27.1648497+03:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/hermoonumu/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-09-03T00:52:27.3097811+03:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://0.0.0.0:6865","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:52:27.3116412+03:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:52:27.3120709+03:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:52:27.3122509+03:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/run/media/hermoonumu/DATA/Project/Learning/MyWebApp/MessagingApp","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T00:52:30.0916583+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8b0dbf20b3b8728d01ff00ec21c62d45","SpanId":"632ac53cc627aa8e","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTQU:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:30.1010068+03:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"8b0dbf20b3b8728d01ff00ec21c62d45","SpanId":"632ac53cc627aa8e","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNFADC1QQTQU:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:30.1268231+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"8b0dbf20b3b8728d01ff00ec21c62d45","SpanId":"632ac53cc627aa8e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTQU:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:30.1321027+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8b0dbf20b3b8728d01ff00ec21c62d45","SpanId":"632ac53cc627aa8e","Properties":{"ElapsedMilliseconds":42.6123,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTQU:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:30.1445653+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cf2148d3b0cc63989e9c81122c8cd084","SpanId":"9de8bab8214c0284","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTQU:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:30.1480385+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"cf2148d3b0cc63989e9c81122c8cd084","SpanId":"9de8bab8214c0284","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTQU:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:30.1969513+03:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"cf2148d3b0cc63989e9c81122c8cd084","SpanId":"9de8bab8214c0284","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14120: JWT is not well formed, there is only one dot (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString, TryReadJwtClaim tryReadJwtClaim)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFADC1QQTQU:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:30.2130235+03:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"cf2148d3b0cc63989e9c81122c8cd084","SpanId":"9de8bab8214c0284","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14120: JWT is not well formed, there is only one dot (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFADC1QQTQU:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:30.2182740+03:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"cf2148d3b0cc63989e9c81122c8cd084","SpanId":"9de8bab8214c0284","Properties":{"Reason":"These requirements were not met:\nDenyAnonymousAuthorizationRequirement: Requires an authenticated user.","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HNFADC1QQTQU:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:30.2236395+03:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"cf2148d3b0cc63989e9c81122c8cd084","SpanId":"9de8bab8214c0284","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFADC1QQTQU:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:30.2255462+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cf2148d3b0cc63989e9c81122c8cd084","SpanId":"9de8bab8214c0284","Properties":{"ElapsedMilliseconds":81.3532,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTQU:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:30.2346683+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8555e164f50628255620b8bd3988e4e0","SpanId":"b4b5712077ab6223","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTQU:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:30.2356442+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"8555e164f50628255620b8bd3988e4e0","SpanId":"b4b5712077ab6223","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTQU:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:30.2360115+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8555e164f50628255620b8bd3988e4e0","SpanId":"b4b5712077ab6223","Properties":{"ElapsedMilliseconds":1.3432,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTQU:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:30.2391267+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c78838b8646c30119cf6357a2583d3ab","SpanId":"70ed13888807d8f8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTQU:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:30.2406558+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c78838b8646c30119cf6357a2583d3ab","SpanId":"70ed13888807d8f8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTQU:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:30.2447040+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c78838b8646c30119cf6357a2583d3ab","SpanId":"70ed13888807d8f8","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTQU:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:30.2617268+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c78838b8646c30119cf6357a2583d3ab","SpanId":"70ed13888807d8f8","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTQU:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:30.3916051+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by localhost:6865","TraceId":"c78838b8646c30119cf6357a2583d3ab","SpanId":"70ed13888807d8f8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTQU:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:31.5114107+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c78838b8646c30119cf6357a2583d3ab","SpanId":"70ed13888807d8f8","Properties":{"elapsed":"48","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTQU:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:31.6094873+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c78838b8646c30119cf6357a2583d3ab","SpanId":"70ed13888807d8f8","Properties":{"elapsed":"4","parameters":"@__token_UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__token_UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTQU:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:31.6559488+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"c78838b8646c30119cf6357a2583d3ab","SpanId":"70ed13888807d8f8","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTQU:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:31.6826645+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c78838b8646c30119cf6357a2583d3ab","SpanId":"70ed13888807d8f8","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTQU:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:31.7972143+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c78838b8646c30119cf6357a2583d3ab","SpanId":"70ed13888807d8f8","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTQU:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:31.8326080+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c78838b8646c30119cf6357a2583d3ab","SpanId":"70ed13888807d8f8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTQU:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:31.8425081+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c78838b8646c30119cf6357a2583d3ab","SpanId":"70ed13888807d8f8","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":1577.3083,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTQU:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:31.8432708+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c78838b8646c30119cf6357a2583d3ab","SpanId":"70ed13888807d8f8","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTQU:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:31.8518025+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c78838b8646c30119cf6357a2583d3ab","SpanId":"70ed13888807d8f8","Properties":{"ElapsedMilliseconds":1612.6451,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTQU:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTQU"}}
{"Timestamp":"2025-09-03T00:52:31.8623493+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"55282d3057cbdcb2328a49b1f3203ad9","SpanId":"a7d32689fef6b0f1","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTQV:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:31.8642637+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"55282d3057cbdcb2328a49b1f3203ad9","SpanId":"a7d32689fef6b0f1","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTQV:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:31.8653861+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"55282d3057cbdcb2328a49b1f3203ad9","SpanId":"a7d32689fef6b0f1","Properties":{"ElapsedMilliseconds":2.9375,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTQV:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:31.8715553+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6c0b3bc72290497b13d87647267aa8e3","SpanId":"e8282f86317b0c06","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTQV:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:31.8732171+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"6c0b3bc72290497b13d87647267aa8e3","SpanId":"e8282f86317b0c06","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTQV:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:31.9221837+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6c0b3bc72290497b13d87647267aa8e3","SpanId":"e8282f86317b0c06","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTQV:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:31.9266088+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6c0b3bc72290497b13d87647267aa8e3","SpanId":"e8282f86317b0c06","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTQV:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:31.9315231+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6c0b3bc72290497b13d87647267aa8e3","SpanId":"e8282f86317b0c06","Properties":{"RouteData":"{action = \"GetUserChats\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Int64]]] GetUserChatsAsync()","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTQV:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:31.9336419+03:00","Level":"Information","MessageTemplate":"Initiated chats retrieval by 192.168.31.243:6865","TraceId":"6c0b3bc72290497b13d87647267aa8e3","SpanId":"e8282f86317b0c06","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTQV:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:31.9423868+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6c0b3bc72290497b13d87647267aa8e3","SpanId":"e8282f86317b0c06","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTQV:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:32.0444027+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6c0b3bc72290497b13d87647267aa8e3","SpanId":"e8282f86317b0c06","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u1.\"ID\", u1.\"PasswordHash\", u1.\"Role\", u1.\"Username\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"Name\", s.\"OwnerID\"\nFROM (\n    SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\n    FROM \"Users\" AS u\n    WHERE u.\"ID\" = @__UserID_0\n    LIMIT 1\n) AS u1\nLEFT JOIN (\n    SELECT u0.\"ChatID\", u0.\"UserID\", c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"UserChatJoinTable\" AS u0\n    INNER JOIN \"Chats\" AS c ON u0.\"ChatID\" = c.\"ID\"\n) AS s ON u1.\"ID\" = s.\"UserID\"\nORDER BY u1.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTQV:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:32.0695023+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6c0b3bc72290497b13d87647267aa8e3","SpanId":"e8282f86317b0c06","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.UserChatsDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTQV:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:32.0768061+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6c0b3bc72290497b13d87647267aa8e3","SpanId":"e8282f86317b0c06","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","ElapsedMilliseconds":144.8239,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTQV:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:32.0773682+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6c0b3bc72290497b13d87647267aa8e3","SpanId":"e8282f86317b0c06","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTQV:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:32.0779491+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6c0b3bc72290497b13d87647267aa8e3","SpanId":"e8282f86317b0c06","Properties":{"ElapsedMilliseconds":206.4103,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTQV:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:36.3099889+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1f7742d2f26e5af30b5581202d98935b","SpanId":"78535775dffeef97","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=19","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTQV:00000003","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:36.3100433+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fe3916c7db462cd44733f5caef4b3422","SpanId":"785828d31f2937ad","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=19&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR0:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:36.3106943+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1f7742d2f26e5af30b5581202d98935b","SpanId":"78535775dffeef97","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTQV:00000003","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:36.3107645+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"fe3916c7db462cd44733f5caef4b3422","SpanId":"785828d31f2937ad","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR0:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:36.3110898+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1f7742d2f26e5af30b5581202d98935b","SpanId":"78535775dffeef97","Properties":{"ElapsedMilliseconds":1.138,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=19","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTQV:00000003","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:36.3110898+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fe3916c7db462cd44733f5caef4b3422","SpanId":"785828d31f2937ad","Properties":{"ElapsedMilliseconds":1.0449,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=19&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR0:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:36.3171411+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"56022351e16eaccda5d2598b0aedffc4","SpanId":"937c8f43ed93860a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=19&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTQV:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:36.3173419+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d03545311f9bf53a279132a9816d1ee4","SpanId":"7a6f3ec56a14dc66","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=19&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR0:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:36.3175502+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2fc593e0d174163056472c28dfd4633f","SpanId":"b12a136d7dc0a7fb","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=19","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR1:00000001","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR1"}}
{"Timestamp":"2025-09-03T00:52:36.3177902+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d03545311f9bf53a279132a9816d1ee4","SpanId":"7a6f3ec56a14dc66","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR0:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:36.3177322+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"56022351e16eaccda5d2598b0aedffc4","SpanId":"937c8f43ed93860a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTQV:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:36.3179913+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"2fc593e0d174163056472c28dfd4633f","SpanId":"b12a136d7dc0a7fb","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR1:00000001","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR1"}}
{"Timestamp":"2025-09-03T00:52:36.3182324+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d03545311f9bf53a279132a9816d1ee4","SpanId":"7a6f3ec56a14dc66","Properties":{"ElapsedMilliseconds":0.8345,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=19&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR0:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:36.3216452+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fd59e4153949be33e21715144a535e7a","SpanId":"8c02feec7e18da17","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=19&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR0:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:36.3221004+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"fd59e4153949be33e21715144a535e7a","SpanId":"8c02feec7e18da17","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR0:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:36.3917375+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fd59e4153949be33e21715144a535e7a","SpanId":"8c02feec7e18da17","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR0:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:36.3942257+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fd59e4153949be33e21715144a535e7a","SpanId":"8c02feec7e18da17","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR0:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:36.3995535+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2fc593e0d174163056472c28dfd4633f","SpanId":"b12a136d7dc0a7fb","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR1:00000001","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR1"}}
{"Timestamp":"2025-09-03T00:52:36.3995535+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"56022351e16eaccda5d2598b0aedffc4","SpanId":"937c8f43ed93860a","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTQV:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:36.3997982+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fd59e4153949be33e21715144a535e7a","SpanId":"8c02feec7e18da17","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:36.4001621+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2fc593e0d174163056472c28dfd4633f","SpanId":"b12a136d7dc0a7fb","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR1:00000001","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR1"}}
{"Timestamp":"2025-09-03T00:52:36.4004079+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"56022351e16eaccda5d2598b0aedffc4","SpanId":"937c8f43ed93860a","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTQV:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:36.4007360+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"56022351e16eaccda5d2598b0aedffc4","SpanId":"937c8f43ed93860a","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTQV:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:36.4036831+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2fc593e0d174163056472c28dfd4633f","SpanId":"b12a136d7dc0a7fb","Properties":{"RouteData":"{action = \"getChatMemebers\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] getChatMemebersAsync(System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR1:00000001","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR1"}}
{"Timestamp":"2025-09-03T00:52:36.4076290+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"56022351e16eaccda5d2598b0aedffc4","SpanId":"937c8f43ed93860a","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTQV:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:36.4076308+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"fd59e4153949be33e21715144a535e7a","SpanId":"8c02feec7e18da17","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:36.4083607+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2fc593e0d174163056472c28dfd4633f","SpanId":"b12a136d7dc0a7fb","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR1:00000001","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR1"}}
{"Timestamp":"2025-09-03T00:52:36.4093836+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fd59e4153949be33e21715144a535e7a","SpanId":"8c02feec7e18da17","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:36.4093870+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"56022351e16eaccda5d2598b0aedffc4","SpanId":"937c8f43ed93860a","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTQV:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:36.4101322+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"fd59e4153949be33e21715144a535e7a","SpanId":"8c02feec7e18da17","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:52:36.4095963+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"2fc593e0d174163056472c28dfd4633f","SpanId":"b12a136d7dc0a7fb","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR1:00000001","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR1","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:52:36.4101365+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"56022351e16eaccda5d2598b0aedffc4","SpanId":"937c8f43ed93860a","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTQV:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTQV","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:52:36.4110920+03:00","Level":"Information","MessageTemplate":"Attempting to get chat members","TraceId":"2fc593e0d174163056472c28dfd4633f","SpanId":"b12a136d7dc0a7fb","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR1:00000001","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR1","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:52:36.4356615+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2fc593e0d174163056472c28dfd4633f","SpanId":"b12a136d7dc0a7fb","Properties":{"elapsed":"1","parameters":"@__chatId_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__chatId_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR1:00000001","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR1","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:52:36.4362205+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fd59e4153949be33e21715144a535e7a","SpanId":"8c02feec7e18da17","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:52:36.4362544+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"56022351e16eaccda5d2598b0aedffc4","SpanId":"937c8f43ed93860a","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTQV:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTQV","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:52:36.4403464+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2fc593e0d174163056472c28dfd4633f","SpanId":"b12a136d7dc0a7fb","Properties":{"ObjectResultType":"ObjectResult","Type":"System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR1:00000001","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR1"}}
{"Timestamp":"2025-09-03T00:52:36.4417447+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2fc593e0d174163056472c28dfd4633f","SpanId":"b12a136d7dc0a7fb","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","ElapsedMilliseconds":37.6598,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR1:00000001","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR1"}}
{"Timestamp":"2025-09-03T00:52:36.4422451+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2fc593e0d174163056472c28dfd4633f","SpanId":"b12a136d7dc0a7fb","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR1:00000001","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR1"}}
{"Timestamp":"2025-09-03T00:52:36.4428736+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2fc593e0d174163056472c28dfd4633f","SpanId":"b12a136d7dc0a7fb","Properties":{"ElapsedMilliseconds":125.2824,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=19","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR1:00000001","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR1"}}
{"Timestamp":"2025-09-03T00:52:36.4475195+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fd59e4153949be33e21715144a535e7a","SpanId":"8c02feec7e18da17","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:52:36.4475195+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"56022351e16eaccda5d2598b0aedffc4","SpanId":"937c8f43ed93860a","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTQV:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTQV","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:52:36.4966381+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"56022351e16eaccda5d2598b0aedffc4","SpanId":"937c8f43ed93860a","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTQV:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTQV","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:52:36.4966381+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fd59e4153949be33e21715144a535e7a","SpanId":"8c02feec7e18da17","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:52:36.5037843+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fd59e4153949be33e21715144a535e7a","SpanId":"8c02feec7e18da17","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:36.5037843+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"56022351e16eaccda5d2598b0aedffc4","SpanId":"937c8f43ed93860a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTQV:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:36.5102087+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"56022351e16eaccda5d2598b0aedffc4","SpanId":"937c8f43ed93860a","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":109.1754,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTQV:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:36.5102087+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fd59e4153949be33e21715144a535e7a","SpanId":"8c02feec7e18da17","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":109.9362,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR0:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:36.5106202+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"56022351e16eaccda5d2598b0aedffc4","SpanId":"937c8f43ed93860a","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTQV:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:36.5107912+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fd59e4153949be33e21715144a535e7a","SpanId":"8c02feec7e18da17","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR0:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:36.5110375+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"56022351e16eaccda5d2598b0aedffc4","SpanId":"937c8f43ed93860a","Properties":{"ElapsedMilliseconds":193.8878,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=19&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTQV:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTQV"}}
{"Timestamp":"2025-09-03T00:52:36.5110921+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fd59e4153949be33e21715144a535e7a","SpanId":"8c02feec7e18da17","Properties":{"ElapsedMilliseconds":189.4663,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=19&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR0:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2336483+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"681ae70a1daa756c8be803f1f98f9cf9","SpanId":"35181aa29613d57e","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR0:00000004","RequestPath":"/api/chats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2340655+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"681ae70a1daa756c8be803f1f98f9cf9","SpanId":"35181aa29613d57e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR0:00000004","RequestPath":"/api/chats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2344143+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"681ae70a1daa756c8be803f1f98f9cf9","SpanId":"35181aa29613d57e","Properties":{"ElapsedMilliseconds":0.7559,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR0:00000004","RequestPath":"/api/chats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2370394+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ec47da20cd5a1508d83001bb4a537b95","SpanId":"bfdbcbf95ac33412","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":"application/json","ContentLength":9,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR0:00000005","RequestPath":"/api/chats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2375979+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ec47da20cd5a1508d83001bb4a537b95","SpanId":"bfdbcbf95ac33412","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR0:00000005","RequestPath":"/api/chats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2402536+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ec47da20cd5a1508d83001bb4a537b95","SpanId":"bfdbcbf95ac33412","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR0:00000005","RequestPath":"/api/chats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2409078+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ec47da20cd5a1508d83001bb4a537b95","SpanId":"bfdbcbf95ac33412","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR0:00000005","RequestPath":"/api/chats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2443819+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ec47da20cd5a1508d83001bb4a537b95","SpanId":"bfdbcbf95ac33412","Properties":{"RouteData":"{action = \"DelChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DelChatAsync(MessagingApp.DTO.DelChatDTO)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7d2cd502-2504-4069-8615-463def68114a","ActionName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000005","RequestPath":"/api/chats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2500543+03:00","Level":"Information","MessageTemplate":"Initiating chat deletion","TraceId":"ec47da20cd5a1508d83001bb4a537b95","SpanId":"bfdbcbf95ac33412","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"7d2cd502-2504-4069-8615-463def68114a","ActionName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000005","RequestPath":"/api/chats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2517230+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ec47da20cd5a1508d83001bb4a537b95","SpanId":"bfdbcbf95ac33412","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7d2cd502-2504-4069-8615-463def68114a","ActionName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000005","RequestPath":"/api/chats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2524093+03:00","Level":"Information","MessageTemplate":"Attempting to delete chat...","TraceId":"ec47da20cd5a1508d83001bb4a537b95","SpanId":"bfdbcbf95ac33412","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"7d2cd502-2504-4069-8615-463def68114a","ActionName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000005","RequestPath":"/api/chats","ConnectionId":"0HNFADC1QQTR0","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:52:38.2599238+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ec47da20cd5a1508d83001bb4a537b95","SpanId":"bfdbcbf95ac33412","Properties":{"elapsed":"1","parameters":"@__chatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\nFROM \"Chats\" AS c\nWHERE c.\"ID\" = @__chatID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"7d2cd502-2504-4069-8615-463def68114a","ActionName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000005","RequestPath":"/api/chats","ConnectionId":"0HNFADC1QQTR0","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:52:38.2701022+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ec47da20cd5a1508d83001bb4a537b95","SpanId":"bfdbcbf95ac33412","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"Chats\"\nWHERE \"ID\" = @p0;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"7d2cd502-2504-4069-8615-463def68114a","ActionName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000005","RequestPath":"/api/chats","ConnectionId":"0HNFADC1QQTR0","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:52:38.2720431+03:00","Level":"Information","MessageTemplate":"Chat deleted","TraceId":"ec47da20cd5a1508d83001bb4a537b95","SpanId":"bfdbcbf95ac33412","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"7d2cd502-2504-4069-8615-463def68114a","ActionName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000005","RequestPath":"/api/chats","ConnectionId":"0HNFADC1QQTR0","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:52:38.2729329+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ec47da20cd5a1508d83001bb4a537b95","SpanId":"bfdbcbf95ac33412","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7d2cd502-2504-4069-8615-463def68114a","ActionName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000005","RequestPath":"/api/chats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2735059+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ec47da20cd5a1508d83001bb4a537b95","SpanId":"bfdbcbf95ac33412","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","ElapsedMilliseconds":28.7902,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR0:00000005","RequestPath":"/api/chats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2737364+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ec47da20cd5a1508d83001bb4a537b95","SpanId":"bfdbcbf95ac33412","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR0:00000005","RequestPath":"/api/chats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2739681+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ec47da20cd5a1508d83001bb4a537b95","SpanId":"bfdbcbf95ac33412","Properties":{"ElapsedMilliseconds":36.9363,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR0:00000005","RequestPath":"/api/chats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2790079+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"25e65f2b4d21ca648b1a6282f3fac803","SpanId":"170211f8a2f8238c","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR0:00000006","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2794080+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"25e65f2b4d21ca648b1a6282f3fac803","SpanId":"170211f8a2f8238c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR0:00000006","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2796904+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"25e65f2b4d21ca648b1a6282f3fac803","SpanId":"170211f8a2f8238c","Properties":{"ElapsedMilliseconds":0.6787,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR0:00000006","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2824720+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"724ea5f69f50bf234a44d4b2f8e8882e","SpanId":"fd6a069113d78b54","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR0:00000007","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2828246+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"724ea5f69f50bf234a44d4b2f8e8882e","SpanId":"fd6a069113d78b54","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR0:00000007","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2848479+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"724ea5f69f50bf234a44d4b2f8e8882e","SpanId":"fd6a069113d78b54","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR0:00000007","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2854285+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"724ea5f69f50bf234a44d4b2f8e8882e","SpanId":"fd6a069113d78b54","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR0:00000007","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2856576+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"724ea5f69f50bf234a44d4b2f8e8882e","SpanId":"fd6a069113d78b54","Properties":{"RouteData":"{action = \"GetUserChats\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Int64]]] GetUserChatsAsync()","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000007","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2860503+03:00","Level":"Information","MessageTemplate":"Initiated chats retrieval by 192.168.31.243:6865","TraceId":"724ea5f69f50bf234a44d4b2f8e8882e","SpanId":"fd6a069113d78b54","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000007","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2876228+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"724ea5f69f50bf234a44d4b2f8e8882e","SpanId":"fd6a069113d78b54","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000007","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2898007+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"724ea5f69f50bf234a44d4b2f8e8882e","SpanId":"fd6a069113d78b54","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u1.\"ID\", u1.\"PasswordHash\", u1.\"Role\", u1.\"Username\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"Name\", s.\"OwnerID\"\nFROM (\n    SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\n    FROM \"Users\" AS u\n    WHERE u.\"ID\" = @__UserID_0\n    LIMIT 1\n) AS u1\nLEFT JOIN (\n    SELECT u0.\"ChatID\", u0.\"UserID\", c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"UserChatJoinTable\" AS u0\n    INNER JOIN \"Chats\" AS c ON u0.\"ChatID\" = c.\"ID\"\n) AS s ON u1.\"ID\" = s.\"UserID\"\nORDER BY u1.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000007","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2905526+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"724ea5f69f50bf234a44d4b2f8e8882e","SpanId":"fd6a069113d78b54","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.UserChatsDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR0:00000007","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2910676+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"724ea5f69f50bf234a44d4b2f8e8882e","SpanId":"fd6a069113d78b54","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","ElapsedMilliseconds":5.1693,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR0:00000007","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2914196+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"724ea5f69f50bf234a44d4b2f8e8882e","SpanId":"fd6a069113d78b54","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR0:00000007","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:52:38.2917003+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"724ea5f69f50bf234a44d4b2f8e8882e","SpanId":"fd6a069113d78b54","Properties":{"ElapsedMilliseconds":9.2143,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR0:00000007","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR0"}}
{"Timestamp":"2025-09-03T00:53:10.2206558+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"31da1c4365ea8267e6951e7b3cda086a","SpanId":"287c0b62d639f7d0","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR2:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR2"}}
{"Timestamp":"2025-09-03T00:53:10.2231094+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"31da1c4365ea8267e6951e7b3cda086a","SpanId":"287c0b62d639f7d0","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR2:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR2"}}
{"Timestamp":"2025-09-03T00:53:10.2242433+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"31da1c4365ea8267e6951e7b3cda086a","SpanId":"287c0b62d639f7d0","Properties":{"ElapsedMilliseconds":3.322,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR2:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR2"}}
{"Timestamp":"2025-09-03T00:53:10.2333768+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c14b3ed860678d503f96f3d4c54d3a82","SpanId":"9d538469354efb3a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR2:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR2"}}
{"Timestamp":"2025-09-03T00:53:10.2351351+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c14b3ed860678d503f96f3d4c54d3a82","SpanId":"9d538469354efb3a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR2:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR2"}}
{"Timestamp":"2025-09-03T00:53:10.2430956+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c14b3ed860678d503f96f3d4c54d3a82","SpanId":"9d538469354efb3a","Properties":{"elapsed":"4","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR2:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR2"}}
{"Timestamp":"2025-09-03T00:53:10.2456437+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c14b3ed860678d503f96f3d4c54d3a82","SpanId":"9d538469354efb3a","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR2:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR2"}}
{"Timestamp":"2025-09-03T00:53:10.2543302+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c14b3ed860678d503f96f3d4c54d3a82","SpanId":"9d538469354efb3a","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b2139b84-1c18-48d3-966d-bb0ee7314c3c","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFADC1QQTR2:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR2"}}
{"Timestamp":"2025-09-03T00:53:10.2689996+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c14b3ed860678d503f96f3d4c54d3a82","SpanId":"9d538469354efb3a","Properties":{"elapsed":"12","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b2139b84-1c18-48d3-966d-bb0ee7314c3c","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFADC1QQTR2:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR2"}}
{"Timestamp":"2025-09-03T00:53:10.2705711+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"c14b3ed860678d503f96f3d4c54d3a82","SpanId":"9d538469354efb3a","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"b2139b84-1c18-48d3-966d-bb0ee7314c3c","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFADC1QQTR2:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR2","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:53:10.2720080+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"c14b3ed860678d503f96f3d4c54d3a82","SpanId":"9d538469354efb3a","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"b2139b84-1c18-48d3-966d-bb0ee7314c3c","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFADC1QQTR2:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR2","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:53:10.2734558+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"c14b3ed860678d503f96f3d4c54d3a82","SpanId":"9d538469354efb3a","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"b2139b84-1c18-48d3-966d-bb0ee7314c3c","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFADC1QQTR2:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR2","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T00:53:10.2820470+03:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"c14b3ed860678d503f96f3d4c54d3a82","SpanId":"9d538469354efb3a","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"b2139b84-1c18-48d3-966d-bb0ee7314c3c","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFADC1QQTR2:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR2"}}
{"Timestamp":"2025-09-03T00:53:10.2824956+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c14b3ed860678d503f96f3d4c54d3a82","SpanId":"9d538469354efb3a","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":27.7318,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR2:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR2"}}
{"Timestamp":"2025-09-03T00:53:10.2827407+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c14b3ed860678d503f96f3d4c54d3a82","SpanId":"9d538469354efb3a","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR2:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR2"}}
{"Timestamp":"2025-09-03T00:53:10.2837191+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c14b3ed860678d503f96f3d4c54d3a82","SpanId":"9d538469354efb3a","Properties":{"ElapsedMilliseconds":50.3329,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR2:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR2"}}
{"Timestamp":"2025-09-03T11:07:45.2345612+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8520f17c74ec86bd3c8a0be7a96efbb8","SpanId":"a2a534ca415da882","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR3:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:07:45.6882785+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"8520f17c74ec86bd3c8a0be7a96efbb8","SpanId":"a2a534ca415da882","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR3:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:07:45.9262670+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8520f17c74ec86bd3c8a0be7a96efbb8","SpanId":"a2a534ca415da882","Properties":{"ElapsedMilliseconds":691.6625,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR3:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:07:46.0619861+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f2ca1e326c2ef3f68778c1a5fe421523","SpanId":"dc89b4695734ba51","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR3:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:07:46.0625122+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f2ca1e326c2ef3f68778c1a5fe421523","SpanId":"dc89b4695734ba51","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR3:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:07:46.3545742+03:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"f2ca1e326c2ef3f68778c1a5fe421523","SpanId":"dc89b4695734ba51","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/2/2025 10:07:31 PM', Current time (UTC): '9/3/2025 8:07:46 AM'.\n   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFADC1QQTR3:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:07:46.3661672+03:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"f2ca1e326c2ef3f68778c1a5fe421523","SpanId":"dc89b4695734ba51","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/2/2025 10:07:31 PM', Current time (UTC): '9/3/2025 8:07:46 AM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFADC1QQTR3:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:07:46.3685911+03:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"f2ca1e326c2ef3f68778c1a5fe421523","SpanId":"dc89b4695734ba51","Properties":{"Reason":"These requirements were not met:\nDenyAnonymousAuthorizationRequirement: Requires an authenticated user.","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HNFADC1QQTR3:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:07:46.3696013+03:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"f2ca1e326c2ef3f68778c1a5fe421523","SpanId":"dc89b4695734ba51","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFADC1QQTR3:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:07:46.3699531+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f2ca1e326c2ef3f68778c1a5fe421523","SpanId":"dc89b4695734ba51","Properties":{"ElapsedMilliseconds":307.9379,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR3:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:07:46.3761653+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2f8a3d60a5b1b6ce4bb4c23bad569a6c","SpanId":"efe8c0fa67a10011","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR3:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:07:46.3767468+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"2f8a3d60a5b1b6ce4bb4c23bad569a6c","SpanId":"efe8c0fa67a10011","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR3:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:07:46.3770639+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2f8a3d60a5b1b6ce4bb4c23bad569a6c","SpanId":"efe8c0fa67a10011","Properties":{"ElapsedMilliseconds":0.8697,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR3:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:07:46.3797613+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f2f1d8551ce35d4f9eb8e37b263e4082","SpanId":"9b5ca2b5e9a7adc7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR3:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:07:46.3801874+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f2f1d8551ce35d4f9eb8e37b263e4082","SpanId":"9b5ca2b5e9a7adc7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR3:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:07:46.3806575+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f2f1d8551ce35d4f9eb8e37b263e4082","SpanId":"9b5ca2b5e9a7adc7","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR3:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:07:46.4216032+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f2f1d8551ce35d4f9eb8e37b263e4082","SpanId":"9b5ca2b5e9a7adc7","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTR3:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:07:46.4359771+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by localhost:6865","TraceId":"f2f1d8551ce35d4f9eb8e37b263e4082","SpanId":"9b5ca2b5e9a7adc7","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTR3:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:28:38.9809571+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f2f1d8551ce35d4f9eb8e37b263e4082","SpanId":"9b5ca2b5e9a7adc7","Properties":{"elapsed":"38","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTR3:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:28:40.4802406+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f2f1d8551ce35d4f9eb8e37b263e4082","SpanId":"9b5ca2b5e9a7adc7","Properties":{"elapsed":"6","parameters":"@__token_UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__token_UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTR3:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:28:40.4886217+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"f2f1d8551ce35d4f9eb8e37b263e4082","SpanId":"9b5ca2b5e9a7adc7","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTR3:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:28:40.4932782+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f2f1d8551ce35d4f9eb8e37b263e4082","SpanId":"9b5ca2b5e9a7adc7","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTR3:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:28:40.6500967+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f2f1d8551ce35d4f9eb8e37b263e4082","SpanId":"9b5ca2b5e9a7adc7","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTR3:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:28:40.6553067+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f2f1d8551ce35d4f9eb8e37b263e4082","SpanId":"9b5ca2b5e9a7adc7","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTR3:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:28:40.6560547+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f2f1d8551ce35d4f9eb8e37b263e4082","SpanId":"9b5ca2b5e9a7adc7","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":4339.5818,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR3:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:28:40.6566828+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f2f1d8551ce35d4f9eb8e37b263e4082","SpanId":"9b5ca2b5e9a7adc7","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR3:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T11:28:40.6576777+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f2f1d8551ce35d4f9eb8e37b263e4082","SpanId":"9b5ca2b5e9a7adc7","Properties":{"ElapsedMilliseconds":4383.389,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR3:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR3"}}
{"Timestamp":"2025-09-03T15:07:14.0102446+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"86d11b2ab4db2f4a8e79c7c793f7ed04","SpanId":"e70fd8488d2d7ae1","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR4:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.3973199+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"86d11b2ab4db2f4a8e79c7c793f7ed04","SpanId":"e70fd8488d2d7ae1","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR4:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.3979235+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"86d11b2ab4db2f4a8e79c7c793f7ed04","SpanId":"e70fd8488d2d7ae1","Properties":{"ElapsedMilliseconds":387.686,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR4:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4011069+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"20c5f91462585feac6efa12d6d988116","SpanId":"f6beba836e4a8a0d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR4:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4015183+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"20c5f91462585feac6efa12d6d988116","SpanId":"f6beba836e4a8a0d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR4:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4022447+03:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"20c5f91462585feac6efa12d6d988116","SpanId":"f6beba836e4a8a0d","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/3/2025 8:43:40 AM', Current time (UTC): '9/3/2025 12:07:14 PM'.\n   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFADC1QQTR4:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4058388+03:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"20c5f91462585feac6efa12d6d988116","SpanId":"f6beba836e4a8a0d","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/3/2025 8:43:40 AM', Current time (UTC): '9/3/2025 12:07:14 PM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFADC1QQTR4:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4062353+03:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"20c5f91462585feac6efa12d6d988116","SpanId":"f6beba836e4a8a0d","Properties":{"Reason":"These requirements were not met:\nDenyAnonymousAuthorizationRequirement: Requires an authenticated user.","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HNFADC1QQTR4:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4064812+03:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"20c5f91462585feac6efa12d6d988116","SpanId":"f6beba836e4a8a0d","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFADC1QQTR4:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4068236+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"20c5f91462585feac6efa12d6d988116","SpanId":"f6beba836e4a8a0d","Properties":{"ElapsedMilliseconds":5.6978,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR4:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4118376+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"190721c537ff21a0c1eb30e7f404f632","SpanId":"5204d66fe3dfe25a","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR4:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4122630+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"190721c537ff21a0c1eb30e7f404f632","SpanId":"5204d66fe3dfe25a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR4:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4125856+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"190721c537ff21a0c1eb30e7f404f632","SpanId":"5204d66fe3dfe25a","Properties":{"ElapsedMilliseconds":0.7448,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR4:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4156963+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cc79c7a37956ea6eef8215a5c4a999d8","SpanId":"330fbd526366e3e8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR4:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4161471+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"cc79c7a37956ea6eef8215a5c4a999d8","SpanId":"330fbd526366e3e8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR4:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4163870+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cc79c7a37956ea6eef8215a5c4a999d8","SpanId":"330fbd526366e3e8","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR4:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4166399+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cc79c7a37956ea6eef8215a5c4a999d8","SpanId":"330fbd526366e3e8","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTR4:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4231626+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by localhost:6865","TraceId":"cc79c7a37956ea6eef8215a5c4a999d8","SpanId":"330fbd526366e3e8","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTR4:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4369909+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc79c7a37956ea6eef8215a5c4a999d8","SpanId":"330fbd526366e3e8","Properties":{"elapsed":"2","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTR4:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4394406+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc79c7a37956ea6eef8215a5c4a999d8","SpanId":"330fbd526366e3e8","Properties":{"elapsed":"1","parameters":"@__token_UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__token_UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTR4:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4410213+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"cc79c7a37956ea6eef8215a5c4a999d8","SpanId":"330fbd526366e3e8","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTR4:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4424669+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc79c7a37956ea6eef8215a5c4a999d8","SpanId":"330fbd526366e3e8","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTR4:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4450622+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc79c7a37956ea6eef8215a5c4a999d8","SpanId":"330fbd526366e3e8","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTR4:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4483238+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cc79c7a37956ea6eef8215a5c4a999d8","SpanId":"330fbd526366e3e8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"aecee0d7-eea6-4f64-b8af-7cefa16b23ba","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFADC1QQTR4:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4489803+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cc79c7a37956ea6eef8215a5c4a999d8","SpanId":"330fbd526366e3e8","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":32.0342,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR4:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4492264+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cc79c7a37956ea6eef8215a5c4a999d8","SpanId":"330fbd526366e3e8","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR4:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4495345+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cc79c7a37956ea6eef8215a5c4a999d8","SpanId":"330fbd526366e3e8","Properties":{"ElapsedMilliseconds":33.8445,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR4:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:07:14.4645589+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a4d37c66400cf7f805b2b88ec72dd4bc","SpanId":"f8f266bb3c5f14f9","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:14.5182105+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a4d37c66400cf7f805b2b88ec72dd4bc","SpanId":"f8f266bb3c5f14f9","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:14.5184889+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a4d37c66400cf7f805b2b88ec72dd4bc","SpanId":"f8f266bb3c5f14f9","Properties":{"ElapsedMilliseconds":53.9246,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:14.5216636+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b0624f5f4fe51aa3415400fcb735a5c0","SpanId":"5ab75b9bf6d6ab05","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:14.5220758+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b0624f5f4fe51aa3415400fcb735a5c0","SpanId":"5ab75b9bf6d6ab05","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:14.5244643+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b0624f5f4fe51aa3415400fcb735a5c0","SpanId":"5ab75b9bf6d6ab05","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:14.5249895+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b0624f5f4fe51aa3415400fcb735a5c0","SpanId":"5ab75b9bf6d6ab05","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:14.5252123+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b0624f5f4fe51aa3415400fcb735a5c0","SpanId":"5ab75b9bf6d6ab05","Properties":{"RouteData":"{action = \"GetUserChats\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Int64]]] GetUserChatsAsync()","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:14.5589139+03:00","Level":"Information","MessageTemplate":"Initiated chats retrieval by 192.168.31.243:6865","TraceId":"b0624f5f4fe51aa3415400fcb735a5c0","SpanId":"5ab75b9bf6d6ab05","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:14.5750094+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b0624f5f4fe51aa3415400fcb735a5c0","SpanId":"5ab75b9bf6d6ab05","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:14.5778335+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b0624f5f4fe51aa3415400fcb735a5c0","SpanId":"5ab75b9bf6d6ab05","Properties":{"elapsed":"2","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u1.\"ID\", u1.\"PasswordHash\", u1.\"Role\", u1.\"Username\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"Name\", s.\"OwnerID\"\nFROM (\n    SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\n    FROM \"Users\" AS u\n    WHERE u.\"ID\" = @__UserID_0\n    LIMIT 1\n) AS u1\nLEFT JOIN (\n    SELECT u0.\"ChatID\", u0.\"UserID\", c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"UserChatJoinTable\" AS u0\n    INNER JOIN \"Chats\" AS c ON u0.\"ChatID\" = c.\"ID\"\n) AS s ON u1.\"ID\" = s.\"UserID\"\nORDER BY u1.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:14.5786633+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b0624f5f4fe51aa3415400fcb735a5c0","SpanId":"5ab75b9bf6d6ab05","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.UserChatsDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:14.5790378+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b0624f5f4fe51aa3415400fcb735a5c0","SpanId":"5ab75b9bf6d6ab05","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","ElapsedMilliseconds":20.3075,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:14.5793016+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b0624f5f4fe51aa3415400fcb735a5c0","SpanId":"5ab75b9bf6d6ab05","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:14.5795741+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b0624f5f4fe51aa3415400fcb735a5c0","SpanId":"5ab75b9bf6d6ab05","Properties":{"ElapsedMilliseconds":57.9039,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.5414085+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"457599cc896abde10635b0eb2afb0929","SpanId":"a718ba2443d3a095","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/newChat","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000003","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.5419070+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"457599cc896abde10635b0eb2afb0929","SpanId":"a718ba2443d3a095","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000003","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.5424262+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"457599cc896abde10635b0eb2afb0929","SpanId":"a718ba2443d3a095","Properties":{"ElapsedMilliseconds":0.9453,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/newChat","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000003","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.5453393+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e095b54b2659a387f38545c6d3f2240b","SpanId":"52945a50e0720b86","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":28,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/newChat","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000004","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.5457647+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e095b54b2659a387f38545c6d3f2240b","SpanId":"52945a50e0720b86","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000004","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.5480965+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e095b54b2659a387f38545c6d3f2240b","SpanId":"52945a50e0720b86","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000004","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.5490396+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e095b54b2659a387f38545c6d3f2240b","SpanId":"52945a50e0720b86","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000004","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.6507675+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e095b54b2659a387f38545c6d3f2240b","SpanId":"52945a50e0720b86","Properties":{"RouteData":"{action = \"NewChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] NewChatAsync(MessagingApp.DTO.ChatDescDTO)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"69f3588c-ed05-4a73-8ae9-0e0baddb47cc","ActionName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000004","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.6588642+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e095b54b2659a387f38545c6d3f2240b","SpanId":"52945a50e0720b86","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"69f3588c-ed05-4a73-8ae9-0e0baddb47cc","ActionName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000004","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.6595424+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"e095b54b2659a387f38545c6d3f2240b","SpanId":"52945a50e0720b86","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"69f3588c-ed05-4a73-8ae9-0e0baddb47cc","ActionName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000004","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:48.6598009+03:00","Level":"Information","MessageTemplate":"Attempting to create a chat named \"Damn\"","TraceId":"e095b54b2659a387f38545c6d3f2240b","SpanId":"52945a50e0720b86","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"69f3588c-ed05-4a73-8ae9-0e0baddb47cc","ActionName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000004","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:48.6701011+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e095b54b2659a387f38545c6d3f2240b","SpanId":"52945a50e0720b86","Properties":{"elapsed":"1","parameters":"@__chatName_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\nFROM \"Chats\" AS c\nWHERE c.\"Name\" = @__chatName_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"69f3588c-ed05-4a73-8ae9-0e0baddb47cc","ActionName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000004","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:48.7653576+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e095b54b2659a387f38545c6d3f2240b","SpanId":"52945a50e0720b86","Properties":{"elapsed":"1","parameters":"@p0='?', @p1='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"Chats\" (\"Name\", \"OwnerID\")\nVALUES (@p0, @p1)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"69f3588c-ed05-4a73-8ae9-0e0baddb47cc","ActionName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000004","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:48.7722600+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e095b54b2659a387f38545c6d3f2240b","SpanId":"52945a50e0720b86","Properties":{"elapsed":"1","parameters":"@p2='?' (DbType = Int64), @p3='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"UserChatJoinTable\" (\"ChatID\", \"UserID\")\nVALUES (@p2, @p3);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"69f3588c-ed05-4a73-8ae9-0e0baddb47cc","ActionName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000004","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:48.7756164+03:00","Level":"Information","MessageTemplate":"Successfully created chat \"Damn\"","TraceId":"e095b54b2659a387f38545c6d3f2240b","SpanId":"52945a50e0720b86","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"69f3588c-ed05-4a73-8ae9-0e0baddb47cc","ActionName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000004","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:48.7759846+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e095b54b2659a387f38545c6d3f2240b","SpanId":"52945a50e0720b86","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"69f3588c-ed05-4a73-8ae9-0e0baddb47cc","ActionName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000004","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.7763657+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e095b54b2659a387f38545c6d3f2240b","SpanId":"52945a50e0720b86","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","ElapsedMilliseconds":125.2166,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000004","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.7765623+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e095b54b2659a387f38545c6d3f2240b","SpanId":"52945a50e0720b86","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000004","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.7768310+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e095b54b2659a387f38545c6d3f2240b","SpanId":"52945a50e0720b86","Properties":{"ElapsedMilliseconds":231.4913,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/newChat","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000004","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.7809047+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"efb3d829a706425fb8376398b4a0788a","SpanId":"66d7a863e3522e65","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000005","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.7812628+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"efb3d829a706425fb8376398b4a0788a","SpanId":"66d7a863e3522e65","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000005","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.7814777+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"efb3d829a706425fb8376398b4a0788a","SpanId":"66d7a863e3522e65","Properties":{"ElapsedMilliseconds":0.5741,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000005","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.7849494+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"28fd6182f842491005ca080acb60b07b","SpanId":"3802839834f02f17","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000006","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.7853533+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"28fd6182f842491005ca080acb60b07b","SpanId":"3802839834f02f17","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000006","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.7867154+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"28fd6182f842491005ca080acb60b07b","SpanId":"3802839834f02f17","Properties":{"elapsed":"0","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000006","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.7874662+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"28fd6182f842491005ca080acb60b07b","SpanId":"3802839834f02f17","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000006","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.7879876+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"28fd6182f842491005ca080acb60b07b","SpanId":"3802839834f02f17","Properties":{"RouteData":"{action = \"GetUserChats\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Int64]]] GetUserChatsAsync()","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000006","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.7883206+03:00","Level":"Information","MessageTemplate":"Initiated chats retrieval by 192.168.31.243:6865","TraceId":"28fd6182f842491005ca080acb60b07b","SpanId":"3802839834f02f17","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000006","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.7892527+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"28fd6182f842491005ca080acb60b07b","SpanId":"3802839834f02f17","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000006","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.7908727+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"28fd6182f842491005ca080acb60b07b","SpanId":"3802839834f02f17","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u1.\"ID\", u1.\"PasswordHash\", u1.\"Role\", u1.\"Username\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"Name\", s.\"OwnerID\"\nFROM (\n    SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\n    FROM \"Users\" AS u\n    WHERE u.\"ID\" = @__UserID_0\n    LIMIT 1\n) AS u1\nLEFT JOIN (\n    SELECT u0.\"ChatID\", u0.\"UserID\", c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"UserChatJoinTable\" AS u0\n    INNER JOIN \"Chats\" AS c ON u0.\"ChatID\" = c.\"ID\"\n) AS s ON u1.\"ID\" = s.\"UserID\"\nORDER BY u1.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000006","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.7915701+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"28fd6182f842491005ca080acb60b07b","SpanId":"3802839834f02f17","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.UserChatsDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000006","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.7919355+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"28fd6182f842491005ca080acb60b07b","SpanId":"3802839834f02f17","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","ElapsedMilliseconds":3.7045,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000006","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.7920944+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"28fd6182f842491005ca080acb60b07b","SpanId":"3802839834f02f17","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000006","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:48.7922902+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"28fd6182f842491005ca080acb60b07b","SpanId":"3802839834f02f17","Properties":{"ElapsedMilliseconds":7.3481,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000006","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:50.2268798+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"aaf2c4c6361528444e5a4b8c7cee24aa","SpanId":"12ddcd5699729f12","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=35","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000007","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:50.2277063+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"aaf2c4c6361528444e5a4b8c7cee24aa","SpanId":"12ddcd5699729f12","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000007","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:50.2277473+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0afd580b164484b09eb1a340bfd53e00","SpanId":"c42aaac51b2a22ea","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:50.2281385+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"aaf2c4c6361528444e5a4b8c7cee24aa","SpanId":"12ddcd5699729f12","Properties":{"ElapsedMilliseconds":1.2735,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=35","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000007","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:50.2282568+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"0afd580b164484b09eb1a340bfd53e00","SpanId":"c42aaac51b2a22ea","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:50.2294407+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0afd580b164484b09eb1a340bfd53e00","SpanId":"c42aaac51b2a22ea","Properties":{"ElapsedMilliseconds":1.6818,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:50.2331948+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c95dc670e01a82edc16d0ebfbdc70f03","SpanId":"e311edc0f43a5ec1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=35","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000008","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:50.2336619+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c95dc670e01a82edc16d0ebfbdc70f03","SpanId":"e311edc0f43a5ec1","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000008","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:50.2347122+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"febc74112016e0a011b33ff4a08ea4bb","SpanId":"8693f5213eee502a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR7:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:07:50.2349742+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6b6732cad033da8aeb3c07ed23e24c0e","SpanId":"e52dcb80cee96f43","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:50.2357568+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"6b6732cad033da8aeb3c07ed23e24c0e","SpanId":"e52dcb80cee96f43","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:50.2359276+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"febc74112016e0a011b33ff4a08ea4bb","SpanId":"8693f5213eee502a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR7:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:07:50.2362327+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6b6732cad033da8aeb3c07ed23e24c0e","SpanId":"e52dcb80cee96f43","Properties":{"ElapsedMilliseconds":1.2471,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:50.2407807+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e59f9b61ac902dc23e09eeb55de59410","SpanId":"b117112644d4ec27","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:50.2411872+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e59f9b61ac902dc23e09eeb55de59410","SpanId":"b117112644d4ec27","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:50.2411959+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"febc74112016e0a011b33ff4a08ea4bb","SpanId":"8693f5213eee502a","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR7:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:07:50.2418893+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"febc74112016e0a011b33ff4a08ea4bb","SpanId":"8693f5213eee502a","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR7:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:07:50.2421730+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"febc74112016e0a011b33ff4a08ea4bb","SpanId":"8693f5213eee502a","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:07:50.2427664+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e59f9b61ac902dc23e09eeb55de59410","SpanId":"b117112644d4ec27","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:50.2432523+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e59f9b61ac902dc23e09eeb55de59410","SpanId":"b117112644d4ec27","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:50.2434666+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e59f9b61ac902dc23e09eeb55de59410","SpanId":"b117112644d4ec27","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:50.2437926+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"febc74112016e0a011b33ff4a08ea4bb","SpanId":"8693f5213eee502a","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:07:50.2442769+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"e59f9b61ac902dc23e09eeb55de59410","SpanId":"b117112644d4ec27","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:50.2449924+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"febc74112016e0a011b33ff4a08ea4bb","SpanId":"8693f5213eee502a","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:07:50.2456055+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"febc74112016e0a011b33ff4a08ea4bb","SpanId":"8693f5213eee502a","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:50.2476851+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"febc74112016e0a011b33ff4a08ea4bb","SpanId":"8693f5213eee502a","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:50.2495613+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c95dc670e01a82edc16d0ebfbdc70f03","SpanId":"e311edc0f43a5ec1","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000008","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:50.2497832+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"febc74112016e0a011b33ff4a08ea4bb","SpanId":"8693f5213eee502a","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:50.2499967+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c95dc670e01a82edc16d0ebfbdc70f03","SpanId":"e311edc0f43a5ec1","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000008","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:50.2502672+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c95dc670e01a82edc16d0ebfbdc70f03","SpanId":"e311edc0f43a5ec1","Properties":{"RouteData":"{action = \"getChatMemebers\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] getChatMemebersAsync(System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000008","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:50.2514287+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c95dc670e01a82edc16d0ebfbdc70f03","SpanId":"e311edc0f43a5ec1","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000008","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:50.2519716+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"c95dc670e01a82edc16d0ebfbdc70f03","SpanId":"e311edc0f43a5ec1","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000008","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:50.2521207+03:00","Level":"Information","MessageTemplate":"Attempting to get chat members","TraceId":"c95dc670e01a82edc16d0ebfbdc70f03","SpanId":"e311edc0f43a5ec1","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000008","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:50.2524551+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e59f9b61ac902dc23e09eeb55de59410","SpanId":"b117112644d4ec27","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:50.2529212+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"e59f9b61ac902dc23e09eeb55de59410","SpanId":"b117112644d4ec27","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:50.2533786+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"febc74112016e0a011b33ff4a08ea4bb","SpanId":"8693f5213eee502a","Properties":{"elapsed":"3","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:50.2539648+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c95dc670e01a82edc16d0ebfbdc70f03","SpanId":"e311edc0f43a5ec1","Properties":{"elapsed":"1","parameters":"@__chatId_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__chatId_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000008","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:50.2545413+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"febc74112016e0a011b33ff4a08ea4bb","SpanId":"8693f5213eee502a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:07:50.2547576+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c95dc670e01a82edc16d0ebfbdc70f03","SpanId":"e311edc0f43a5ec1","Properties":{"ObjectResultType":"ObjectResult","Type":"System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000008","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:50.2550476+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"febc74112016e0a011b33ff4a08ea4bb","SpanId":"8693f5213eee502a","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":12.616,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR7:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:07:50.2554235+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"febc74112016e0a011b33ff4a08ea4bb","SpanId":"8693f5213eee502a","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR7:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:07:50.2550675+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c95dc670e01a82edc16d0ebfbdc70f03","SpanId":"e311edc0f43a5ec1","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","ElapsedMilliseconds":4.5531,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000008","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:50.2555177+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e59f9b61ac902dc23e09eeb55de59410","SpanId":"b117112644d4ec27","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:50.2558088+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c95dc670e01a82edc16d0ebfbdc70f03","SpanId":"e311edc0f43a5ec1","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000008","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:50.2558946+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"febc74112016e0a011b33ff4a08ea4bb","SpanId":"8693f5213eee502a","Properties":{"ElapsedMilliseconds":21.1823,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR7:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:07:50.2568123+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c95dc670e01a82edc16d0ebfbdc70f03","SpanId":"e311edc0f43a5ec1","Properties":{"ElapsedMilliseconds":23.6047,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=35","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000008","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:07:50.2574399+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e59f9b61ac902dc23e09eeb55de59410","SpanId":"b117112644d4ec27","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:50.2608812+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e59f9b61ac902dc23e09eeb55de59410","SpanId":"b117112644d4ec27","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:50.2620657+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e59f9b61ac902dc23e09eeb55de59410","SpanId":"b117112644d4ec27","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:50.2624369+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e59f9b61ac902dc23e09eeb55de59410","SpanId":"b117112644d4ec27","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":18.5228,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:50.2626618+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e59f9b61ac902dc23e09eeb55de59410","SpanId":"b117112644d4ec27","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:50.2629428+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e59f9b61ac902dc23e09eeb55de59410","SpanId":"b117112644d4ec27","Properties":{"ElapsedMilliseconds":22.1683,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:51.7668400+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5d55c621c4b3162fd84d6c8783987153","SpanId":"8ae38ad6d1f0444e","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=false","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:51.7673787+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"5d55c621c4b3162fd84d6c8783987153","SpanId":"8ae38ad6d1f0444e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:51.7676206+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5d55c621c4b3162fd84d6c8783987153","SpanId":"8ae38ad6d1f0444e","Properties":{"ElapsedMilliseconds":0.7854,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=false","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:51.7699377+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"484e080194e948dc6ed41c4af338f33c","SpanId":"841b006e2d0e816d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=false","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:51.7702384+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"484e080194e948dc6ed41c4af338f33c","SpanId":"841b006e2d0e816d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:51.7723621+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"484e080194e948dc6ed41c4af338f33c","SpanId":"841b006e2d0e816d","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:51.7728582+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"484e080194e948dc6ed41c4af338f33c","SpanId":"841b006e2d0e816d","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:51.7731800+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"484e080194e948dc6ed41c4af338f33c","SpanId":"841b006e2d0e816d","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:51.7737621+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"484e080194e948dc6ed41c4af338f33c","SpanId":"841b006e2d0e816d","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:51.7748123+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"484e080194e948dc6ed41c4af338f33c","SpanId":"841b006e2d0e816d","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:51.7754320+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"484e080194e948dc6ed41c4af338f33c","SpanId":"841b006e2d0e816d","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:51.7768438+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"484e080194e948dc6ed41c4af338f33c","SpanId":"841b006e2d0e816d","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:51.7782500+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"484e080194e948dc6ed41c4af338f33c","SpanId":"841b006e2d0e816d","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:51.8044333+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"484e080194e948dc6ed41c4af338f33c","SpanId":"841b006e2d0e816d","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_1 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:51.8050663+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"484e080194e948dc6ed41c4af338f33c","SpanId":"841b006e2d0e816d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:51.8053855+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"484e080194e948dc6ed41c4af338f33c","SpanId":"841b006e2d0e816d","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":31.936,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:51.8055542+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"484e080194e948dc6ed41c4af338f33c","SpanId":"841b006e2d0e816d","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:51.8057933+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"484e080194e948dc6ed41c4af338f33c","SpanId":"841b006e2d0e816d","Properties":{"ElapsedMilliseconds":35.8493,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=false","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:53.2325906+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3b84d56b622faa2b225de77801003950","SpanId":"1ee8c8a4cdd610c5","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:53.2331085+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"3b84d56b622faa2b225de77801003950","SpanId":"1ee8c8a4cdd610c5","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:53.2333509+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3b84d56b622faa2b225de77801003950","SpanId":"1ee8c8a4cdd610c5","Properties":{"ElapsedMilliseconds":0.7664,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:53.2357749+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1a27f47eec51e88a3adc9b9cd3d0ef28","SpanId":"19ce9f8219c0c334","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000007","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:53.2361230+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1a27f47eec51e88a3adc9b9cd3d0ef28","SpanId":"19ce9f8219c0c334","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000007","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:53.2379883+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1a27f47eec51e88a3adc9b9cd3d0ef28","SpanId":"19ce9f8219c0c334","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:00000007","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:53.2385258+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1a27f47eec51e88a3adc9b9cd3d0ef28","SpanId":"19ce9f8219c0c334","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000007","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:53.2387843+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1a27f47eec51e88a3adc9b9cd3d0ef28","SpanId":"19ce9f8219c0c334","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000007","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:53.2393753+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"1a27f47eec51e88a3adc9b9cd3d0ef28","SpanId":"19ce9f8219c0c334","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000007","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:53.2403665+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1a27f47eec51e88a3adc9b9cd3d0ef28","SpanId":"19ce9f8219c0c334","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000007","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:53.2407979+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"1a27f47eec51e88a3adc9b9cd3d0ef28","SpanId":"19ce9f8219c0c334","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000007","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:53.2421861+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1a27f47eec51e88a3adc9b9cd3d0ef28","SpanId":"19ce9f8219c0c334","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000007","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:53.2434459+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1a27f47eec51e88a3adc9b9cd3d0ef28","SpanId":"19ce9f8219c0c334","Properties":{"elapsed":"0","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000007","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:53.2461403+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1a27f47eec51e88a3adc9b9cd3d0ef28","SpanId":"19ce9f8219c0c334","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_1 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000007","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:53.2467622+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1a27f47eec51e88a3adc9b9cd3d0ef28","SpanId":"19ce9f8219c0c334","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000007","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:53.2470607+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1a27f47eec51e88a3adc9b9cd3d0ef28","SpanId":"19ce9f8219c0c334","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":8.0104,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:00000007","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:53.2472467+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1a27f47eec51e88a3adc9b9cd3d0ef28","SpanId":"19ce9f8219c0c334","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000007","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:53.2477272+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1a27f47eec51e88a3adc9b9cd3d0ef28","SpanId":"19ce9f8219c0c334","Properties":{"ElapsedMilliseconds":11.9209,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000007","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:56.2334104+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9549c80af168d8973ae4d36a10dc1ecc","SpanId":"3a6cbf0f267dcfe2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:56.2339029+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9549c80af168d8973ae4d36a10dc1ecc","SpanId":"3a6cbf0f267dcfe2","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:56.2357039+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9549c80af168d8973ae4d36a10dc1ecc","SpanId":"3a6cbf0f267dcfe2","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:56.2360822+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9549c80af168d8973ae4d36a10dc1ecc","SpanId":"3a6cbf0f267dcfe2","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:56.2362716+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9549c80af168d8973ae4d36a10dc1ecc","SpanId":"3a6cbf0f267dcfe2","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:56.2367454+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"9549c80af168d8973ae4d36a10dc1ecc","SpanId":"3a6cbf0f267dcfe2","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:56.2376141+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9549c80af168d8973ae4d36a10dc1ecc","SpanId":"3a6cbf0f267dcfe2","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:56.2380393+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"9549c80af168d8973ae4d36a10dc1ecc","SpanId":"3a6cbf0f267dcfe2","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:56.2393497+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9549c80af168d8973ae4d36a10dc1ecc","SpanId":"3a6cbf0f267dcfe2","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:56.2405385+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9549c80af168d8973ae4d36a10dc1ecc","SpanId":"3a6cbf0f267dcfe2","Properties":{"elapsed":"0","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:56.2419398+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9549c80af168d8973ae4d36a10dc1ecc","SpanId":"3a6cbf0f267dcfe2","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_1 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:56.2424015+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9549c80af168d8973ae4d36a10dc1ecc","SpanId":"3a6cbf0f267dcfe2","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:56.2426425+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9549c80af168d8973ae4d36a10dc1ecc","SpanId":"3a6cbf0f267dcfe2","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.0825,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:56.2428583+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9549c80af168d8973ae4d36a10dc1ecc","SpanId":"3a6cbf0f267dcfe2","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:56.2431097+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9549c80af168d8973ae4d36a10dc1ecc","SpanId":"3a6cbf0f267dcfe2","Properties":{"ElapsedMilliseconds":9.7021,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:59.2334003+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c4a202d077832a781b016ce6814f2c23","SpanId":"9ad126afd02dc5c4","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:59.2342369+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c4a202d077832a781b016ce6814f2c23","SpanId":"9ad126afd02dc5c4","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:59.2344774+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c4a202d077832a781b016ce6814f2c23","SpanId":"9ad126afd02dc5c4","Properties":{"ElapsedMilliseconds":1.1646,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:59.2371732+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9ad8e04930c4651f7917b363c2313f5c","SpanId":"a2c64fa2c82e2dc0","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000000A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:59.2376407+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9ad8e04930c4651f7917b363c2313f5c","SpanId":"a2c64fa2c82e2dc0","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:0000000A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:59.2395382+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9ad8e04930c4651f7917b363c2313f5c","SpanId":"a2c64fa2c82e2dc0","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:0000000A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:59.2400761+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9ad8e04930c4651f7917b363c2313f5c","SpanId":"a2c64fa2c82e2dc0","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:0000000A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:59.2403327+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9ad8e04930c4651f7917b363c2313f5c","SpanId":"a2c64fa2c82e2dc0","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:59.2408338+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"9ad8e04930c4651f7917b363c2313f5c","SpanId":"a2c64fa2c82e2dc0","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:59.2419319+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9ad8e04930c4651f7917b363c2313f5c","SpanId":"a2c64fa2c82e2dc0","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:59.2426040+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"9ad8e04930c4651f7917b363c2313f5c","SpanId":"a2c64fa2c82e2dc0","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:59.2442285+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9ad8e04930c4651f7917b363c2313f5c","SpanId":"a2c64fa2c82e2dc0","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:59.2458527+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9ad8e04930c4651f7917b363c2313f5c","SpanId":"a2c64fa2c82e2dc0","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:59.2478316+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9ad8e04930c4651f7917b363c2313f5c","SpanId":"a2c64fa2c82e2dc0","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_1 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:07:59.2486705+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9ad8e04930c4651f7917b363c2313f5c","SpanId":"a2c64fa2c82e2dc0","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:59.2489986+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9ad8e04930c4651f7917b363c2313f5c","SpanId":"a2c64fa2c82e2dc0","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":8.4509,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:0000000A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:59.2492687+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9ad8e04930c4651f7917b363c2313f5c","SpanId":"a2c64fa2c82e2dc0","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:0000000A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:07:59.2494931+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9ad8e04930c4651f7917b363c2313f5c","SpanId":"a2c64fa2c82e2dc0","Properties":{"ElapsedMilliseconds":12.3187,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000000A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.2326935+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c1709217d84ef1239b87e20f626621a3","SpanId":"feb23cc06c0999af","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.2333882+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c1709217d84ef1239b87e20f626621a3","SpanId":"feb23cc06c0999af","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.2351218+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c1709217d84ef1239b87e20f626621a3","SpanId":"feb23cc06c0999af","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.2355384+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c1709217d84ef1239b87e20f626621a3","SpanId":"feb23cc06c0999af","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.2357725+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c1709217d84ef1239b87e20f626621a3","SpanId":"feb23cc06c0999af","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.2363015+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"c1709217d84ef1239b87e20f626621a3","SpanId":"feb23cc06c0999af","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.2371868+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c1709217d84ef1239b87e20f626621a3","SpanId":"feb23cc06c0999af","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.2375517+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"c1709217d84ef1239b87e20f626621a3","SpanId":"feb23cc06c0999af","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:02.2388685+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c1709217d84ef1239b87e20f626621a3","SpanId":"feb23cc06c0999af","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:02.2400799+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c1709217d84ef1239b87e20f626621a3","SpanId":"feb23cc06c0999af","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:02.2416569+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c1709217d84ef1239b87e20f626621a3","SpanId":"feb23cc06c0999af","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_1 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:02.2421425+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c1709217d84ef1239b87e20f626621a3","SpanId":"feb23cc06c0999af","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.2424010+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c1709217d84ef1239b87e20f626621a3","SpanId":"feb23cc06c0999af","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.3928,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.2426137+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c1709217d84ef1239b87e20f626621a3","SpanId":"feb23cc06c0999af","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.2428671+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c1709217d84ef1239b87e20f626621a3","SpanId":"feb23cc06c0999af","Properties":{"ElapsedMilliseconds":10.1787,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.5499674+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"47f7ab38f1e97eb999ec27d624759284","SpanId":"e4539c2f3fac7218","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/sendMsgToChat","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000000C","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.5503908+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"47f7ab38f1e97eb999ec27d624759284","SpanId":"e4539c2f3fac7218","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:0000000C","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.5505772+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"47f7ab38f1e97eb999ec27d624759284","SpanId":"e4539c2f3fac7218","Properties":{"ElapsedMilliseconds":0.6075,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/sendMsgToChat","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000000C","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.5534752+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"252abb8d0642e17f2aed882971f57c9c","SpanId":"244932a7a5cfbae1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":31,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/sendMsgToChat","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000000D","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.5539415+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"252abb8d0642e17f2aed882971f57c9c","SpanId":"244932a7a5cfbae1","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:0000000D","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.5559862+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"252abb8d0642e17f2aed882971f57c9c","SpanId":"244932a7a5cfbae1","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:0000000D","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.5565807+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"252abb8d0642e17f2aed882971f57c9c","SpanId":"244932a7a5cfbae1","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:0000000D","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.5601794+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"252abb8d0642e17f2aed882971f57c9c","SpanId":"244932a7a5cfbae1","Properties":{"RouteData":"{action = \"SendMsgToChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendMsgToChatAsync(MessagingApp.DTO.SendChatMsgDTO)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7f2275e9-3fe1-442d-8888-ca92640aac15","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000D","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.5657639+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"252abb8d0642e17f2aed882971f57c9c","SpanId":"244932a7a5cfbae1","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7f2275e9-3fe1-442d-8888-ca92640aac15","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000D","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.5666562+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"252abb8d0642e17f2aed882971f57c9c","SpanId":"244932a7a5cfbae1","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"7f2275e9-3fe1-442d-8888-ca92640aac15","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000D","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:02.5671533+03:00","Level":"Information","MessageTemplate":"Attempting to send a message to chat","TraceId":"252abb8d0642e17f2aed882971f57c9c","SpanId":"244932a7a5cfbae1","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"7f2275e9-3fe1-442d-8888-ca92640aac15","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000D","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:02.5752719+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"252abb8d0642e17f2aed882971f57c9c","SpanId":"244932a7a5cfbae1","Properties":{"elapsed":"1","parameters":"@__userid_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__userid_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"7f2275e9-3fe1-442d-8888-ca92640aac15","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000D","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:02.5902775+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"252abb8d0642e17f2aed882971f57c9c","SpanId":"244932a7a5cfbae1","Properties":{"elapsed":"1","parameters":"@__scmDTO_ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__scmDTO_ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"7f2275e9-3fe1-442d-8888-ca92640aac15","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000D","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:02.5971183+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"252abb8d0642e17f2aed882971f57c9c","SpanId":"244932a7a5cfbae1","Properties":{"elapsed":"1","parameters":"@__scmDTO_ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\nFROM \"Chats\" AS c\nWHERE c.\"ID\" = @__scmDTO_ChatID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"7f2275e9-3fe1-442d-8888-ca92640aac15","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000D","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:02.6383934+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"252abb8d0642e17f2aed882971f57c9c","SpanId":"244932a7a5cfbae1","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"Messages\" (\"ChatID\", \"DestinationID\", \"OriginID\", \"Text\", \"Timestamp\", \"chatID\", \"isRead\")\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"7f2275e9-3fe1-442d-8888-ca92640aac15","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000D","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:02.6418988+03:00","Level":"Information","MessageTemplate":"Message sent","TraceId":"252abb8d0642e17f2aed882971f57c9c","SpanId":"244932a7a5cfbae1","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"7f2275e9-3fe1-442d-8888-ca92640aac15","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000D","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:02.6421382+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"252abb8d0642e17f2aed882971f57c9c","SpanId":"244932a7a5cfbae1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7f2275e9-3fe1-442d-8888-ca92640aac15","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000D","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.6423709+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"252abb8d0642e17f2aed882971f57c9c","SpanId":"244932a7a5cfbae1","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","ElapsedMilliseconds":81.8552,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:0000000D","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.6425751+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"252abb8d0642e17f2aed882971f57c9c","SpanId":"244932a7a5cfbae1","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:0000000D","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:02.6428426+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"252abb8d0642e17f2aed882971f57c9c","SpanId":"244932a7a5cfbae1","Properties":{"ElapsedMilliseconds":89.3673,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/sendMsgToChat","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000000D","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:05.2325127+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"28fa2d5ae3e42b541f64a3820be91272","SpanId":"23a9a76262df3eb8","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000000E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:05.2330081+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"28fa2d5ae3e42b541f64a3820be91272","SpanId":"23a9a76262df3eb8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:0000000E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:05.2332234+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"28fa2d5ae3e42b541f64a3820be91272","SpanId":"23a9a76262df3eb8","Properties":{"ElapsedMilliseconds":0.6709,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000000E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:05.2355538+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"92a959e0ef0456f873c56529abc8765e","SpanId":"2fba7fcdcd59f8eb","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:05.2359024+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"92a959e0ef0456f873c56529abc8765e","SpanId":"2fba7fcdcd59f8eb","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:05.2371719+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"92a959e0ef0456f873c56529abc8765e","SpanId":"2fba7fcdcd59f8eb","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:05.2375558+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"92a959e0ef0456f873c56529abc8765e","SpanId":"2fba7fcdcd59f8eb","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:05.2378090+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"92a959e0ef0456f873c56529abc8765e","SpanId":"2fba7fcdcd59f8eb","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:05.2382544+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"92a959e0ef0456f873c56529abc8765e","SpanId":"2fba7fcdcd59f8eb","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:05.2391463+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"92a959e0ef0456f873c56529abc8765e","SpanId":"2fba7fcdcd59f8eb","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:05.2395599+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"92a959e0ef0456f873c56529abc8765e","SpanId":"2fba7fcdcd59f8eb","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:05.2407248+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"92a959e0ef0456f873c56529abc8765e","SpanId":"2fba7fcdcd59f8eb","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:05.2418884+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"92a959e0ef0456f873c56529abc8765e","SpanId":"2fba7fcdcd59f8eb","Properties":{"elapsed":"0","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:05.2431570+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"92a959e0ef0456f873c56529abc8765e","SpanId":"2fba7fcdcd59f8eb","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_1 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:05.2437783+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"92a959e0ef0456f873c56529abc8765e","SpanId":"2fba7fcdcd59f8eb","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:05.2442096+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"92a959e0ef0456f873c56529abc8765e","SpanId":"2fba7fcdcd59f8eb","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.1707,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:05.2444440+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"92a959e0ef0456f873c56529abc8765e","SpanId":"2fba7fcdcd59f8eb","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:05.2447422+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"92a959e0ef0456f873c56529abc8765e","SpanId":"2fba7fcdcd59f8eb","Properties":{"ElapsedMilliseconds":9.1812,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:08.2328920+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"29102cb0f8f7fabbe7ae4cb7a8a005e7","SpanId":"6ade6d2c7aebdf50","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:08.2332388+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"29102cb0f8f7fabbe7ae4cb7a8a005e7","SpanId":"6ade6d2c7aebdf50","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:08.2345420+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"29102cb0f8f7fabbe7ae4cb7a8a005e7","SpanId":"6ade6d2c7aebdf50","Properties":{"elapsed":"0","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:08.2349955+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"29102cb0f8f7fabbe7ae4cb7a8a005e7","SpanId":"6ade6d2c7aebdf50","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:08.2351647+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"29102cb0f8f7fabbe7ae4cb7a8a005e7","SpanId":"6ade6d2c7aebdf50","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:08.2355603+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"29102cb0f8f7fabbe7ae4cb7a8a005e7","SpanId":"6ade6d2c7aebdf50","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:08.2363186+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"29102cb0f8f7fabbe7ae4cb7a8a005e7","SpanId":"6ade6d2c7aebdf50","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:08.2367146+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"29102cb0f8f7fabbe7ae4cb7a8a005e7","SpanId":"6ade6d2c7aebdf50","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:08.2377658+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"29102cb0f8f7fabbe7ae4cb7a8a005e7","SpanId":"6ade6d2c7aebdf50","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:08.2389993+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"29102cb0f8f7fabbe7ae4cb7a8a005e7","SpanId":"6ade6d2c7aebdf50","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:08.2405799+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"29102cb0f8f7fabbe7ae4cb7a8a005e7","SpanId":"6ade6d2c7aebdf50","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_1 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:08.2411824+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"29102cb0f8f7fabbe7ae4cb7a8a005e7","SpanId":"6ade6d2c7aebdf50","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:08.2414384+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"29102cb0f8f7fabbe7ae4cb7a8a005e7","SpanId":"6ade6d2c7aebdf50","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.0637,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:08.2416441+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"29102cb0f8f7fabbe7ae4cb7a8a005e7","SpanId":"6ade6d2c7aebdf50","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:08.2418572+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"29102cb0f8f7fabbe7ae4cb7a8a005e7","SpanId":"6ade6d2c7aebdf50","Properties":{"ElapsedMilliseconds":8.9633,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.0210593+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f4de4b31e1576e0a745400adddf6b727","SpanId":"67b389d23ead279a","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/sendMsgToChat","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000011","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.0215483+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f4de4b31e1576e0a745400adddf6b727","SpanId":"67b389d23ead279a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000011","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.0217418+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f4de4b31e1576e0a745400adddf6b727","SpanId":"67b389d23ead279a","Properties":{"ElapsedMilliseconds":0.6847,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/sendMsgToChat","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000011","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.0244255+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ae1152ff0c0cc053cd03b76d9263b547","SpanId":"2e5de8788b129773","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":42,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/sendMsgToChat","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000012","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.0247722+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ae1152ff0c0cc053cd03b76d9263b547","SpanId":"2e5de8788b129773","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000012","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.0261947+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae1152ff0c0cc053cd03b76d9263b547","SpanId":"2e5de8788b129773","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:00000012","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.0266891+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ae1152ff0c0cc053cd03b76d9263b547","SpanId":"2e5de8788b129773","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000012","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.0269096+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ae1152ff0c0cc053cd03b76d9263b547","SpanId":"2e5de8788b129773","Properties":{"RouteData":"{action = \"SendMsgToChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendMsgToChatAsync(MessagingApp.DTO.SendChatMsgDTO)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7f2275e9-3fe1-442d-8888-ca92640aac15","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000012","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.0282716+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae1152ff0c0cc053cd03b76d9263b547","SpanId":"2e5de8788b129773","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7f2275e9-3fe1-442d-8888-ca92640aac15","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000012","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.0287019+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"ae1152ff0c0cc053cd03b76d9263b547","SpanId":"2e5de8788b129773","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"7f2275e9-3fe1-442d-8888-ca92640aac15","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000012","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:11.0288360+03:00","Level":"Information","MessageTemplate":"Attempting to send a message to chat","TraceId":"ae1152ff0c0cc053cd03b76d9263b547","SpanId":"2e5de8788b129773","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"7f2275e9-3fe1-442d-8888-ca92640aac15","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000012","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:11.0297570+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae1152ff0c0cc053cd03b76d9263b547","SpanId":"2e5de8788b129773","Properties":{"elapsed":"1","parameters":"@__userid_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__userid_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"7f2275e9-3fe1-442d-8888-ca92640aac15","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000012","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:11.0309226+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae1152ff0c0cc053cd03b76d9263b547","SpanId":"2e5de8788b129773","Properties":{"elapsed":"1","parameters":"@__scmDTO_ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__scmDTO_ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"7f2275e9-3fe1-442d-8888-ca92640aac15","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000012","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:11.0321410+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae1152ff0c0cc053cd03b76d9263b547","SpanId":"2e5de8788b129773","Properties":{"elapsed":"0","parameters":"@__scmDTO_ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\nFROM \"Chats\" AS c\nWHERE c.\"ID\" = @__scmDTO_ChatID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"7f2275e9-3fe1-442d-8888-ca92640aac15","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000012","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:11.0375540+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae1152ff0c0cc053cd03b76d9263b547","SpanId":"2e5de8788b129773","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"Messages\" (\"ChatID\", \"DestinationID\", \"OriginID\", \"Text\", \"Timestamp\", \"chatID\", \"isRead\")\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"7f2275e9-3fe1-442d-8888-ca92640aac15","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000012","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:11.0383205+03:00","Level":"Information","MessageTemplate":"Message sent","TraceId":"ae1152ff0c0cc053cd03b76d9263b547","SpanId":"2e5de8788b129773","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"7f2275e9-3fe1-442d-8888-ca92640aac15","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000012","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:11.0384976+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ae1152ff0c0cc053cd03b76d9263b547","SpanId":"2e5de8788b129773","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7f2275e9-3fe1-442d-8888-ca92640aac15","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000012","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.0388102+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ae1152ff0c0cc053cd03b76d9263b547","SpanId":"2e5de8788b129773","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","ElapsedMilliseconds":11.6157,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:00000012","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.0389730+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ae1152ff0c0cc053cd03b76d9263b547","SpanId":"2e5de8788b129773","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000012","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.0391634+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ae1152ff0c0cc053cd03b76d9263b547","SpanId":"2e5de8788b129773","Properties":{"ElapsedMilliseconds":14.7385,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/sendMsgToChat","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000012","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.2330453+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c1a91cff91fc2916c6e872536e720e9e","SpanId":"59acc09148877a00","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.2334456+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c1a91cff91fc2916c6e872536e720e9e","SpanId":"59acc09148877a00","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.2336045+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c1a91cff91fc2916c6e872536e720e9e","SpanId":"59acc09148877a00","Properties":{"ElapsedMilliseconds":0.5758,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.2358586+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9bf69f9f5dd1e649e21d79dae69ad493","SpanId":"276b3ba9037691cc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.2361948+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9bf69f9f5dd1e649e21d79dae69ad493","SpanId":"276b3ba9037691cc","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.2378291+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9bf69f9f5dd1e649e21d79dae69ad493","SpanId":"276b3ba9037691cc","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.2382244+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9bf69f9f5dd1e649e21d79dae69ad493","SpanId":"276b3ba9037691cc","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.2384719+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9bf69f9f5dd1e649e21d79dae69ad493","SpanId":"276b3ba9037691cc","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.2389251+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"9bf69f9f5dd1e649e21d79dae69ad493","SpanId":"276b3ba9037691cc","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.2398041+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9bf69f9f5dd1e649e21d79dae69ad493","SpanId":"276b3ba9037691cc","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.2401706+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"9bf69f9f5dd1e649e21d79dae69ad493","SpanId":"276b3ba9037691cc","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:11.2411558+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9bf69f9f5dd1e649e21d79dae69ad493","SpanId":"276b3ba9037691cc","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:11.2422765+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9bf69f9f5dd1e649e21d79dae69ad493","SpanId":"276b3ba9037691cc","Properties":{"elapsed":"0","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:11.2436084+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9bf69f9f5dd1e649e21d79dae69ad493","SpanId":"276b3ba9037691cc","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_1 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:11.2440931+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9bf69f9f5dd1e649e21d79dae69ad493","SpanId":"276b3ba9037691cc","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.2443928+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9bf69f9f5dd1e649e21d79dae69ad493","SpanId":"276b3ba9037691cc","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":5.6822,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.2446197+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9bf69f9f5dd1e649e21d79dae69ad493","SpanId":"276b3ba9037691cc","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:11.2449501+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9bf69f9f5dd1e649e21d79dae69ad493","SpanId":"276b3ba9037691cc","Properties":{"ElapsedMilliseconds":9.0792,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:14.2330910+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8bf481672768d61171bb818c7e20be42","SpanId":"4aac71e5ae0a32e1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:14.2334420+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"8bf481672768d61171bb818c7e20be42","SpanId":"4aac71e5ae0a32e1","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:14.2347723+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8bf481672768d61171bb818c7e20be42","SpanId":"4aac71e5ae0a32e1","Properties":{"elapsed":"0","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:14.2351573+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8bf481672768d61171bb818c7e20be42","SpanId":"4aac71e5ae0a32e1","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:14.2353618+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8bf481672768d61171bb818c7e20be42","SpanId":"4aac71e5ae0a32e1","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:14.2358874+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"8bf481672768d61171bb818c7e20be42","SpanId":"4aac71e5ae0a32e1","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:14.2366950+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8bf481672768d61171bb818c7e20be42","SpanId":"4aac71e5ae0a32e1","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:14.2371057+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"8bf481672768d61171bb818c7e20be42","SpanId":"4aac71e5ae0a32e1","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:14.2381737+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8bf481672768d61171bb818c7e20be42","SpanId":"4aac71e5ae0a32e1","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:14.2392989+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8bf481672768d61171bb818c7e20be42","SpanId":"4aac71e5ae0a32e1","Properties":{"elapsed":"0","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:14.2407549+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8bf481672768d61171bb818c7e20be42","SpanId":"4aac71e5ae0a32e1","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_1 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:14.2413523+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8bf481672768d61171bb818c7e20be42","SpanId":"4aac71e5ae0a32e1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:14.2416016+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8bf481672768d61171bb818c7e20be42","SpanId":"4aac71e5ae0a32e1","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":5.912,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:14.2418598+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8bf481672768d61171bb818c7e20be42","SpanId":"4aac71e5ae0a32e1","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:14.2420810+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8bf481672768d61171bb818c7e20be42","SpanId":"4aac71e5ae0a32e1","Properties":{"ElapsedMilliseconds":8.9883,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=10&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:15.0346154+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5158c7eef6643c27f258dccb44b11382","SpanId":"263923163e0867db","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR4:00000005","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:08:15.0350480+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"5158c7eef6643c27f258dccb44b11382","SpanId":"263923163e0867db","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR4:00000005","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:08:15.0352470+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5158c7eef6643c27f258dccb44b11382","SpanId":"263923163e0867db","Properties":{"ElapsedMilliseconds":0.6313,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR4:00000005","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:08:15.0376129+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3cf1f3aedee02d6f69f3a944664d4594","SpanId":"309dc9097ba33fb7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR4:00000006","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:08:15.0379793+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"3cf1f3aedee02d6f69f3a944664d4594","SpanId":"309dc9097ba33fb7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR4:00000006","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:08:15.0399809+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3cf1f3aedee02d6f69f3a944664d4594","SpanId":"309dc9097ba33fb7","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR4:00000006","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:08:15.0406071+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3cf1f3aedee02d6f69f3a944664d4594","SpanId":"309dc9097ba33fb7","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR4:00000006","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:08:15.0411647+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3cf1f3aedee02d6f69f3a944664d4594","SpanId":"309dc9097ba33fb7","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b2139b84-1c18-48d3-966d-bb0ee7314c3c","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFADC1QQTR4:00000006","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:08:15.0423414+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3cf1f3aedee02d6f69f3a944664d4594","SpanId":"309dc9097ba33fb7","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b2139b84-1c18-48d3-966d-bb0ee7314c3c","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFADC1QQTR4:00000006","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:08:15.0428135+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"3cf1f3aedee02d6f69f3a944664d4594","SpanId":"309dc9097ba33fb7","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"b2139b84-1c18-48d3-966d-bb0ee7314c3c","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFADC1QQTR4:00000006","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:15.0430838+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"3cf1f3aedee02d6f69f3a944664d4594","SpanId":"309dc9097ba33fb7","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"b2139b84-1c18-48d3-966d-bb0ee7314c3c","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFADC1QQTR4:00000006","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:15.0432715+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"3cf1f3aedee02d6f69f3a944664d4594","SpanId":"309dc9097ba33fb7","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"b2139b84-1c18-48d3-966d-bb0ee7314c3c","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFADC1QQTR4:00000006","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:15.0436994+03:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"3cf1f3aedee02d6f69f3a944664d4594","SpanId":"309dc9097ba33fb7","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"b2139b84-1c18-48d3-966d-bb0ee7314c3c","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFADC1QQTR4:00000006","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:08:15.0439026+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3cf1f3aedee02d6f69f3a944664d4594","SpanId":"309dc9097ba33fb7","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":2.4408,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR4:00000006","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:08:15.0441553+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3cf1f3aedee02d6f69f3a944664d4594","SpanId":"309dc9097ba33fb7","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR4:00000006","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:08:15.0444640+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3cf1f3aedee02d6f69f3a944664d4594","SpanId":"309dc9097ba33fb7","Properties":{"ElapsedMilliseconds":6.7962,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR4:00000006","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:08:15.0643178+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"96a1f5ca3bae5d124f4d87d9e630a6ae","SpanId":"4eaabc47c671d433","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000016","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:15.0647389+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"96a1f5ca3bae5d124f4d87d9e630a6ae","SpanId":"4eaabc47c671d433","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000016","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:15.0649405+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"96a1f5ca3bae5d124f4d87d9e630a6ae","SpanId":"4eaabc47c671d433","Properties":{"ElapsedMilliseconds":0.6234,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000016","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:15.0726436+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7989469ded63a7592ea49844dd215be2","SpanId":"42b682190aa5484c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000017","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:15.0730561+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"7989469ded63a7592ea49844dd215be2","SpanId":"42b682190aa5484c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000017","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:15.0748437+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7989469ded63a7592ea49844dd215be2","SpanId":"42b682190aa5484c","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:00000017","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:15.0753547+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7989469ded63a7592ea49844dd215be2","SpanId":"42b682190aa5484c","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000017","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:15.0758978+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7989469ded63a7592ea49844dd215be2","SpanId":"42b682190aa5484c","Properties":{"RouteData":"{action = \"GetUserChats\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Int64]]] GetUserChatsAsync()","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000017","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:15.0764522+03:00","Level":"Information","MessageTemplate":"Initiated chats retrieval by 192.168.31.243:6865","TraceId":"7989469ded63a7592ea49844dd215be2","SpanId":"42b682190aa5484c","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000017","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:15.0774696+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7989469ded63a7592ea49844dd215be2","SpanId":"42b682190aa5484c","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000017","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:15.0790110+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7989469ded63a7592ea49844dd215be2","SpanId":"42b682190aa5484c","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u1.\"ID\", u1.\"PasswordHash\", u1.\"Role\", u1.\"Username\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"Name\", s.\"OwnerID\"\nFROM (\n    SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\n    FROM \"Users\" AS u\n    WHERE u.\"ID\" = @__UserID_0\n    LIMIT 1\n) AS u1\nLEFT JOIN (\n    SELECT u0.\"ChatID\", u0.\"UserID\", c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"UserChatJoinTable\" AS u0\n    INNER JOIN \"Chats\" AS c ON u0.\"ChatID\" = c.\"ID\"\n) AS s ON u1.\"ID\" = s.\"UserID\"\nORDER BY u1.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000017","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:15.0797983+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7989469ded63a7592ea49844dd215be2","SpanId":"42b682190aa5484c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.UserChatsDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000017","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:15.0802598+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7989469ded63a7592ea49844dd215be2","SpanId":"42b682190aa5484c","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","ElapsedMilliseconds":3.9077,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:00000017","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:15.0804907+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7989469ded63a7592ea49844dd215be2","SpanId":"42b682190aa5484c","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000017","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:15.0808031+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7989469ded63a7592ea49844dd215be2","SpanId":"42b682190aa5484c","Properties":{"ElapsedMilliseconds":8.1323,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000017","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:16.9479904+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"34723b56f897bb06459fdb024e98ce75","SpanId":"11b3aeda0815730b","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=35","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000018","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:16.9483919+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"88b2795f0e739174d227f09d1f3a8ca9","SpanId":"1290e24dad8b370d","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:08:16.9485087+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"34723b56f897bb06459fdb024e98ce75","SpanId":"11b3aeda0815730b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000018","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:16.9488523+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"88b2795f0e739174d227f09d1f3a8ca9","SpanId":"1290e24dad8b370d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:08:16.9490403+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"34723b56f897bb06459fdb024e98ce75","SpanId":"11b3aeda0815730b","Properties":{"ElapsedMilliseconds":1.0346,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=35","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000018","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:16.9491352+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"88b2795f0e739174d227f09d1f3a8ca9","SpanId":"1290e24dad8b370d","Properties":{"ElapsedMilliseconds":0.7443,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:08:16.9536500+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e5352b195ecefd1e15cb6c28d6649cc1","SpanId":"e751acc450576037","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=35","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000000A","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:08:16.9538260+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5d5ddfdcd8acbd77d5a5ff10d32fe739","SpanId":"9f2e4328d80cd42b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:16.9547056+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e5352b195ecefd1e15cb6c28d6649cc1","SpanId":"e751acc450576037","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000000A","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:08:16.9548025+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"5d5ddfdcd8acbd77d5a5ff10d32fe739","SpanId":"9f2e4328d80cd42b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:16.9562635+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e5352b195ecefd1e15cb6c28d6649cc1","SpanId":"e751acc450576037","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:0000000A","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:08:16.9562635+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d5ddfdcd8acbd77d5a5ff10d32fe739","SpanId":"9f2e4328d80cd42b","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:16.9568323+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e5352b195ecefd1e15cb6c28d6649cc1","SpanId":"e751acc450576037","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000000A","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:08:16.9568425+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5d5ddfdcd8acbd77d5a5ff10d32fe739","SpanId":"9f2e4328d80cd42b","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:16.9571109+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e5352b195ecefd1e15cb6c28d6649cc1","SpanId":"e751acc450576037","Properties":{"RouteData":"{action = \"getChatMemebers\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] getChatMemebersAsync(System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000A","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:08:16.9572350+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5d5ddfdcd8acbd77d5a5ff10d32fe739","SpanId":"9f2e4328d80cd42b","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:16.9581878+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b3d475ccb8cd80fb8f9f2f7f60e99208","SpanId":"c28b1e6ff9016e86","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR7:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:08:16.9586089+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e5352b195ecefd1e15cb6c28d6649cc1","SpanId":"e751acc450576037","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000A","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:08:16.9586555+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b3d475ccb8cd80fb8f9f2f7f60e99208","SpanId":"c28b1e6ff9016e86","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR7:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:08:16.9587798+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"5d5ddfdcd8acbd77d5a5ff10d32fe739","SpanId":"9f2e4328d80cd42b","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:16.9590547+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"e5352b195ecefd1e15cb6c28d6649cc1","SpanId":"e751acc450576037","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000A","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:16.9592833+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b3d475ccb8cd80fb8f9f2f7f60e99208","SpanId":"c28b1e6ff9016e86","Properties":{"ElapsedMilliseconds":1.0896,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR7:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:08:16.9593715+03:00","Level":"Information","MessageTemplate":"Attempting to get chat members","TraceId":"e5352b195ecefd1e15cb6c28d6649cc1","SpanId":"e751acc450576037","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000A","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:16.9602179+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d5ddfdcd8acbd77d5a5ff10d32fe739","SpanId":"9f2e4328d80cd42b","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:16.9607342+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"5d5ddfdcd8acbd77d5a5ff10d32fe739","SpanId":"9f2e4328d80cd42b","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:16.9612759+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e5352b195ecefd1e15cb6c28d6649cc1","SpanId":"e751acc450576037","Properties":{"elapsed":"1","parameters":"@__chatId_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__chatId_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000A","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:16.9619026+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e5352b195ecefd1e15cb6c28d6649cc1","SpanId":"e751acc450576037","Properties":{"ObjectResultType":"ObjectResult","Type":"System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000A","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:08:16.9621173+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d5ddfdcd8acbd77d5a5ff10d32fe739","SpanId":"9f2e4328d80cd42b","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:16.9623037+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e5352b195ecefd1e15cb6c28d6649cc1","SpanId":"e751acc450576037","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","ElapsedMilliseconds":4.8183,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:0000000A","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:08:16.9624426+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f5fe532247863190e031cdd4335fd82f","SpanId":"30fdc707d1bb1625","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR7:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:08:16.9625538+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e5352b195ecefd1e15cb6c28d6649cc1","SpanId":"e751acc450576037","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000000A","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:08:16.9627085+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f5fe532247863190e031cdd4335fd82f","SpanId":"30fdc707d1bb1625","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR7:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:08:16.9628386+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e5352b195ecefd1e15cb6c28d6649cc1","SpanId":"e751acc450576037","Properties":{"ElapsedMilliseconds":9.2354,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=35","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000000A","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:08:16.9634953+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d5ddfdcd8acbd77d5a5ff10d32fe739","SpanId":"9f2e4328d80cd42b","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:16.9646611+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f5fe532247863190e031cdd4335fd82f","SpanId":"30fdc707d1bb1625","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR7:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:08:16.9651269+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f5fe532247863190e031cdd4335fd82f","SpanId":"30fdc707d1bb1625","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR7:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:08:16.9654524+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f5fe532247863190e031cdd4335fd82f","SpanId":"30fdc707d1bb1625","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:08:16.9655549+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d5ddfdcd8acbd77d5a5ff10d32fe739","SpanId":"9f2e4328d80cd42b","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:16.9661786+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"f5fe532247863190e031cdd4335fd82f","SpanId":"30fdc707d1bb1625","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:08:16.9670936+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f5fe532247863190e031cdd4335fd82f","SpanId":"30fdc707d1bb1625","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:08:16.9675348+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"f5fe532247863190e031cdd4335fd82f","SpanId":"30fdc707d1bb1625","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:16.9685326+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f5fe532247863190e031cdd4335fd82f","SpanId":"30fdc707d1bb1625","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:16.9696954+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f5fe532247863190e031cdd4335fd82f","SpanId":"30fdc707d1bb1625","Properties":{"elapsed":"0","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:16.9712267+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f5fe532247863190e031cdd4335fd82f","SpanId":"30fdc707d1bb1625","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:16.9731054+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f5fe532247863190e031cdd4335fd82f","SpanId":"30fdc707d1bb1625","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:08:16.9734002+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f5fe532247863190e031cdd4335fd82f","SpanId":"30fdc707d1bb1625","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":7.5324,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR7:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:08:16.9735842+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f5fe532247863190e031cdd4335fd82f","SpanId":"30fdc707d1bb1625","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR7:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:08:16.9738194+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f5fe532247863190e031cdd4335fd82f","SpanId":"30fdc707d1bb1625","Properties":{"ElapsedMilliseconds":11.3757,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR7:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:08:16.9880466+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d5ddfdcd8acbd77d5a5ff10d32fe739","SpanId":"9f2e4328d80cd42b","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p5='?' (DbType = Int64), @p4='?' (DbType = Boolean), @p7='?' (DbType = Int64), @p6='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"MessageReadUsers\" (\"MessageId\", \"UserId\")\nVALUES (@p0, @p1);\nINSERT INTO \"MessageReadUsers\" (\"MessageId\", \"UserId\")\nVALUES (@p2, @p3);\nUPDATE \"Messages\" SET \"isRead\" = @p4\nWHERE \"ID\" = @p5;\nUPDATE \"Messages\" SET \"isRead\" = @p6\nWHERE \"ID\" = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:16.9905014+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5d5ddfdcd8acbd77d5a5ff10d32fe739","SpanId":"9f2e4328d80cd42b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:16.9928459+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5d5ddfdcd8acbd77d5a5ff10d32fe739","SpanId":"9f2e4328d80cd42b","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":34.4049,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:16.9930987+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5d5ddfdcd8acbd77d5a5ff10d32fe739","SpanId":"9f2e4328d80cd42b","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:16.9933706+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5d5ddfdcd8acbd77d5a5ff10d32fe739","SpanId":"9f2e4328d80cd42b","Properties":{"ElapsedMilliseconds":39.5436,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:19.9586021+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a270539b6d1503015105969f0458f144","SpanId":"9cfd1f7f8d641830","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:19.9590023+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a270539b6d1503015105969f0458f144","SpanId":"9cfd1f7f8d641830","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:19.9609733+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a270539b6d1503015105969f0458f144","SpanId":"9cfd1f7f8d641830","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:19.9615463+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a270539b6d1503015105969f0458f144","SpanId":"9cfd1f7f8d641830","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:19.9617991+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a270539b6d1503015105969f0458f144","SpanId":"9cfd1f7f8d641830","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:19.9622139+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"a270539b6d1503015105969f0458f144","SpanId":"9cfd1f7f8d641830","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:19.9630220+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a270539b6d1503015105969f0458f144","SpanId":"9cfd1f7f8d641830","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:19.9633367+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"a270539b6d1503015105969f0458f144","SpanId":"9cfd1f7f8d641830","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:19.9643311+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a270539b6d1503015105969f0458f144","SpanId":"9cfd1f7f8d641830","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:19.9653791+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a270539b6d1503015105969f0458f144","SpanId":"9cfd1f7f8d641830","Properties":{"elapsed":"0","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:19.9667760+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a270539b6d1503015105969f0458f144","SpanId":"9cfd1f7f8d641830","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:19.9686682+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a270539b6d1503015105969f0458f144","SpanId":"9cfd1f7f8d641830","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:19.9689598+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a270539b6d1503015105969f0458f144","SpanId":"9cfd1f7f8d641830","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.9429,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:19.9691196+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a270539b6d1503015105969f0458f144","SpanId":"9cfd1f7f8d641830","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:19.9693943+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a270539b6d1503015105969f0458f144","SpanId":"9cfd1f7f8d641830","Properties":{"ElapsedMilliseconds":10.7966,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:22.9593275+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d8b359f4d4c44f8f27481cae7dc64273","SpanId":"20508bb9f5a97514","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:22.9597645+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d8b359f4d4c44f8f27481cae7dc64273","SpanId":"20508bb9f5a97514","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:22.9599691+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d8b359f4d4c44f8f27481cae7dc64273","SpanId":"20508bb9f5a97514","Properties":{"ElapsedMilliseconds":0.6411,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:22.9625714+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"239e5e8c0103e2cb1b27d9dfddcf62e8","SpanId":"ad9584a3a91a8541","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:22.9629035+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"239e5e8c0103e2cb1b27d9dfddcf62e8","SpanId":"ad9584a3a91a8541","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:22.9642567+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"239e5e8c0103e2cb1b27d9dfddcf62e8","SpanId":"ad9584a3a91a8541","Properties":{"elapsed":"0","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:22.9647030+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"239e5e8c0103e2cb1b27d9dfddcf62e8","SpanId":"ad9584a3a91a8541","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:22.9649143+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"239e5e8c0103e2cb1b27d9dfddcf62e8","SpanId":"ad9584a3a91a8541","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:22.9653188+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"239e5e8c0103e2cb1b27d9dfddcf62e8","SpanId":"ad9584a3a91a8541","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:22.9661271+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"239e5e8c0103e2cb1b27d9dfddcf62e8","SpanId":"ad9584a3a91a8541","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:22.9665134+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"239e5e8c0103e2cb1b27d9dfddcf62e8","SpanId":"ad9584a3a91a8541","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:22.9675500+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"239e5e8c0103e2cb1b27d9dfddcf62e8","SpanId":"ad9584a3a91a8541","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:22.9685187+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"239e5e8c0103e2cb1b27d9dfddcf62e8","SpanId":"ad9584a3a91a8541","Properties":{"elapsed":"0","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:22.9699845+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"239e5e8c0103e2cb1b27d9dfddcf62e8","SpanId":"ad9584a3a91a8541","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:22.9708034+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"239e5e8c0103e2cb1b27d9dfddcf62e8","SpanId":"ad9584a3a91a8541","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:22.9710702+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"239e5e8c0103e2cb1b27d9dfddcf62e8","SpanId":"ad9584a3a91a8541","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":5.9808,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:22.9712447+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"239e5e8c0103e2cb1b27d9dfddcf62e8","SpanId":"ad9584a3a91a8541","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:22.9714211+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"239e5e8c0103e2cb1b27d9dfddcf62e8","SpanId":"ad9584a3a91a8541","Properties":{"ElapsedMilliseconds":8.8514,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:25.9582454+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4638274b7d0adfa662235d11fa290964","SpanId":"997bc8b71274bd72","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:25.9587225+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"4638274b7d0adfa662235d11fa290964","SpanId":"997bc8b71274bd72","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:25.9600414+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4638274b7d0adfa662235d11fa290964","SpanId":"997bc8b71274bd72","Properties":{"elapsed":"0","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:25.9604874+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4638274b7d0adfa662235d11fa290964","SpanId":"997bc8b71274bd72","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:25.9606823+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4638274b7d0adfa662235d11fa290964","SpanId":"997bc8b71274bd72","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:25.9610388+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"4638274b7d0adfa662235d11fa290964","SpanId":"997bc8b71274bd72","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:25.9618715+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4638274b7d0adfa662235d11fa290964","SpanId":"997bc8b71274bd72","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:25.9622618+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"4638274b7d0adfa662235d11fa290964","SpanId":"997bc8b71274bd72","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:25.9632247+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4638274b7d0adfa662235d11fa290964","SpanId":"997bc8b71274bd72","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:25.9643947+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4638274b7d0adfa662235d11fa290964","SpanId":"997bc8b71274bd72","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:25.9660399+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4638274b7d0adfa662235d11fa290964","SpanId":"997bc8b71274bd72","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:25.9674559+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4638274b7d0adfa662235d11fa290964","SpanId":"997bc8b71274bd72","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:25.9679047+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4638274b7d0adfa662235d11fa290964","SpanId":"997bc8b71274bd72","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":7.0307,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:25.9681814+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4638274b7d0adfa662235d11fa290964","SpanId":"997bc8b71274bd72","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:25.9684227+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4638274b7d0adfa662235d11fa290964","SpanId":"997bc8b71274bd72","Properties":{"ElapsedMilliseconds":10.168,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:28.9577999+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bcf0c1363d00ee04ba9d33f0cb2ef2b2","SpanId":"d0539640ebbb6ea3","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:28.9581671+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"bcf0c1363d00ee04ba9d33f0cb2ef2b2","SpanId":"d0539640ebbb6ea3","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:28.9583425+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bcf0c1363d00ee04ba9d33f0cb2ef2b2","SpanId":"d0539640ebbb6ea3","Properties":{"ElapsedMilliseconds":0.5455,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:28.9607379+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2a5b279d734a5e7314e4126bca2cb82c","SpanId":"33410582c6247c7c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:28.9610638+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"2a5b279d734a5e7314e4126bca2cb82c","SpanId":"33410582c6247c7c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:28.9626606+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2a5b279d734a5e7314e4126bca2cb82c","SpanId":"33410582c6247c7c","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:28.9631981+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2a5b279d734a5e7314e4126bca2cb82c","SpanId":"33410582c6247c7c","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:28.9634916+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2a5b279d734a5e7314e4126bca2cb82c","SpanId":"33410582c6247c7c","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:28.9639832+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"2a5b279d734a5e7314e4126bca2cb82c","SpanId":"33410582c6247c7c","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:28.9649529+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2a5b279d734a5e7314e4126bca2cb82c","SpanId":"33410582c6247c7c","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:28.9653716+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"2a5b279d734a5e7314e4126bca2cb82c","SpanId":"33410582c6247c7c","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:28.9665762+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2a5b279d734a5e7314e4126bca2cb82c","SpanId":"33410582c6247c7c","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:28.9678743+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2a5b279d734a5e7314e4126bca2cb82c","SpanId":"33410582c6247c7c","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:28.9704243+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2a5b279d734a5e7314e4126bca2cb82c","SpanId":"33410582c6247c7c","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:28.9713448+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2a5b279d734a5e7314e4126bca2cb82c","SpanId":"33410582c6247c7c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:28.9716725+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2a5b279d734a5e7314e4126bca2cb82c","SpanId":"33410582c6247c7c","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":7.913,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:28.9718802+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2a5b279d734a5e7314e4126bca2cb82c","SpanId":"33410582c6247c7c","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:28.9720874+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2a5b279d734a5e7314e4126bca2cb82c","SpanId":"33410582c6247c7c","Properties":{"ElapsedMilliseconds":11.3486,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:31.9586986+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6038383c0b1b09b294db08d6418c9563","SpanId":"570a14033c904aaa","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:31.9590812+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"6038383c0b1b09b294db08d6418c9563","SpanId":"570a14033c904aaa","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:31.9603882+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6038383c0b1b09b294db08d6418c9563","SpanId":"570a14033c904aaa","Properties":{"elapsed":"0","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:31.9608187+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6038383c0b1b09b294db08d6418c9563","SpanId":"570a14033c904aaa","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:31.9609915+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6038383c0b1b09b294db08d6418c9563","SpanId":"570a14033c904aaa","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:31.9613678+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"6038383c0b1b09b294db08d6418c9563","SpanId":"570a14033c904aaa","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:31.9621568+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6038383c0b1b09b294db08d6418c9563","SpanId":"570a14033c904aaa","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:31.9625698+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"6038383c0b1b09b294db08d6418c9563","SpanId":"570a14033c904aaa","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:31.9635724+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6038383c0b1b09b294db08d6418c9563","SpanId":"570a14033c904aaa","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:31.9648801+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6038383c0b1b09b294db08d6418c9563","SpanId":"570a14033c904aaa","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:31.9665105+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6038383c0b1b09b294db08d6418c9563","SpanId":"570a14033c904aaa","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:31.9675913+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6038383c0b1b09b294db08d6418c9563","SpanId":"570a14033c904aaa","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:31.9679068+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6038383c0b1b09b294db08d6418c9563","SpanId":"570a14033c904aaa","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.6962,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:31.9680946+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6038383c0b1b09b294db08d6418c9563","SpanId":"570a14033c904aaa","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:31.9683029+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6038383c0b1b09b294db08d6418c9563","SpanId":"570a14033c904aaa","Properties":{"ElapsedMilliseconds":9.6213,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:34.9587622+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"60f5f3d05e57c9e0ca0691dbf890c735","SpanId":"42f1073507f3d358","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:34.9593532+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"60f5f3d05e57c9e0ca0691dbf890c735","SpanId":"42f1073507f3d358","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:34.9595809+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"60f5f3d05e57c9e0ca0691dbf890c735","SpanId":"42f1073507f3d358","Properties":{"ElapsedMilliseconds":0.8492,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:34.9620017+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b6f433fa211469df3a80b1c58ceab761","SpanId":"5d3b604b202e73cd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:34.9622886+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b6f433fa211469df3a80b1c58ceab761","SpanId":"5d3b604b202e73cd","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:34.9636724+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b6f433fa211469df3a80b1c58ceab761","SpanId":"5d3b604b202e73cd","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:34.9640591+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b6f433fa211469df3a80b1c58ceab761","SpanId":"5d3b604b202e73cd","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:34.9643309+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b6f433fa211469df3a80b1c58ceab761","SpanId":"5d3b604b202e73cd","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:34.9649142+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"b6f433fa211469df3a80b1c58ceab761","SpanId":"5d3b604b202e73cd","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:34.9658150+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b6f433fa211469df3a80b1c58ceab761","SpanId":"5d3b604b202e73cd","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:34.9661921+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"b6f433fa211469df3a80b1c58ceab761","SpanId":"5d3b604b202e73cd","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:34.9672113+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b6f433fa211469df3a80b1c58ceab761","SpanId":"5d3b604b202e73cd","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:34.9683127+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b6f433fa211469df3a80b1c58ceab761","SpanId":"5d3b604b202e73cd","Properties":{"elapsed":"0","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:34.9698530+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b6f433fa211469df3a80b1c58ceab761","SpanId":"5d3b604b202e73cd","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:34.9707300+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b6f433fa211469df3a80b1c58ceab761","SpanId":"5d3b604b202e73cd","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:34.9711832+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b6f433fa211469df3a80b1c58ceab761","SpanId":"5d3b604b202e73cd","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.6152,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:34.9713891+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b6f433fa211469df3a80b1c58ceab761","SpanId":"5d3b604b202e73cd","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:34.9716463+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b6f433fa211469df3a80b1c58ceab761","SpanId":"5d3b604b202e73cd","Properties":{"ElapsedMilliseconds":9.6321,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:37.9584866+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"647ef65f852fb3202bfaf813186d393d","SpanId":"4e6de29a04ba853b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:37.9588397+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"647ef65f852fb3202bfaf813186d393d","SpanId":"4e6de29a04ba853b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:37.9605007+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"647ef65f852fb3202bfaf813186d393d","SpanId":"4e6de29a04ba853b","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:37.9609065+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"647ef65f852fb3202bfaf813186d393d","SpanId":"4e6de29a04ba853b","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:37.9610942+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"647ef65f852fb3202bfaf813186d393d","SpanId":"4e6de29a04ba853b","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:37.9614900+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"647ef65f852fb3202bfaf813186d393d","SpanId":"4e6de29a04ba853b","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:37.9623093+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"647ef65f852fb3202bfaf813186d393d","SpanId":"4e6de29a04ba853b","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:37.9626584+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"647ef65f852fb3202bfaf813186d393d","SpanId":"4e6de29a04ba853b","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:37.9636492+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"647ef65f852fb3202bfaf813186d393d","SpanId":"4e6de29a04ba853b","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:37.9647837+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"647ef65f852fb3202bfaf813186d393d","SpanId":"4e6de29a04ba853b","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:37.9663781+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"647ef65f852fb3202bfaf813186d393d","SpanId":"4e6de29a04ba853b","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:08:37.9671330+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"647ef65f852fb3202bfaf813186d393d","SpanId":"4e6de29a04ba853b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:37.9673947+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"647ef65f852fb3202bfaf813186d393d","SpanId":"4e6de29a04ba853b","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.095,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:37.9675722+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"647ef65f852fb3202bfaf813186d393d","SpanId":"4e6de29a04ba853b","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:08:37.9677778+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"647ef65f852fb3202bfaf813186d393d","SpanId":"4e6de29a04ba853b","Properties":{"ElapsedMilliseconds":9.3071,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:04.9755472+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3ee76119e5f264c7436c42e29008ddd1","SpanId":"e4d0d0435bf045cb","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/newMember","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000024","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:04.9761954+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"3ee76119e5f264c7436c42e29008ddd1","SpanId":"e4d0d0435bf045cb","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000024","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:04.9765320+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3ee76119e5f264c7436c42e29008ddd1","SpanId":"e4d0d0435bf045cb","Properties":{"ElapsedMilliseconds":0.984,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/newMember","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000024","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:04.9789518+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f7608c74771fac58ca32bf17e48f95bc","SpanId":"38136b0c346adf78","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":61,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/newMember","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000025","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:04.9793265+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f7608c74771fac58ca32bf17e48f95bc","SpanId":"38136b0c346adf78","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000025","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:04.9811130+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7608c74771fac58ca32bf17e48f95bc","SpanId":"38136b0c346adf78","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:00000025","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:04.9816508+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f7608c74771fac58ca32bf17e48f95bc","SpanId":"38136b0c346adf78","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000025","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:04.9866180+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f7608c74771fac58ca32bf17e48f95bc","SpanId":"38136b0c346adf78","Properties":{"RouteData":"{action = \"AddMemberToChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMemberToChatAsync(MessagingApp.DTO.NewMemberChatDTO)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"21bc24fb-ef9c-42b0-a748-83fbac96dbee","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000025","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:04.9964866+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7608c74771fac58ca32bf17e48f95bc","SpanId":"38136b0c346adf78","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"21bc24fb-ef9c-42b0-a748-83fbac96dbee","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000025","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:04.9970432+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"f7608c74771fac58ca32bf17e48f95bc","SpanId":"38136b0c346adf78","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"21bc24fb-ef9c-42b0-a748-83fbac96dbee","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000025","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:04.9972187+03:00","Level":"Information","MessageTemplate":"Attempting to add all the members into chat \"35\"","TraceId":"f7608c74771fac58ca32bf17e48f95bc","SpanId":"38136b0c346adf78","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"21bc24fb-ef9c-42b0-a748-83fbac96dbee","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000025","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:05.0155361+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7608c74771fac58ca32bf17e48f95bc","SpanId":"38136b0c346adf78","Properties":{"elapsed":"1","parameters":"@__nmcDTO_ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__nmcDTO_ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"21bc24fb-ef9c-42b0-a748-83fbac96dbee","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000025","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:05.4018116+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7608c74771fac58ca32bf17e48f95bc","SpanId":"38136b0c346adf78","Properties":{"elapsed":"1","parameters":"@__username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u1.\"ID\", u1.\"PasswordHash\", u1.\"Role\", u1.\"Username\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"Name\", s.\"OwnerID\"\nFROM (\n    SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\n    FROM \"Users\" AS u\n    WHERE u.\"Username\" = @__username_0\n    LIMIT 1\n) AS u1\nLEFT JOIN (\n    SELECT u0.\"ChatID\", u0.\"UserID\", c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"UserChatJoinTable\" AS u0\n    INNER JOIN \"Chats\" AS c ON u0.\"ChatID\" = c.\"ID\"\n) AS s ON u1.\"ID\" = s.\"UserID\"\nORDER BY u1.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"21bc24fb-ef9c-42b0-a748-83fbac96dbee","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000025","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:05.4027827+03:00","Level":"Warning","MessageTemplate":"Some members may have not been added. Added 0 users","TraceId":"f7608c74771fac58ca32bf17e48f95bc","SpanId":"38136b0c346adf78","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"21bc24fb-ef9c-42b0-a748-83fbac96dbee","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000025","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:05.4031124+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f7608c74771fac58ca32bf17e48f95bc","SpanId":"38136b0c346adf78","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"21bc24fb-ef9c-42b0-a748-83fbac96dbee","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000025","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:05.4033676+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f7608c74771fac58ca32bf17e48f95bc","SpanId":"38136b0c346adf78","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","ElapsedMilliseconds":416.3633,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:00000025","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:05.4035721+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f7608c74771fac58ca32bf17e48f95bc","SpanId":"38136b0c346adf78","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000025","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:05.4037685+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f7608c74771fac58ca32bf17e48f95bc","SpanId":"38136b0c346adf78","Properties":{"ElapsedMilliseconds":424.8282,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/newMember","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000025","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:05.4075660+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2a59a83e35802e237c6fb59bcbc53d88","SpanId":"41d6917ecb0e7535","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=35","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000026","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:05.4081152+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"2a59a83e35802e237c6fb59bcbc53d88","SpanId":"41d6917ecb0e7535","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000026","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:05.4083612+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2a59a83e35802e237c6fb59bcbc53d88","SpanId":"41d6917ecb0e7535","Properties":{"ElapsedMilliseconds":0.8233,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=35","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000026","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:05.4107826+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8a6594f11309020a5be5858708938bbe","SpanId":"84e64d196c9995b7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=35","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000027","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:05.4110759+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"8a6594f11309020a5be5858708938bbe","SpanId":"84e64d196c9995b7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000027","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:05.4125377+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8a6594f11309020a5be5858708938bbe","SpanId":"84e64d196c9995b7","Properties":{"elapsed":"0","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:00000027","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:05.4129376+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8a6594f11309020a5be5858708938bbe","SpanId":"84e64d196c9995b7","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000027","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:05.4131331+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8a6594f11309020a5be5858708938bbe","SpanId":"84e64d196c9995b7","Properties":{"RouteData":"{action = \"getChatMemebers\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] getChatMemebersAsync(System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000027","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:05.4140355+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8a6594f11309020a5be5858708938bbe","SpanId":"84e64d196c9995b7","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000027","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:05.4144027+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"8a6594f11309020a5be5858708938bbe","SpanId":"84e64d196c9995b7","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000027","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:05.4145209+03:00","Level":"Information","MessageTemplate":"Attempting to get chat members","TraceId":"8a6594f11309020a5be5858708938bbe","SpanId":"84e64d196c9995b7","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000027","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:05.4154330+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8a6594f11309020a5be5858708938bbe","SpanId":"84e64d196c9995b7","Properties":{"elapsed":"1","parameters":"@__chatId_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__chatId_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000027","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:05.4159363+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8a6594f11309020a5be5858708938bbe","SpanId":"84e64d196c9995b7","Properties":{"ObjectResultType":"ObjectResult","Type":"System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000027","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:05.4161557+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8a6594f11309020a5be5858708938bbe","SpanId":"84e64d196c9995b7","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","ElapsedMilliseconds":2.8047,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:00000027","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:05.4163297+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8a6594f11309020a5be5858708938bbe","SpanId":"84e64d196c9995b7","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000027","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:05.4164989+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8a6594f11309020a5be5858708938bbe","SpanId":"84e64d196c9995b7","Properties":{"ElapsedMilliseconds":5.7154,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=35","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000027","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:12.1806597+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e294bc5dc8980457342823a7e24b929d","SpanId":"72b3092c87dd97f8","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR4:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:09:12.1812663+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e294bc5dc8980457342823a7e24b929d","SpanId":"72b3092c87dd97f8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR4:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:09:12.1817011+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e294bc5dc8980457342823a7e24b929d","SpanId":"72b3092c87dd97f8","Properties":{"ElapsedMilliseconds":1.0772,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR4:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFADC1QQTR4"}}
{"Timestamp":"2025-09-03T15:09:12.2182071+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d9e7b4e983e7ce8d8d9a5c73e8ba93dc","SpanId":"101aa9d90e38e9de","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000028","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:12.2185931+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d9e7b4e983e7ce8d8d9a5c73e8ba93dc","SpanId":"101aa9d90e38e9de","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000028","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:12.2187742+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d9e7b4e983e7ce8d8d9a5c73e8ba93dc","SpanId":"101aa9d90e38e9de","Properties":{"ElapsedMilliseconds":0.5977,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000028","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:12.2329450+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f0597a4fd0a303d6750439b8e34d1faf","SpanId":"c7649e3e37a991b6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000029","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:12.2333061+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f0597a4fd0a303d6750439b8e34d1faf","SpanId":"c7649e3e37a991b6","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:00000029","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:12.2354444+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f0597a4fd0a303d6750439b8e34d1faf","SpanId":"c7649e3e37a991b6","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:00000029","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:12.2358590+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f0597a4fd0a303d6750439b8e34d1faf","SpanId":"c7649e3e37a991b6","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000029","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:12.2360721+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f0597a4fd0a303d6750439b8e34d1faf","SpanId":"c7649e3e37a991b6","Properties":{"RouteData":"{action = \"GetUserChats\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Int64]]] GetUserChatsAsync()","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000029","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:12.2363094+03:00","Level":"Information","MessageTemplate":"Initiated chats retrieval by 192.168.31.243:6865","TraceId":"f0597a4fd0a303d6750439b8e34d1faf","SpanId":"c7649e3e37a991b6","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000029","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:12.2371166+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f0597a4fd0a303d6750439b8e34d1faf","SpanId":"c7649e3e37a991b6","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000029","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:12.2387576+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f0597a4fd0a303d6750439b8e34d1faf","SpanId":"c7649e3e37a991b6","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u1.\"ID\", u1.\"PasswordHash\", u1.\"Role\", u1.\"Username\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"Name\", s.\"OwnerID\"\nFROM (\n    SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\n    FROM \"Users\" AS u\n    WHERE u.\"ID\" = @__UserID_0\n    LIMIT 1\n) AS u1\nLEFT JOIN (\n    SELECT u0.\"ChatID\", u0.\"UserID\", c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"UserChatJoinTable\" AS u0\n    INNER JOIN \"Chats\" AS c ON u0.\"ChatID\" = c.\"ID\"\n) AS s ON u1.\"ID\" = s.\"UserID\"\nORDER BY u1.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000029","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:12.2394175+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f0597a4fd0a303d6750439b8e34d1faf","SpanId":"c7649e3e37a991b6","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.UserChatsDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8570d8c3-c203-4ba8-9849-45a1bd19cd7d","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:00000029","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:12.2397706+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f0597a4fd0a303d6750439b8e34d1faf","SpanId":"c7649e3e37a991b6","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","ElapsedMilliseconds":3.5067,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:00000029","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:12.2399739+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f0597a4fd0a303d6750439b8e34d1faf","SpanId":"c7649e3e37a991b6","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:00000029","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:12.2401556+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f0597a4fd0a303d6750439b8e34d1faf","SpanId":"c7649e3e37a991b6","Properties":{"ElapsedMilliseconds":7.2148,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:00000029","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:13.3000222+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a580a53fa5439b76ea1dcb9214e4f02b","SpanId":"ce7b4be5dc44bdac","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=35","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000002A","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:13.3004148+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a580a53fa5439b76ea1dcb9214e4f02b","SpanId":"ce7b4be5dc44bdac","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:0000002A","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:13.3004863+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"316be223c392a6dcf20fb60cc7c64f59","SpanId":"516dee84906c1f2d","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR7:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:09:13.3007022+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a580a53fa5439b76ea1dcb9214e4f02b","SpanId":"ce7b4be5dc44bdac","Properties":{"ElapsedMilliseconds":0.6762,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=35","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000002A","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:13.3008664+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"316be223c392a6dcf20fb60cc7c64f59","SpanId":"516dee84906c1f2d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR7:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:09:13.3012202+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"316be223c392a6dcf20fb60cc7c64f59","SpanId":"516dee84906c1f2d","Properties":{"ElapsedMilliseconds":0.756,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR7:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:09:13.3047356+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ffffddfce376c86688367effff73ca04","SpanId":"546bf6fd253dc1cd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=35","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000002B","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:13.3047899+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c68f6eb646457c3303b8be20a2a704fa","SpanId":"80ebd675485f5db8","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:13.3052045+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ffffddfce376c86688367effff73ca04","SpanId":"546bf6fd253dc1cd","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR6:0000002B","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:13.3052879+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c68f6eb646457c3303b8be20a2a704fa","SpanId":"80ebd675485f5db8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:13.3056229+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c68f6eb646457c3303b8be20a2a704fa","SpanId":"80ebd675485f5db8","Properties":{"ElapsedMilliseconds":0.8158,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:13.3063965+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0f4ec2cc259495cb08eb2d65a18edf4e","SpanId":"d5be41dddbf2ba6e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR7:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:09:13.3067561+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"0f4ec2cc259495cb08eb2d65a18edf4e","SpanId":"d5be41dddbf2ba6e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR7:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:09:13.3069115+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ffffddfce376c86688367effff73ca04","SpanId":"546bf6fd253dc1cd","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR6:0000002B","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:13.3072616+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ffffddfce376c86688367effff73ca04","SpanId":"546bf6fd253dc1cd","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:0000002B","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:13.3074764+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ffffddfce376c86688367effff73ca04","SpanId":"546bf6fd253dc1cd","Properties":{"RouteData":"{action = \"getChatMemebers\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] getChatMemebersAsync(System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000002B","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:13.3084809+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0f4ec2cc259495cb08eb2d65a18edf4e","SpanId":"d5be41dddbf2ba6e","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR7:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:09:13.3088424+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ffffddfce376c86688367effff73ca04","SpanId":"546bf6fd253dc1cd","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000002B","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:13.3090306+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0f4ec2cc259495cb08eb2d65a18edf4e","SpanId":"d5be41dddbf2ba6e","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR7:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:09:13.3092901+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"ffffddfce376c86688367effff73ca04","SpanId":"546bf6fd253dc1cd","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000002B","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:13.3093318+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0f4ec2cc259495cb08eb2d65a18edf4e","SpanId":"d5be41dddbf2ba6e","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:09:13.3095612+03:00","Level":"Information","MessageTemplate":"Attempting to get chat members","TraceId":"ffffddfce376c86688367effff73ca04","SpanId":"546bf6fd253dc1cd","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000002B","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:13.3095908+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6fc6b7897a6fbd418006e61caca9a72c","SpanId":"16471b7962f9ed3b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000000C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:13.3099184+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"6fc6b7897a6fbd418006e61caca9a72c","SpanId":"16471b7962f9ed3b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000000C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:13.3100509+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"0f4ec2cc259495cb08eb2d65a18edf4e","SpanId":"d5be41dddbf2ba6e","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:09:13.3115004+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ffffddfce376c86688367effff73ca04","SpanId":"546bf6fd253dc1cd","Properties":{"elapsed":"1","parameters":"@__chatId_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__chatId_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000002B","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:13.3118855+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fc6b7897a6fbd418006e61caca9a72c","SpanId":"16471b7962f9ed3b","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:0000000C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:13.3118845+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0f4ec2cc259495cb08eb2d65a18edf4e","SpanId":"d5be41dddbf2ba6e","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:09:13.3126565+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ffffddfce376c86688367effff73ca04","SpanId":"546bf6fd253dc1cd","Properties":{"ObjectResultType":"ObjectResult","Type":"System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR6:0000002B","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:13.3127645+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"0f4ec2cc259495cb08eb2d65a18edf4e","SpanId":"d5be41dddbf2ba6e","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:13.3128275+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6fc6b7897a6fbd418006e61caca9a72c","SpanId":"16471b7962f9ed3b","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000000C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:13.3133492+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ffffddfce376c86688367effff73ca04","SpanId":"546bf6fd253dc1cd","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","ElapsedMilliseconds":5.5714,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR6:0000002B","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:13.3139639+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6fc6b7897a6fbd418006e61caca9a72c","SpanId":"16471b7962f9ed3b","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:13.3140095+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ffffddfce376c86688367effff73ca04","SpanId":"546bf6fd253dc1cd","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR6:0000002B","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:13.3144472+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ffffddfce376c86688367effff73ca04","SpanId":"546bf6fd253dc1cd","Properties":{"ElapsedMilliseconds":9.7057,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=35","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR6:0000002B","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR6"}}
{"Timestamp":"2025-09-03T15:09:13.3144882+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"6fc6b7897a6fbd418006e61caca9a72c","SpanId":"16471b7962f9ed3b","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:13.3152953+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0f4ec2cc259495cb08eb2d65a18edf4e","SpanId":"d5be41dddbf2ba6e","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:13.3158577+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fc6b7897a6fbd418006e61caca9a72c","SpanId":"16471b7962f9ed3b","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:13.3162427+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"6fc6b7897a6fbd418006e61caca9a72c","SpanId":"16471b7962f9ed3b","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:13.3168072+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0f4ec2cc259495cb08eb2d65a18edf4e","SpanId":"d5be41dddbf2ba6e","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:13.3176467+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fc6b7897a6fbd418006e61caca9a72c","SpanId":"16471b7962f9ed3b","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:13.3188488+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0f4ec2cc259495cb08eb2d65a18edf4e","SpanId":"d5be41dddbf2ba6e","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:13.3196171+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fc6b7897a6fbd418006e61caca9a72c","SpanId":"16471b7962f9ed3b","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:13.3200091+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0f4ec2cc259495cb08eb2d65a18edf4e","SpanId":"d5be41dddbf2ba6e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR7:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:09:13.3203394+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0f4ec2cc259495cb08eb2d65a18edf4e","SpanId":"d5be41dddbf2ba6e","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":10.6474,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR7:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:09:13.3205173+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0f4ec2cc259495cb08eb2d65a18edf4e","SpanId":"d5be41dddbf2ba6e","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR7:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:09:13.3207289+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0f4ec2cc259495cb08eb2d65a18edf4e","SpanId":"d5be41dddbf2ba6e","Properties":{"ElapsedMilliseconds":14.3338,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR7:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR7"}}
{"Timestamp":"2025-09-03T15:09:13.3211683+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fc6b7897a6fbd418006e61caca9a72c","SpanId":"16471b7962f9ed3b","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:13.3217878+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6fc6b7897a6fbd418006e61caca9a72c","SpanId":"16471b7962f9ed3b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:13.3220205+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6fc6b7897a6fbd418006e61caca9a72c","SpanId":"16471b7962f9ed3b","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":7.7868,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:0000000C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:13.3222114+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6fc6b7897a6fbd418006e61caca9a72c","SpanId":"16471b7962f9ed3b","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000000C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:13.3225197+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6fc6b7897a6fbd418006e61caca9a72c","SpanId":"16471b7962f9ed3b","Properties":{"ElapsedMilliseconds":12.9279,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000000C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:16.3038825+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"54bd192c4c0010042b890f1316d58e1c","SpanId":"d7277cf19136bafe","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000000D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:16.3042598+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"54bd192c4c0010042b890f1316d58e1c","SpanId":"d7277cf19136bafe","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000000D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:16.3055901+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54bd192c4c0010042b890f1316d58e1c","SpanId":"d7277cf19136bafe","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:0000000D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:16.3059678+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"54bd192c4c0010042b890f1316d58e1c","SpanId":"d7277cf19136bafe","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000000D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:16.3061356+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"54bd192c4c0010042b890f1316d58e1c","SpanId":"d7277cf19136bafe","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:16.3065398+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"54bd192c4c0010042b890f1316d58e1c","SpanId":"d7277cf19136bafe","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:16.3072779+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54bd192c4c0010042b890f1316d58e1c","SpanId":"d7277cf19136bafe","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:16.3076016+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"54bd192c4c0010042b890f1316d58e1c","SpanId":"d7277cf19136bafe","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:16.3085517+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54bd192c4c0010042b890f1316d58e1c","SpanId":"d7277cf19136bafe","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:16.3097559+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54bd192c4c0010042b890f1316d58e1c","SpanId":"d7277cf19136bafe","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:16.3111573+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54bd192c4c0010042b890f1316d58e1c","SpanId":"d7277cf19136bafe","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:16.3118956+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"54bd192c4c0010042b890f1316d58e1c","SpanId":"d7277cf19136bafe","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:16.3121609+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"54bd192c4c0010042b890f1316d58e1c","SpanId":"d7277cf19136bafe","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":5.769,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:0000000D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:16.3123750+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"54bd192c4c0010042b890f1316d58e1c","SpanId":"d7277cf19136bafe","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000000D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:16.3125691+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"54bd192c4c0010042b890f1316d58e1c","SpanId":"d7277cf19136bafe","Properties":{"ElapsedMilliseconds":8.7045,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000000D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:19.3047943+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4e340f4d6bca0d097394daca76a1e43e","SpanId":"6d207be288cfc800","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000000E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:19.3053375+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"4e340f4d6bca0d097394daca76a1e43e","SpanId":"6d207be288cfc800","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000000E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:19.3055496+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4e340f4d6bca0d097394daca76a1e43e","SpanId":"6d207be288cfc800","Properties":{"ElapsedMilliseconds":0.7885,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000000E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:19.3085595+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7390c8f0d6005d6c12a75e930e017ca0","SpanId":"800a8008763a7b7b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:19.3089316+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"7390c8f0d6005d6c12a75e930e017ca0","SpanId":"800a8008763a7b7b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:19.3101761+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7390c8f0d6005d6c12a75e930e017ca0","SpanId":"800a8008763a7b7b","Properties":{"elapsed":"0","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:19.3106128+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7390c8f0d6005d6c12a75e930e017ca0","SpanId":"800a8008763a7b7b","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:19.3108891+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7390c8f0d6005d6c12a75e930e017ca0","SpanId":"800a8008763a7b7b","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:19.3112945+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"7390c8f0d6005d6c12a75e930e017ca0","SpanId":"800a8008763a7b7b","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:19.3121566+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7390c8f0d6005d6c12a75e930e017ca0","SpanId":"800a8008763a7b7b","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:19.3126227+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"7390c8f0d6005d6c12a75e930e017ca0","SpanId":"800a8008763a7b7b","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:19.3137771+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7390c8f0d6005d6c12a75e930e017ca0","SpanId":"800a8008763a7b7b","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:19.3148028+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7390c8f0d6005d6c12a75e930e017ca0","SpanId":"800a8008763a7b7b","Properties":{"elapsed":"0","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:19.3161245+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7390c8f0d6005d6c12a75e930e017ca0","SpanId":"800a8008763a7b7b","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:19.3169785+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7390c8f0d6005d6c12a75e930e017ca0","SpanId":"800a8008763a7b7b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:19.3172652+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7390c8f0d6005d6c12a75e930e017ca0","SpanId":"800a8008763a7b7b","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.1343,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:19.3175266+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7390c8f0d6005d6c12a75e930e017ca0","SpanId":"800a8008763a7b7b","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:19.3177646+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7390c8f0d6005d6c12a75e930e017ca0","SpanId":"800a8008763a7b7b","Properties":{"ElapsedMilliseconds":9.1982,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000000F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.4871016+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6a0e924271266a7cd88296295367c413","SpanId":"42578252de0b0d18","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/newMember","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000010","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.4874986+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"6a0e924271266a7cd88296295367c413","SpanId":"42578252de0b0d18","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000010","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.4877375+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6a0e924271266a7cd88296295367c413","SpanId":"42578252de0b0d18","Properties":{"ElapsedMilliseconds":0.6536,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/newMember","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000010","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.4905864+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"520b3fd11c588c2168c2efd5956a666e","SpanId":"da6e5d46fd9ce981","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":38,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/newMember","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000011","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.4908952+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"520b3fd11c588c2168c2efd5956a666e","SpanId":"da6e5d46fd9ce981","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000011","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.4924371+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"520b3fd11c588c2168c2efd5956a666e","SpanId":"da6e5d46fd9ce981","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000011","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.4928678+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"520b3fd11c588c2168c2efd5956a666e","SpanId":"da6e5d46fd9ce981","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000011","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.4931510+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"520b3fd11c588c2168c2efd5956a666e","SpanId":"da6e5d46fd9ce981","Properties":{"RouteData":"{action = \"AddMemberToChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMemberToChatAsync(MessagingApp.DTO.NewMemberChatDTO)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"21bc24fb-ef9c-42b0-a748-83fbac96dbee","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000011","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.4942524+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"520b3fd11c588c2168c2efd5956a666e","SpanId":"da6e5d46fd9ce981","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"21bc24fb-ef9c-42b0-a748-83fbac96dbee","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000011","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.4946426+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"520b3fd11c588c2168c2efd5956a666e","SpanId":"da6e5d46fd9ce981","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"21bc24fb-ef9c-42b0-a748-83fbac96dbee","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000011","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:21.4947767+03:00","Level":"Information","MessageTemplate":"Attempting to add all the members into chat \"35\"","TraceId":"520b3fd11c588c2168c2efd5956a666e","SpanId":"da6e5d46fd9ce981","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"21bc24fb-ef9c-42b0-a748-83fbac96dbee","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000011","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:21.4960094+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"520b3fd11c588c2168c2efd5956a666e","SpanId":"da6e5d46fd9ce981","Properties":{"elapsed":"1","parameters":"@__nmcDTO_ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__nmcDTO_ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"21bc24fb-ef9c-42b0-a748-83fbac96dbee","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000011","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:21.4973384+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"520b3fd11c588c2168c2efd5956a666e","SpanId":"da6e5d46fd9ce981","Properties":{"elapsed":"1","parameters":"@__username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u1.\"ID\", u1.\"PasswordHash\", u1.\"Role\", u1.\"Username\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"Name\", s.\"OwnerID\"\nFROM (\n    SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\n    FROM \"Users\" AS u\n    WHERE u.\"Username\" = @__username_0\n    LIMIT 1\n) AS u1\nLEFT JOIN (\n    SELECT u0.\"ChatID\", u0.\"UserID\", c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"UserChatJoinTable\" AS u0\n    INNER JOIN \"Chats\" AS c ON u0.\"ChatID\" = c.\"ID\"\n) AS s ON u1.\"ID\" = s.\"UserID\"\nORDER BY u1.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"21bc24fb-ef9c-42b0-a748-83fbac96dbee","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000011","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:21.4998949+03:00","Level":"Warning","MessageTemplate":"Some members may have not been added. Added 0 users","TraceId":"520b3fd11c588c2168c2efd5956a666e","SpanId":"da6e5d46fd9ce981","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"21bc24fb-ef9c-42b0-a748-83fbac96dbee","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000011","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:21.5001568+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"520b3fd11c588c2168c2efd5956a666e","SpanId":"da6e5d46fd9ce981","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"21bc24fb-ef9c-42b0-a748-83fbac96dbee","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000011","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.5003965+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"520b3fd11c588c2168c2efd5956a666e","SpanId":"da6e5d46fd9ce981","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","ElapsedMilliseconds":7.0392,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000011","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.5006839+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"520b3fd11c588c2168c2efd5956a666e","SpanId":"da6e5d46fd9ce981","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000011","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.5009120+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"520b3fd11c588c2168c2efd5956a666e","SpanId":"da6e5d46fd9ce981","Properties":{"ElapsedMilliseconds":10.3267,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/newMember","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000011","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.5050693+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"46e2f632521941372e46817686244674","SpanId":"a9c4b3843d880cc7","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=35","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000012","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.5055483+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"46e2f632521941372e46817686244674","SpanId":"a9c4b3843d880cc7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000012","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.5056912+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"46e2f632521941372e46817686244674","SpanId":"a9c4b3843d880cc7","Properties":{"ElapsedMilliseconds":0.6297,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=35","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000012","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.5080311+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7b2f90720c23f6392f8162e5c874c605","SpanId":"f8040b510f91e768","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=35","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000013","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.5082954+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"7b2f90720c23f6392f8162e5c874c605","SpanId":"f8040b510f91e768","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000013","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.5096106+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7b2f90720c23f6392f8162e5c874c605","SpanId":"f8040b510f91e768","Properties":{"elapsed":"0","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000013","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.5100154+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7b2f90720c23f6392f8162e5c874c605","SpanId":"f8040b510f91e768","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000013","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.5102153+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7b2f90720c23f6392f8162e5c874c605","SpanId":"f8040b510f91e768","Properties":{"RouteData":"{action = \"getChatMemebers\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] getChatMemebersAsync(System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000013","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.5111973+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7b2f90720c23f6392f8162e5c874c605","SpanId":"f8040b510f91e768","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000013","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.5116091+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"7b2f90720c23f6392f8162e5c874c605","SpanId":"f8040b510f91e768","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000013","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:21.5118488+03:00","Level":"Information","MessageTemplate":"Attempting to get chat members","TraceId":"7b2f90720c23f6392f8162e5c874c605","SpanId":"f8040b510f91e768","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000013","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:21.5128934+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7b2f90720c23f6392f8162e5c874c605","SpanId":"f8040b510f91e768","Properties":{"elapsed":"1","parameters":"@__chatId_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__chatId_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000013","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:21.5133331+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7b2f90720c23f6392f8162e5c874c605","SpanId":"f8040b510f91e768","Properties":{"ObjectResultType":"ObjectResult","Type":"System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"23c44dc1-0ec3-4411-94e5-df946c4bab42","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000013","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.5135541+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7b2f90720c23f6392f8162e5c874c605","SpanId":"f8040b510f91e768","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","ElapsedMilliseconds":3.16,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000013","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.5137727+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7b2f90720c23f6392f8162e5c874c605","SpanId":"f8040b510f91e768","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000013","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:21.5140065+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7b2f90720c23f6392f8162e5c874c605","SpanId":"f8040b510f91e768","Properties":{"ElapsedMilliseconds":5.9723,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=35","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000013","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:22.3046646+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f85d22b5b81026e383f3324148585ac2","SpanId":"02b5d7c9862655fe","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:22.3052166+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f85d22b5b81026e383f3324148585ac2","SpanId":"02b5d7c9862655fe","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:22.3067251+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f85d22b5b81026e383f3324148585ac2","SpanId":"02b5d7c9862655fe","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:22.3071408+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f85d22b5b81026e383f3324148585ac2","SpanId":"02b5d7c9862655fe","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:22.3074683+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f85d22b5b81026e383f3324148585ac2","SpanId":"02b5d7c9862655fe","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:22.3079283+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"f85d22b5b81026e383f3324148585ac2","SpanId":"02b5d7c9862655fe","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:22.3088354+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f85d22b5b81026e383f3324148585ac2","SpanId":"02b5d7c9862655fe","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:22.3092481+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"f85d22b5b81026e383f3324148585ac2","SpanId":"02b5d7c9862655fe","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:22.3103461+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f85d22b5b81026e383f3324148585ac2","SpanId":"02b5d7c9862655fe","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:22.3116066+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f85d22b5b81026e383f3324148585ac2","SpanId":"02b5d7c9862655fe","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:22.3132841+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f85d22b5b81026e383f3324148585ac2","SpanId":"02b5d7c9862655fe","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:22.3141511+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f85d22b5b81026e383f3324148585ac2","SpanId":"02b5d7c9862655fe","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:22.3144466+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f85d22b5b81026e383f3324148585ac2","SpanId":"02b5d7c9862655fe","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.6916,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:22.3147303+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f85d22b5b81026e383f3324148585ac2","SpanId":"02b5d7c9862655fe","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:22.3149453+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f85d22b5b81026e383f3324148585ac2","SpanId":"02b5d7c9862655fe","Properties":{"ElapsedMilliseconds":10.2897,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:25.3775013+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"54a3923957226ad3a8c1260d848529e0","SpanId":"b6c1323e4d93804c","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:25.3779366+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"54a3923957226ad3a8c1260d848529e0","SpanId":"b6c1323e4d93804c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:25.3781324+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"54a3923957226ad3a8c1260d848529e0","SpanId":"b6c1323e4d93804c","Properties":{"ElapsedMilliseconds":0.6325,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:25.3853206+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3260bde9a53f201963811f0d86e241ae","SpanId":"ad271d0763beeff5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:25.3857318+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"3260bde9a53f201963811f0d86e241ae","SpanId":"ad271d0763beeff5","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:25.3870158+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3260bde9a53f201963811f0d86e241ae","SpanId":"ad271d0763beeff5","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:25.3873655+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3260bde9a53f201963811f0d86e241ae","SpanId":"ad271d0763beeff5","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:25.3876023+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3260bde9a53f201963811f0d86e241ae","SpanId":"ad271d0763beeff5","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:25.3880318+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"3260bde9a53f201963811f0d86e241ae","SpanId":"ad271d0763beeff5","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:25.3889162+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3260bde9a53f201963811f0d86e241ae","SpanId":"ad271d0763beeff5","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:25.3893168+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"3260bde9a53f201963811f0d86e241ae","SpanId":"ad271d0763beeff5","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:25.3905093+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3260bde9a53f201963811f0d86e241ae","SpanId":"ad271d0763beeff5","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:25.3917023+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3260bde9a53f201963811f0d86e241ae","SpanId":"ad271d0763beeff5","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:25.3932488+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3260bde9a53f201963811f0d86e241ae","SpanId":"ad271d0763beeff5","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:25.3939812+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3260bde9a53f201963811f0d86e241ae","SpanId":"ad271d0763beeff5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:25.3943157+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3260bde9a53f201963811f0d86e241ae","SpanId":"ad271d0763beeff5","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.4837,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:25.3945387+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3260bde9a53f201963811f0d86e241ae","SpanId":"ad271d0763beeff5","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:25.3948300+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3260bde9a53f201963811f0d86e241ae","SpanId":"ad271d0763beeff5","Properties":{"ElapsedMilliseconds":9.4914,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:28.3687592+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b48d67ae2fdb36cd7199bf50c30d8b84","SpanId":"0c7af371a39a55c2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:28.3691285+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b48d67ae2fdb36cd7199bf50c30d8b84","SpanId":"0c7af371a39a55c2","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:28.3711148+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b48d67ae2fdb36cd7199bf50c30d8b84","SpanId":"0c7af371a39a55c2","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:28.3714635+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b48d67ae2fdb36cd7199bf50c30d8b84","SpanId":"0c7af371a39a55c2","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:28.3716563+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b48d67ae2fdb36cd7199bf50c30d8b84","SpanId":"0c7af371a39a55c2","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:28.3720487+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"b48d67ae2fdb36cd7199bf50c30d8b84","SpanId":"0c7af371a39a55c2","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:28.3729183+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b48d67ae2fdb36cd7199bf50c30d8b84","SpanId":"0c7af371a39a55c2","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:28.3732607+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"b48d67ae2fdb36cd7199bf50c30d8b84","SpanId":"0c7af371a39a55c2","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:28.3742427+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b48d67ae2fdb36cd7199bf50c30d8b84","SpanId":"0c7af371a39a55c2","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:28.3756470+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b48d67ae2fdb36cd7199bf50c30d8b84","SpanId":"0c7af371a39a55c2","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:28.3778077+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b48d67ae2fdb36cd7199bf50c30d8b84","SpanId":"0c7af371a39a55c2","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:28.3785826+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b48d67ae2fdb36cd7199bf50c30d8b84","SpanId":"0c7af371a39a55c2","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:28.3788750+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b48d67ae2fdb36cd7199bf50c30d8b84","SpanId":"0c7af371a39a55c2","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":7.0247,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:28.3790903+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b48d67ae2fdb36cd7199bf50c30d8b84","SpanId":"0c7af371a39a55c2","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:28.3793517+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b48d67ae2fdb36cd7199bf50c30d8b84","SpanId":"0c7af371a39a55c2","Properties":{"ElapsedMilliseconds":10.5935,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:31.3691852+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b247d31a84d4c676615d24621574d4a8","SpanId":"a60240a5781fe612","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:31.3696986+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b247d31a84d4c676615d24621574d4a8","SpanId":"a60240a5781fe612","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:31.3699355+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b247d31a84d4c676615d24621574d4a8","SpanId":"a60240a5781fe612","Properties":{"ElapsedMilliseconds":0.7533,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:31.3729773+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5e56d6b2d8b0c238b88683405bccbb9b","SpanId":"205acb015864f4b6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:31.3733463+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"5e56d6b2d8b0c238b88683405bccbb9b","SpanId":"205acb015864f4b6","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:31.3747971+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5e56d6b2d8b0c238b88683405bccbb9b","SpanId":"205acb015864f4b6","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:31.3753191+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5e56d6b2d8b0c238b88683405bccbb9b","SpanId":"205acb015864f4b6","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:31.3755771+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5e56d6b2d8b0c238b88683405bccbb9b","SpanId":"205acb015864f4b6","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:31.3760623+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"5e56d6b2d8b0c238b88683405bccbb9b","SpanId":"205acb015864f4b6","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:31.3770620+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5e56d6b2d8b0c238b88683405bccbb9b","SpanId":"205acb015864f4b6","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:31.3774921+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"5e56d6b2d8b0c238b88683405bccbb9b","SpanId":"205acb015864f4b6","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:31.3786797+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5e56d6b2d8b0c238b88683405bccbb9b","SpanId":"205acb015864f4b6","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:31.3796772+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5e56d6b2d8b0c238b88683405bccbb9b","SpanId":"205acb015864f4b6","Properties":{"elapsed":"0","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:31.3812002+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5e56d6b2d8b0c238b88683405bccbb9b","SpanId":"205acb015864f4b6","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:31.3820038+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5e56d6b2d8b0c238b88683405bccbb9b","SpanId":"205acb015864f4b6","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:31.3822309+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5e56d6b2d8b0c238b88683405bccbb9b","SpanId":"205acb015864f4b6","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.3539,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:31.3823985+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5e56d6b2d8b0c238b88683405bccbb9b","SpanId":"205acb015864f4b6","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:31.3825921+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5e56d6b2d8b0c238b88683405bccbb9b","SpanId":"205acb015864f4b6","Properties":{"ElapsedMilliseconds":9.674,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:34.3701066+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5924c145e41bd29fcabf94d8947e15e2","SpanId":"204fe5df43ecba94","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:34.3708544+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"5924c145e41bd29fcabf94d8947e15e2","SpanId":"204fe5df43ecba94","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:34.3729431+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5924c145e41bd29fcabf94d8947e15e2","SpanId":"204fe5df43ecba94","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:34.3734038+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5924c145e41bd29fcabf94d8947e15e2","SpanId":"204fe5df43ecba94","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:34.3736583+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5924c145e41bd29fcabf94d8947e15e2","SpanId":"204fe5df43ecba94","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:34.3741159+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"5924c145e41bd29fcabf94d8947e15e2","SpanId":"204fe5df43ecba94","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:34.3752142+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5924c145e41bd29fcabf94d8947e15e2","SpanId":"204fe5df43ecba94","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:34.3757028+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"5924c145e41bd29fcabf94d8947e15e2","SpanId":"204fe5df43ecba94","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:34.3771032+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5924c145e41bd29fcabf94d8947e15e2","SpanId":"204fe5df43ecba94","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:34.3784088+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5924c145e41bd29fcabf94d8947e15e2","SpanId":"204fe5df43ecba94","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:34.3801463+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5924c145e41bd29fcabf94d8947e15e2","SpanId":"204fe5df43ecba94","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:34.3812180+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5924c145e41bd29fcabf94d8947e15e2","SpanId":"204fe5df43ecba94","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:34.3823213+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5924c145e41bd29fcabf94d8947e15e2","SpanId":"204fe5df43ecba94","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":8.3883,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:34.3826515+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5924c145e41bd29fcabf94d8947e15e2","SpanId":"204fe5df43ecba94","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:34.3835219+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5924c145e41bd29fcabf94d8947e15e2","SpanId":"204fe5df43ecba94","Properties":{"ElapsedMilliseconds":13.408,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:37.3728598+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0fa4307cd0c2488bce389b97a8cc48cb","SpanId":"f89a0e8b9cae9e7c","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:37.3733750+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"0fa4307cd0c2488bce389b97a8cc48cb","SpanId":"f89a0e8b9cae9e7c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:37.3736610+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0fa4307cd0c2488bce389b97a8cc48cb","SpanId":"f89a0e8b9cae9e7c","Properties":{"ElapsedMilliseconds":0.7799,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:37.3763671+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2c72a5f72251035ae809b2c652516666","SpanId":"f3dc09afc49a86e6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:37.3767008+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"2c72a5f72251035ae809b2c652516666","SpanId":"f3dc09afc49a86e6","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:37.3780526+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2c72a5f72251035ae809b2c652516666","SpanId":"f3dc09afc49a86e6","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:37.3786203+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2c72a5f72251035ae809b2c652516666","SpanId":"f3dc09afc49a86e6","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:37.3789698+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2c72a5f72251035ae809b2c652516666","SpanId":"f3dc09afc49a86e6","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:37.3794841+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"2c72a5f72251035ae809b2c652516666","SpanId":"f3dc09afc49a86e6","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:37.3806496+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2c72a5f72251035ae809b2c652516666","SpanId":"f3dc09afc49a86e6","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:37.3810385+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"2c72a5f72251035ae809b2c652516666","SpanId":"f3dc09afc49a86e6","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:37.3824175+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2c72a5f72251035ae809b2c652516666","SpanId":"f3dc09afc49a86e6","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:37.3835798+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2c72a5f72251035ae809b2c652516666","SpanId":"f3dc09afc49a86e6","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:37.3851710+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2c72a5f72251035ae809b2c652516666","SpanId":"f3dc09afc49a86e6","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:37.3859533+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2c72a5f72251035ae809b2c652516666","SpanId":"f3dc09afc49a86e6","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:37.3862098+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2c72a5f72251035ae809b2c652516666","SpanId":"f3dc09afc49a86e6","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.9401,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:37.3864310+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2c72a5f72251035ae809b2c652516666","SpanId":"f3dc09afc49a86e6","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:37.3866223+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2c72a5f72251035ae809b2c652516666","SpanId":"f3dc09afc49a86e6","Properties":{"ElapsedMilliseconds":10.2434,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:40.3696118+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"76a81e5229cac70c175d79021291d755","SpanId":"0bd1ac0e2dffd7cc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:40.3699970+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"76a81e5229cac70c175d79021291d755","SpanId":"0bd1ac0e2dffd7cc","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:40.3716446+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"76a81e5229cac70c175d79021291d755","SpanId":"0bd1ac0e2dffd7cc","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:40.3721194+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"76a81e5229cac70c175d79021291d755","SpanId":"0bd1ac0e2dffd7cc","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:40.3723509+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"76a81e5229cac70c175d79021291d755","SpanId":"0bd1ac0e2dffd7cc","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:40.3728052+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"76a81e5229cac70c175d79021291d755","SpanId":"0bd1ac0e2dffd7cc","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:40.3736620+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"76a81e5229cac70c175d79021291d755","SpanId":"0bd1ac0e2dffd7cc","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:40.3740419+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"76a81e5229cac70c175d79021291d755","SpanId":"0bd1ac0e2dffd7cc","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:40.3749591+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"76a81e5229cac70c175d79021291d755","SpanId":"0bd1ac0e2dffd7cc","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:40.3762160+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"76a81e5229cac70c175d79021291d755","SpanId":"0bd1ac0e2dffd7cc","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:40.3776957+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"76a81e5229cac70c175d79021291d755","SpanId":"0bd1ac0e2dffd7cc","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:40.3784766+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"76a81e5229cac70c175d79021291d755","SpanId":"0bd1ac0e2dffd7cc","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:40.3787422+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"76a81e5229cac70c175d79021291d755","SpanId":"0bd1ac0e2dffd7cc","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.1219,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:40.3789421+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"76a81e5229cac70c175d79021291d755","SpanId":"0bd1ac0e2dffd7cc","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:40.3792142+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"76a81e5229cac70c175d79021291d755","SpanId":"0bd1ac0e2dffd7cc","Properties":{"ElapsedMilliseconds":9.6073,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:43.3691442+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d70e0b5fa532b51218086ead4f75c3ef","SpanId":"75233d844d0cf6eb","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:43.3695937+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d70e0b5fa532b51218086ead4f75c3ef","SpanId":"75233d844d0cf6eb","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:43.3698685+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d70e0b5fa532b51218086ead4f75c3ef","SpanId":"75233d844d0cf6eb","Properties":{"ElapsedMilliseconds":0.7211,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:43.3730912+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e23e5c7142ffe05bd9e38dcb56214cd9","SpanId":"076cec4d150f791d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:43.3735282+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e23e5c7142ffe05bd9e38dcb56214cd9","SpanId":"076cec4d150f791d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:43.3762506+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e23e5c7142ffe05bd9e38dcb56214cd9","SpanId":"076cec4d150f791d","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:43.3766842+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e23e5c7142ffe05bd9e38dcb56214cd9","SpanId":"076cec4d150f791d","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:43.3770394+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e23e5c7142ffe05bd9e38dcb56214cd9","SpanId":"076cec4d150f791d","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:43.3774999+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"e23e5c7142ffe05bd9e38dcb56214cd9","SpanId":"076cec4d150f791d","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:43.3784704+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e23e5c7142ffe05bd9e38dcb56214cd9","SpanId":"076cec4d150f791d","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:43.3789637+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"e23e5c7142ffe05bd9e38dcb56214cd9","SpanId":"076cec4d150f791d","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:43.3802825+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e23e5c7142ffe05bd9e38dcb56214cd9","SpanId":"076cec4d150f791d","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:43.3814749+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e23e5c7142ffe05bd9e38dcb56214cd9","SpanId":"076cec4d150f791d","Properties":{"elapsed":"0","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:43.3828802+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e23e5c7142ffe05bd9e38dcb56214cd9","SpanId":"076cec4d150f791d","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:43.3835334+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e23e5c7142ffe05bd9e38dcb56214cd9","SpanId":"076cec4d150f791d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:43.3838454+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e23e5c7142ffe05bd9e38dcb56214cd9","SpanId":"076cec4d150f791d","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.5307,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:43.3840850+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e23e5c7142ffe05bd9e38dcb56214cd9","SpanId":"076cec4d150f791d","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:43.3842758+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e23e5c7142ffe05bd9e38dcb56214cd9","SpanId":"076cec4d150f791d","Properties":{"ElapsedMilliseconds":11.1928,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:46.3690262+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9b873cb42a4d6f038bfd47a316825d4f","SpanId":"3437740cebe589c1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:46.3702587+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9b873cb42a4d6f038bfd47a316825d4f","SpanId":"3437740cebe589c1","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:46.3733074+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b873cb42a4d6f038bfd47a316825d4f","SpanId":"3437740cebe589c1","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:46.3738961+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9b873cb42a4d6f038bfd47a316825d4f","SpanId":"3437740cebe589c1","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:46.3741731+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9b873cb42a4d6f038bfd47a316825d4f","SpanId":"3437740cebe589c1","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:46.3745676+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"9b873cb42a4d6f038bfd47a316825d4f","SpanId":"3437740cebe589c1","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:46.3761531+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b873cb42a4d6f038bfd47a316825d4f","SpanId":"3437740cebe589c1","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:46.3768037+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"9b873cb42a4d6f038bfd47a316825d4f","SpanId":"3437740cebe589c1","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:46.3789856+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b873cb42a4d6f038bfd47a316825d4f","SpanId":"3437740cebe589c1","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:46.3803652+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b873cb42a4d6f038bfd47a316825d4f","SpanId":"3437740cebe589c1","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:46.3822261+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b873cb42a4d6f038bfd47a316825d4f","SpanId":"3437740cebe589c1","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:46.3832982+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9b873cb42a4d6f038bfd47a316825d4f","SpanId":"3437740cebe589c1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:46.3839010+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9b873cb42a4d6f038bfd47a316825d4f","SpanId":"3437740cebe589c1","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":9.5307,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:46.3842582+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9b873cb42a4d6f038bfd47a316825d4f","SpanId":"3437740cebe589c1","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:46.3846623+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9b873cb42a4d6f038bfd47a316825d4f","SpanId":"3437740cebe589c1","Properties":{"ElapsedMilliseconds":15.5999,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:49.3692091+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c48113693062112012255f056581a8cf","SpanId":"4a83fa4807225065","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:49.3697572+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c48113693062112012255f056581a8cf","SpanId":"4a83fa4807225065","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:49.3699703+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c48113693062112012255f056581a8cf","SpanId":"4a83fa4807225065","Properties":{"ElapsedMilliseconds":0.7931,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:49.3753314+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"978bb59c208819e9c13b5e809d09015a","SpanId":"eddf53c0c9970cc7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:49.3757789+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"978bb59c208819e9c13b5e809d09015a","SpanId":"eddf53c0c9970cc7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:49.3775835+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"978bb59c208819e9c13b5e809d09015a","SpanId":"eddf53c0c9970cc7","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:49.3780388+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"978bb59c208819e9c13b5e809d09015a","SpanId":"eddf53c0c9970cc7","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:49.3783089+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"978bb59c208819e9c13b5e809d09015a","SpanId":"eddf53c0c9970cc7","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:49.3787461+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"978bb59c208819e9c13b5e809d09015a","SpanId":"eddf53c0c9970cc7","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:49.3797007+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"978bb59c208819e9c13b5e809d09015a","SpanId":"eddf53c0c9970cc7","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:49.3801298+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"978bb59c208819e9c13b5e809d09015a","SpanId":"eddf53c0c9970cc7","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:49.3813654+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"978bb59c208819e9c13b5e809d09015a","SpanId":"eddf53c0c9970cc7","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:49.3825702+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"978bb59c208819e9c13b5e809d09015a","SpanId":"eddf53c0c9970cc7","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:49.3839187+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"978bb59c208819e9c13b5e809d09015a","SpanId":"eddf53c0c9970cc7","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:49.3845362+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"978bb59c208819e9c13b5e809d09015a","SpanId":"eddf53c0c9970cc7","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:49.3847855+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"978bb59c208819e9c13b5e809d09015a","SpanId":"eddf53c0c9970cc7","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.1965,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:49.3849954+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"978bb59c208819e9c13b5e809d09015a","SpanId":"eddf53c0c9970cc7","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:49.3852114+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"978bb59c208819e9c13b5e809d09015a","SpanId":"eddf53c0c9970cc7","Properties":{"ElapsedMilliseconds":9.8792,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:52.3711910+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c31e6a9d63122aac86452aa4f6327a5b","SpanId":"055e3644fb74bbfe","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:52.3717731+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c31e6a9d63122aac86452aa4f6327a5b","SpanId":"055e3644fb74bbfe","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:52.3735282+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c31e6a9d63122aac86452aa4f6327a5b","SpanId":"055e3644fb74bbfe","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:52.3739816+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c31e6a9d63122aac86452aa4f6327a5b","SpanId":"055e3644fb74bbfe","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:52.3742581+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c31e6a9d63122aac86452aa4f6327a5b","SpanId":"055e3644fb74bbfe","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:52.3746669+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"c31e6a9d63122aac86452aa4f6327a5b","SpanId":"055e3644fb74bbfe","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:52.3755020+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c31e6a9d63122aac86452aa4f6327a5b","SpanId":"055e3644fb74bbfe","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:52.3758842+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"c31e6a9d63122aac86452aa4f6327a5b","SpanId":"055e3644fb74bbfe","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:52.3771248+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c31e6a9d63122aac86452aa4f6327a5b","SpanId":"055e3644fb74bbfe","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:52.3783707+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c31e6a9d63122aac86452aa4f6327a5b","SpanId":"055e3644fb74bbfe","Properties":{"elapsed":"0","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:52.3803162+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c31e6a9d63122aac86452aa4f6327a5b","SpanId":"055e3644fb74bbfe","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:52.3812301+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c31e6a9d63122aac86452aa4f6327a5b","SpanId":"055e3644fb74bbfe","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:52.3816036+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c31e6a9d63122aac86452aa4f6327a5b","SpanId":"055e3644fb74bbfe","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":7.0945,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:52.3818127+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c31e6a9d63122aac86452aa4f6327a5b","SpanId":"055e3644fb74bbfe","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:52.3820050+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c31e6a9d63122aac86452aa4f6327a5b","SpanId":"055e3644fb74bbfe","Properties":{"ElapsedMilliseconds":10.8497,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:55.3694576+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"198d4aaec07563dcde48f6fb68e654ef","SpanId":"07369aa8e48f375b","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:55.3699492+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"198d4aaec07563dcde48f6fb68e654ef","SpanId":"07369aa8e48f375b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:55.3705618+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"198d4aaec07563dcde48f6fb68e654ef","SpanId":"07369aa8e48f375b","Properties":{"ElapsedMilliseconds":1.0949,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:55.3740012+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"44eed77911e325610646bff5493d86d3","SpanId":"2ba86145df3cf043","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:55.3744611+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"44eed77911e325610646bff5493d86d3","SpanId":"2ba86145df3cf043","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:55.3761568+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44eed77911e325610646bff5493d86d3","SpanId":"2ba86145df3cf043","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:55.3766069+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"44eed77911e325610646bff5493d86d3","SpanId":"2ba86145df3cf043","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:55.3768674+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"44eed77911e325610646bff5493d86d3","SpanId":"2ba86145df3cf043","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:55.3774934+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"44eed77911e325610646bff5493d86d3","SpanId":"2ba86145df3cf043","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:55.3785889+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44eed77911e325610646bff5493d86d3","SpanId":"2ba86145df3cf043","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:55.3790400+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"44eed77911e325610646bff5493d86d3","SpanId":"2ba86145df3cf043","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:55.3803470+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44eed77911e325610646bff5493d86d3","SpanId":"2ba86145df3cf043","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:55.3817570+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44eed77911e325610646bff5493d86d3","SpanId":"2ba86145df3cf043","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:55.3834959+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44eed77911e325610646bff5493d86d3","SpanId":"2ba86145df3cf043","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:55.3842581+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"44eed77911e325610646bff5493d86d3","SpanId":"2ba86145df3cf043","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:55.3845463+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"44eed77911e325610646bff5493d86d3","SpanId":"2ba86145df3cf043","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":7.4107,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:55.3847552+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"44eed77911e325610646bff5493d86d3","SpanId":"2ba86145df3cf043","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:55.3850823+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"44eed77911e325610646bff5493d86d3","SpanId":"2ba86145df3cf043","Properties":{"ElapsedMilliseconds":11.0775,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:58.3728037+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"80ac3ffc47a9cf133e01d4a2c4f38eb0","SpanId":"b41eebaea5eedcbe","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:58.3732472+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"80ac3ffc47a9cf133e01d4a2c4f38eb0","SpanId":"b41eebaea5eedcbe","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:58.3753265+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"80ac3ffc47a9cf133e01d4a2c4f38eb0","SpanId":"b41eebaea5eedcbe","Properties":{"elapsed":"0","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:58.3757743+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"80ac3ffc47a9cf133e01d4a2c4f38eb0","SpanId":"b41eebaea5eedcbe","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:58.3760023+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"80ac3ffc47a9cf133e01d4a2c4f38eb0","SpanId":"b41eebaea5eedcbe","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:58.3765329+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"80ac3ffc47a9cf133e01d4a2c4f38eb0","SpanId":"b41eebaea5eedcbe","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:58.3775913+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"80ac3ffc47a9cf133e01d4a2c4f38eb0","SpanId":"b41eebaea5eedcbe","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:58.3781444+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"80ac3ffc47a9cf133e01d4a2c4f38eb0","SpanId":"b41eebaea5eedcbe","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:58.3795167+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"80ac3ffc47a9cf133e01d4a2c4f38eb0","SpanId":"b41eebaea5eedcbe","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:58.3808199+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"80ac3ffc47a9cf133e01d4a2c4f38eb0","SpanId":"b41eebaea5eedcbe","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:58.3826725+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"80ac3ffc47a9cf133e01d4a2c4f38eb0","SpanId":"b41eebaea5eedcbe","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:09:58.3833950+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"80ac3ffc47a9cf133e01d4a2c4f38eb0","SpanId":"b41eebaea5eedcbe","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:58.3837976+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"80ac3ffc47a9cf133e01d4a2c4f38eb0","SpanId":"b41eebaea5eedcbe","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":7.4821,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:58.3840853+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"80ac3ffc47a9cf133e01d4a2c4f38eb0","SpanId":"b41eebaea5eedcbe","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:09:58.3844710+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"80ac3ffc47a9cf133e01d4a2c4f38eb0","SpanId":"b41eebaea5eedcbe","Properties":{"ElapsedMilliseconds":11.6614,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:01.3695730+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e058b881514d53a6643b4b3aff6e9aa9","SpanId":"656b01eac1465562","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:01.3699773+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e058b881514d53a6643b4b3aff6e9aa9","SpanId":"656b01eac1465562","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:01.3701874+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e058b881514d53a6643b4b3aff6e9aa9","SpanId":"656b01eac1465562","Properties":{"ElapsedMilliseconds":0.6144,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:01.3737007+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"01ccb0f17585c7bc39be26fa3584a449","SpanId":"8342ff2e22c1d66d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:01.3741614+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"01ccb0f17585c7bc39be26fa3584a449","SpanId":"8342ff2e22c1d66d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:01.3754556+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"01ccb0f17585c7bc39be26fa3584a449","SpanId":"8342ff2e22c1d66d","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:01.3759110+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"01ccb0f17585c7bc39be26fa3584a449","SpanId":"8342ff2e22c1d66d","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:01.3761204+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"01ccb0f17585c7bc39be26fa3584a449","SpanId":"8342ff2e22c1d66d","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:01.3765686+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"01ccb0f17585c7bc39be26fa3584a449","SpanId":"8342ff2e22c1d66d","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:01.3775467+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"01ccb0f17585c7bc39be26fa3584a449","SpanId":"8342ff2e22c1d66d","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:01.3779725+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"01ccb0f17585c7bc39be26fa3584a449","SpanId":"8342ff2e22c1d66d","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:01.3791210+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"01ccb0f17585c7bc39be26fa3584a449","SpanId":"8342ff2e22c1d66d","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:01.3801841+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"01ccb0f17585c7bc39be26fa3584a449","SpanId":"8342ff2e22c1d66d","Properties":{"elapsed":"0","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:01.3818309+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"01ccb0f17585c7bc39be26fa3584a449","SpanId":"8342ff2e22c1d66d","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:01.3825377+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"01ccb0f17585c7bc39be26fa3584a449","SpanId":"8342ff2e22c1d66d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:01.3828019+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"01ccb0f17585c7bc39be26fa3584a449","SpanId":"8342ff2e22c1d66d","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.4219,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:01.3829809+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"01ccb0f17585c7bc39be26fa3584a449","SpanId":"8342ff2e22c1d66d","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:01.3831849+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"01ccb0f17585c7bc39be26fa3584a449","SpanId":"8342ff2e22c1d66d","Properties":{"ElapsedMilliseconds":9.4867,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:04.3709457+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9578db06a8dae44071747cd60228443b","SpanId":"acf2368f1722105f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000029","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:04.3713558+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9578db06a8dae44071747cd60228443b","SpanId":"acf2368f1722105f","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000029","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:04.3728819+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9578db06a8dae44071747cd60228443b","SpanId":"acf2368f1722105f","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000029","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:04.3733438+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9578db06a8dae44071747cd60228443b","SpanId":"acf2368f1722105f","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000029","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:04.3735771+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9578db06a8dae44071747cd60228443b","SpanId":"acf2368f1722105f","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000029","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:04.3742162+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"9578db06a8dae44071747cd60228443b","SpanId":"acf2368f1722105f","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000029","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:04.3752660+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9578db06a8dae44071747cd60228443b","SpanId":"acf2368f1722105f","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000029","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:04.3756556+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"9578db06a8dae44071747cd60228443b","SpanId":"acf2368f1722105f","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000029","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:04.3770134+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9578db06a8dae44071747cd60228443b","SpanId":"acf2368f1722105f","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000029","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:04.3783505+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9578db06a8dae44071747cd60228443b","SpanId":"acf2368f1722105f","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000029","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:04.3803556+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9578db06a8dae44071747cd60228443b","SpanId":"acf2368f1722105f","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000029","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:04.3812558+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9578db06a8dae44071747cd60228443b","SpanId":"acf2368f1722105f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000029","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:04.3815529+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9578db06a8dae44071747cd60228443b","SpanId":"acf2368f1722105f","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":7.6211,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000029","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:04.3817488+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9578db06a8dae44071747cd60228443b","SpanId":"acf2368f1722105f","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000029","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:04.3825885+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9578db06a8dae44071747cd60228443b","SpanId":"acf2368f1722105f","Properties":{"ElapsedMilliseconds":11.6398,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000029","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:07.3700491+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9807c39c92a9d96717010b50f8e96ac0","SpanId":"b372af516dec6edd","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:07.3704349+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9807c39c92a9d96717010b50f8e96ac0","SpanId":"b372af516dec6edd","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:07.3706573+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9807c39c92a9d96717010b50f8e96ac0","SpanId":"b372af516dec6edd","Properties":{"ElapsedMilliseconds":0.6339,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:07.3736823+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1c29fba3c6213409ade5e0c9d667e73f","SpanId":"5ee5292951f1efc7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:07.3740894+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1c29fba3c6213409ade5e0c9d667e73f","SpanId":"5ee5292951f1efc7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:07.3757032+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1c29fba3c6213409ade5e0c9d667e73f","SpanId":"5ee5292951f1efc7","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:07.3761304+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1c29fba3c6213409ade5e0c9d667e73f","SpanId":"5ee5292951f1efc7","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:07.3763493+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1c29fba3c6213409ade5e0c9d667e73f","SpanId":"5ee5292951f1efc7","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:07.3767968+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"1c29fba3c6213409ade5e0c9d667e73f","SpanId":"5ee5292951f1efc7","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:07.3777069+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1c29fba3c6213409ade5e0c9d667e73f","SpanId":"5ee5292951f1efc7","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:07.3781720+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"1c29fba3c6213409ade5e0c9d667e73f","SpanId":"5ee5292951f1efc7","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:07.3792543+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1c29fba3c6213409ade5e0c9d667e73f","SpanId":"5ee5292951f1efc7","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:07.3804794+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1c29fba3c6213409ade5e0c9d667e73f","SpanId":"5ee5292951f1efc7","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:07.3821829+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1c29fba3c6213409ade5e0c9d667e73f","SpanId":"5ee5292951f1efc7","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:07.3829284+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1c29fba3c6213409ade5e0c9d667e73f","SpanId":"5ee5292951f1efc7","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:07.3832053+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1c29fba3c6213409ade5e0c9d667e73f","SpanId":"5ee5292951f1efc7","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.5771,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:07.3833977+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1c29fba3c6213409ade5e0c9d667e73f","SpanId":"5ee5292951f1efc7","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:07.3836093+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1c29fba3c6213409ade5e0c9d667e73f","SpanId":"5ee5292951f1efc7","Properties":{"ElapsedMilliseconds":9.929,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:10.3690324+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"026f7eee836747640f6380021796077e","SpanId":"a5c5d64b4a636c97","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:10.3695060+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"026f7eee836747640f6380021796077e","SpanId":"a5c5d64b4a636c97","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:10.3715624+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"026f7eee836747640f6380021796077e","SpanId":"a5c5d64b4a636c97","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:10.3720545+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"026f7eee836747640f6380021796077e","SpanId":"a5c5d64b4a636c97","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:10.3723032+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"026f7eee836747640f6380021796077e","SpanId":"a5c5d64b4a636c97","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:10.3728621+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"026f7eee836747640f6380021796077e","SpanId":"a5c5d64b4a636c97","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:10.3737188+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"026f7eee836747640f6380021796077e","SpanId":"a5c5d64b4a636c97","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:10.3741012+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"026f7eee836747640f6380021796077e","SpanId":"a5c5d64b4a636c97","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:10.3753788+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"026f7eee836747640f6380021796077e","SpanId":"a5c5d64b4a636c97","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:10.3765572+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"026f7eee836747640f6380021796077e","SpanId":"a5c5d64b4a636c97","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:10.3782448+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"026f7eee836747640f6380021796077e","SpanId":"a5c5d64b4a636c97","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:10.3790111+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"026f7eee836747640f6380021796077e","SpanId":"a5c5d64b4a636c97","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:10.3792969+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"026f7eee836747640f6380021796077e","SpanId":"a5c5d64b4a636c97","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.6375,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:10.3795452+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"026f7eee836747640f6380021796077e","SpanId":"a5c5d64b4a636c97","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:10.3802058+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"026f7eee836747640f6380021796077e","SpanId":"a5c5d64b4a636c97","Properties":{"ElapsedMilliseconds":11.1796,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:13.3763103+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3494655078206338cec15ea80e66d849","SpanId":"55f11d7f7307721c","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:13.3767725+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"3494655078206338cec15ea80e66d849","SpanId":"55f11d7f7307721c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:13.3769781+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3494655078206338cec15ea80e66d849","SpanId":"55f11d7f7307721c","Properties":{"ElapsedMilliseconds":0.6709,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:13.3988248+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c8ce97e1a3c777c4273326cd8b66d829","SpanId":"e5b0d3d0b78b31b1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:13.3992390+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c8ce97e1a3c777c4273326cd8b66d829","SpanId":"e5b0d3d0b78b31b1","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:13.4005822+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c8ce97e1a3c777c4273326cd8b66d829","SpanId":"e5b0d3d0b78b31b1","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:13.4010719+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c8ce97e1a3c777c4273326cd8b66d829","SpanId":"e5b0d3d0b78b31b1","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:13.4012942+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c8ce97e1a3c777c4273326cd8b66d829","SpanId":"e5b0d3d0b78b31b1","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:13.4018192+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"c8ce97e1a3c777c4273326cd8b66d829","SpanId":"e5b0d3d0b78b31b1","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:13.4028863+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c8ce97e1a3c777c4273326cd8b66d829","SpanId":"e5b0d3d0b78b31b1","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:13.4032388+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"c8ce97e1a3c777c4273326cd8b66d829","SpanId":"e5b0d3d0b78b31b1","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:13.4043914+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c8ce97e1a3c777c4273326cd8b66d829","SpanId":"e5b0d3d0b78b31b1","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:13.4060748+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c8ce97e1a3c777c4273326cd8b66d829","SpanId":"e5b0d3d0b78b31b1","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:13.4079900+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c8ce97e1a3c777c4273326cd8b66d829","SpanId":"e5b0d3d0b78b31b1","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:13.4087761+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c8ce97e1a3c777c4273326cd8b66d829","SpanId":"e5b0d3d0b78b31b1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:13.4090026+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c8ce97e1a3c777c4273326cd8b66d829","SpanId":"e5b0d3d0b78b31b1","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":7.4308,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:13.4091895+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c8ce97e1a3c777c4273326cd8b66d829","SpanId":"e5b0d3d0b78b31b1","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:13.4093859+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c8ce97e1a3c777c4273326cd8b66d829","SpanId":"e5b0d3d0b78b31b1","Properties":{"ElapsedMilliseconds":10.5826,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:16.3690749+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"36c2b610c350b2a06ed096adbbdf2c63","SpanId":"2793d5dd7c54648e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:16.3695290+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"36c2b610c350b2a06ed096adbbdf2c63","SpanId":"2793d5dd7c54648e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:16.3710911+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"36c2b610c350b2a06ed096adbbdf2c63","SpanId":"2793d5dd7c54648e","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:16.3715230+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"36c2b610c350b2a06ed096adbbdf2c63","SpanId":"2793d5dd7c54648e","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:16.3717669+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"36c2b610c350b2a06ed096adbbdf2c63","SpanId":"2793d5dd7c54648e","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:16.3723687+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"36c2b610c350b2a06ed096adbbdf2c63","SpanId":"2793d5dd7c54648e","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:16.3735087+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"36c2b610c350b2a06ed096adbbdf2c63","SpanId":"2793d5dd7c54648e","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:16.3740258+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"36c2b610c350b2a06ed096adbbdf2c63","SpanId":"2793d5dd7c54648e","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:16.3755459+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"36c2b610c350b2a06ed096adbbdf2c63","SpanId":"2793d5dd7c54648e","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:16.3768495+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"36c2b610c350b2a06ed096adbbdf2c63","SpanId":"2793d5dd7c54648e","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:16.3783706+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"36c2b610c350b2a06ed096adbbdf2c63","SpanId":"2793d5dd7c54648e","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:16.3792153+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"36c2b610c350b2a06ed096adbbdf2c63","SpanId":"2793d5dd7c54648e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:16.3794926+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"36c2b610c350b2a06ed096adbbdf2c63","SpanId":"2793d5dd7c54648e","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":7.4862,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:16.3798247+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"36c2b610c350b2a06ed096adbbdf2c63","SpanId":"2793d5dd7c54648e","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:16.3802231+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"36c2b610c350b2a06ed096adbbdf2c63","SpanId":"2793d5dd7c54648e","Properties":{"ElapsedMilliseconds":11.1419,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:19.3713908+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3043495e65ce10d33bd5fb0064501c19","SpanId":"54188b8da7662fd2","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:19.3718235+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"3043495e65ce10d33bd5fb0064501c19","SpanId":"54188b8da7662fd2","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:19.3720853+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3043495e65ce10d33bd5fb0064501c19","SpanId":"54188b8da7662fd2","Properties":{"ElapsedMilliseconds":0.6933,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:19.3757312+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"763f7d36ea9c5a605fa742bbc05d9e21","SpanId":"7ee54c1552a2d105","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:19.3760927+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"763f7d36ea9c5a605fa742bbc05d9e21","SpanId":"7ee54c1552a2d105","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:19.3773922+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"763f7d36ea9c5a605fa742bbc05d9e21","SpanId":"7ee54c1552a2d105","Properties":{"elapsed":"0","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:19.3777936+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"763f7d36ea9c5a605fa742bbc05d9e21","SpanId":"7ee54c1552a2d105","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:19.3780432+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"763f7d36ea9c5a605fa742bbc05d9e21","SpanId":"7ee54c1552a2d105","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:19.3785400+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"763f7d36ea9c5a605fa742bbc05d9e21","SpanId":"7ee54c1552a2d105","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:19.3795151+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"763f7d36ea9c5a605fa742bbc05d9e21","SpanId":"7ee54c1552a2d105","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:19.3799295+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"763f7d36ea9c5a605fa742bbc05d9e21","SpanId":"7ee54c1552a2d105","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:19.3811349+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"763f7d36ea9c5a605fa742bbc05d9e21","SpanId":"7ee54c1552a2d105","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:19.3825377+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"763f7d36ea9c5a605fa742bbc05d9e21","SpanId":"7ee54c1552a2d105","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:19.3841903+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"763f7d36ea9c5a605fa742bbc05d9e21","SpanId":"7ee54c1552a2d105","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:19.3848732+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"763f7d36ea9c5a605fa742bbc05d9e21","SpanId":"7ee54c1552a2d105","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:19.3851744+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"763f7d36ea9c5a605fa742bbc05d9e21","SpanId":"7ee54c1552a2d105","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.9194,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:19.3853566+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"763f7d36ea9c5a605fa742bbc05d9e21","SpanId":"7ee54c1552a2d105","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:19.3855759+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"763f7d36ea9c5a605fa742bbc05d9e21","SpanId":"7ee54c1552a2d105","Properties":{"ElapsedMilliseconds":9.8429,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:22.3698056+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2e0e26dd693ce6716f6947a10a93224c","SpanId":"609d0b5df973b590","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:22.3701933+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"2e0e26dd693ce6716f6947a10a93224c","SpanId":"609d0b5df973b590","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:22.3719158+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e0e26dd693ce6716f6947a10a93224c","SpanId":"609d0b5df973b590","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:22.3724015+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2e0e26dd693ce6716f6947a10a93224c","SpanId":"609d0b5df973b590","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:22.3726011+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2e0e26dd693ce6716f6947a10a93224c","SpanId":"609d0b5df973b590","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:22.3729860+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"2e0e26dd693ce6716f6947a10a93224c","SpanId":"609d0b5df973b590","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:22.3738201+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e0e26dd693ce6716f6947a10a93224c","SpanId":"609d0b5df973b590","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:22.3741969+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"2e0e26dd693ce6716f6947a10a93224c","SpanId":"609d0b5df973b590","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:22.3753247+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e0e26dd693ce6716f6947a10a93224c","SpanId":"609d0b5df973b590","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:22.3765376+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e0e26dd693ce6716f6947a10a93224c","SpanId":"609d0b5df973b590","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:22.3779088+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e0e26dd693ce6716f6947a10a93224c","SpanId":"609d0b5df973b590","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:10:22.3785634+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2e0e26dd693ce6716f6947a10a93224c","SpanId":"609d0b5df973b590","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:22.3788123+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2e0e26dd693ce6716f6947a10a93224c","SpanId":"609d0b5df973b590","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":5.9828,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:22.3789797+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2e0e26dd693ce6716f6947a10a93224c","SpanId":"609d0b5df973b590","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:10:22.3792024+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2e0e26dd693ce6716f6947a10a93224c","SpanId":"609d0b5df973b590","Properties":{"ElapsedMilliseconds":9.4001,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:11:13.3882533+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a9e876e0d6526350e6ddb09abb19a3d5","SpanId":"278513dd569e2473","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:11:13.3887772+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a9e876e0d6526350e6ddb09abb19a3d5","SpanId":"278513dd569e2473","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:11:13.3891366+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a9e876e0d6526350e6ddb09abb19a3d5","SpanId":"278513dd569e2473","Properties":{"ElapsedMilliseconds":0.89,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:11:13.4012223+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b334c8da810e50a8b366a65ad78ed8b8","SpanId":"56fcfee2297e923a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:11:13.4016100+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b334c8da810e50a8b366a65ad78ed8b8","SpanId":"56fcfee2297e923a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:11:13.4038101+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b334c8da810e50a8b366a65ad78ed8b8","SpanId":"56fcfee2297e923a","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:11:13.4042147+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b334c8da810e50a8b366a65ad78ed8b8","SpanId":"56fcfee2297e923a","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:11:13.4044314+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b334c8da810e50a8b366a65ad78ed8b8","SpanId":"56fcfee2297e923a","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:11:13.4048562+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"b334c8da810e50a8b366a65ad78ed8b8","SpanId":"56fcfee2297e923a","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:11:13.4057173+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b334c8da810e50a8b366a65ad78ed8b8","SpanId":"56fcfee2297e923a","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:11:13.4061642+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"b334c8da810e50a8b366a65ad78ed8b8","SpanId":"56fcfee2297e923a","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:11:13.4078141+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b334c8da810e50a8b366a65ad78ed8b8","SpanId":"56fcfee2297e923a","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:11:13.4091761+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b334c8da810e50a8b366a65ad78ed8b8","SpanId":"56fcfee2297e923a","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:11:13.4105381+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b334c8da810e50a8b366a65ad78ed8b8","SpanId":"56fcfee2297e923a","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:11:13.4111609+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b334c8da810e50a8b366a65ad78ed8b8","SpanId":"56fcfee2297e923a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:11:13.4114414+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b334c8da810e50a8b366a65ad78ed8b8","SpanId":"56fcfee2297e923a","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.7247,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:11:13.4116040+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b334c8da810e50a8b366a65ad78ed8b8","SpanId":"56fcfee2297e923a","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:11:13.4117873+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b334c8da810e50a8b366a65ad78ed8b8","SpanId":"56fcfee2297e923a","Properties":{"ElapsedMilliseconds":10.5763,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:12:13.3876668+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"92df81ce0e0620796ab9b8bf56fb9705","SpanId":"424899961f434f4c","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000035","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:12:13.3888099+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"92df81ce0e0620796ab9b8bf56fb9705","SpanId":"424899961f434f4c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000035","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:12:13.3897145+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"92df81ce0e0620796ab9b8bf56fb9705","SpanId":"424899961f434f4c","Properties":{"ElapsedMilliseconds":2.0625,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000035","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:12:13.4107065+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cc05e5f0cd9dc7bf84f28d403013ffac","SpanId":"bfb4a04d92072c91","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:12:13.4113436+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"cc05e5f0cd9dc7bf84f28d403013ffac","SpanId":"bfb4a04d92072c91","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:12:13.4137029+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc05e5f0cd9dc7bf84f28d403013ffac","SpanId":"bfb4a04d92072c91","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:12:13.4140726+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cc05e5f0cd9dc7bf84f28d403013ffac","SpanId":"bfb4a04d92072c91","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:12:13.4142598+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cc05e5f0cd9dc7bf84f28d403013ffac","SpanId":"bfb4a04d92072c91","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:12:13.4148499+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"cc05e5f0cd9dc7bf84f28d403013ffac","SpanId":"bfb4a04d92072c91","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:12:13.4158225+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc05e5f0cd9dc7bf84f28d403013ffac","SpanId":"bfb4a04d92072c91","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:12:13.4162232+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"cc05e5f0cd9dc7bf84f28d403013ffac","SpanId":"bfb4a04d92072c91","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:12:13.4176020+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc05e5f0cd9dc7bf84f28d403013ffac","SpanId":"bfb4a04d92072c91","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:12:13.4189538+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc05e5f0cd9dc7bf84f28d403013ffac","SpanId":"bfb4a04d92072c91","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:12:13.4208212+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc05e5f0cd9dc7bf84f28d403013ffac","SpanId":"bfb4a04d92072c91","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:12:13.4215856+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cc05e5f0cd9dc7bf84f28d403013ffac","SpanId":"bfb4a04d92072c91","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:12:13.4219178+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cc05e5f0cd9dc7bf84f28d403013ffac","SpanId":"bfb4a04d92072c91","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":7.4492,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:12:13.4221148+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cc05e5f0cd9dc7bf84f28d403013ffac","SpanId":"bfb4a04d92072c91","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:12:13.4223433+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cc05e5f0cd9dc7bf84f28d403013ffac","SpanId":"bfb4a04d92072c91","Properties":{"ElapsedMilliseconds":11.6324,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:13:13.3862439+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9a5ed5c6218ebc4871f7aa6a9e469443","SpanId":"1172c401a81e1a7e","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000037","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:13:13.3866594+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9a5ed5c6218ebc4871f7aa6a9e469443","SpanId":"1172c401a81e1a7e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000037","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:13:13.3871236+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9a5ed5c6218ebc4871f7aa6a9e469443","SpanId":"1172c401a81e1a7e","Properties":{"ElapsedMilliseconds":0.8726,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000037","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:13:13.4040104+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"be742a34ffe66139c5a5ea1f1422066f","SpanId":"6cba971205c66571","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:13:13.4043376+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"be742a34ffe66139c5a5ea1f1422066f","SpanId":"6cba971205c66571","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:13:13.4119504+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"be742a34ffe66139c5a5ea1f1422066f","SpanId":"6cba971205c66571","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:13:13.4123517+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"be742a34ffe66139c5a5ea1f1422066f","SpanId":"6cba971205c66571","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:13:13.4125057+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"be742a34ffe66139c5a5ea1f1422066f","SpanId":"6cba971205c66571","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:13:13.4128420+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"be742a34ffe66139c5a5ea1f1422066f","SpanId":"6cba971205c66571","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:13:13.4139652+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"be742a34ffe66139c5a5ea1f1422066f","SpanId":"6cba971205c66571","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:13:13.4143196+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"be742a34ffe66139c5a5ea1f1422066f","SpanId":"6cba971205c66571","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:13:13.4160602+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"be742a34ffe66139c5a5ea1f1422066f","SpanId":"6cba971205c66571","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:13:13.4173583+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"be742a34ffe66139c5a5ea1f1422066f","SpanId":"6cba971205c66571","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:13:13.4195250+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"be742a34ffe66139c5a5ea1f1422066f","SpanId":"6cba971205c66571","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:13:13.4201788+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"be742a34ffe66139c5a5ea1f1422066f","SpanId":"6cba971205c66571","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:13:13.4204028+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"be742a34ffe66139c5a5ea1f1422066f","SpanId":"6cba971205c66571","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":7.701,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:13:13.4205620+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"be742a34ffe66139c5a5ea1f1422066f","SpanId":"6cba971205c66571","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:13:13.4207520+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"be742a34ffe66139c5a5ea1f1422066f","SpanId":"6cba971205c66571","Properties":{"ElapsedMilliseconds":16.7418,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:14:13.3717550+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8b6d13ad95322094ea52a9fcb1e0cac2","SpanId":"2fab8f79179a60e5","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000039","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:14:13.3767314+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"8b6d13ad95322094ea52a9fcb1e0cac2","SpanId":"2fab8f79179a60e5","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000039","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:14:13.3780926+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8b6d13ad95322094ea52a9fcb1e0cac2","SpanId":"2fab8f79179a60e5","Properties":{"ElapsedMilliseconds":6.3403,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000039","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:14:13.3926980+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a50a7255717f725e987d239a3b02cad6","SpanId":"9a21538e1df3d721","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000003A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:14:13.3940025+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a50a7255717f725e987d239a3b02cad6","SpanId":"9a21538e1df3d721","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000003A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:14:13.4005938+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a50a7255717f725e987d239a3b02cad6","SpanId":"9a21538e1df3d721","Properties":{"elapsed":"4","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:0000003A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:14:13.4029611+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a50a7255717f725e987d239a3b02cad6","SpanId":"9a21538e1df3d721","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000003A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:14:13.4037194+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a50a7255717f725e987d239a3b02cad6","SpanId":"9a21538e1df3d721","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:14:13.4058043+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"a50a7255717f725e987d239a3b02cad6","SpanId":"9a21538e1df3d721","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:14:13.4092973+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a50a7255717f725e987d239a3b02cad6","SpanId":"9a21538e1df3d721","Properties":{"elapsed":"2","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:14:13.4126586+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"a50a7255717f725e987d239a3b02cad6","SpanId":"9a21538e1df3d721","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:14:13.4154712+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a50a7255717f725e987d239a3b02cad6","SpanId":"9a21538e1df3d721","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:14:13.4172123+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a50a7255717f725e987d239a3b02cad6","SpanId":"9a21538e1df3d721","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:14:13.4198607+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a50a7255717f725e987d239a3b02cad6","SpanId":"9a21538e1df3d721","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:14:13.4210432+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a50a7255717f725e987d239a3b02cad6","SpanId":"9a21538e1df3d721","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:14:13.4214931+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a50a7255717f725e987d239a3b02cad6","SpanId":"9a21538e1df3d721","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":16.1305,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:0000003A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:14:13.4217996+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a50a7255717f725e987d239a3b02cad6","SpanId":"9a21538e1df3d721","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000003A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:14:13.4228332+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a50a7255717f725e987d239a3b02cad6","SpanId":"9a21538e1df3d721","Properties":{"ElapsedMilliseconds":30.1504,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000003A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:15:13.3914408+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9d6b9dd821ec39a360f325fcf72afb55","SpanId":"ea7f184a67af86db","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000003B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:15:13.3919373+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9d6b9dd821ec39a360f325fcf72afb55","SpanId":"ea7f184a67af86db","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000003B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:15:13.3921825+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9d6b9dd821ec39a360f325fcf72afb55","SpanId":"ea7f184a67af86db","Properties":{"ElapsedMilliseconds":0.7411,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000003B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:15:13.4000564+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"aedd22471fb94d5661125cc7357dd8df","SpanId":"159e0dd54fa39252","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000003C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:15:13.4004297+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"aedd22471fb94d5661125cc7357dd8df","SpanId":"159e0dd54fa39252","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000003C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:15:13.4022069+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aedd22471fb94d5661125cc7357dd8df","SpanId":"159e0dd54fa39252","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:0000003C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:15:13.4026030+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"aedd22471fb94d5661125cc7357dd8df","SpanId":"159e0dd54fa39252","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000003C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:15:13.4027823+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"aedd22471fb94d5661125cc7357dd8df","SpanId":"159e0dd54fa39252","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:15:13.4034395+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"aedd22471fb94d5661125cc7357dd8df","SpanId":"159e0dd54fa39252","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:15:13.4046471+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aedd22471fb94d5661125cc7357dd8df","SpanId":"159e0dd54fa39252","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:15:13.4050514+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"aedd22471fb94d5661125cc7357dd8df","SpanId":"159e0dd54fa39252","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:15:13.4061559+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aedd22471fb94d5661125cc7357dd8df","SpanId":"159e0dd54fa39252","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:15:13.4072525+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aedd22471fb94d5661125cc7357dd8df","SpanId":"159e0dd54fa39252","Properties":{"elapsed":"0","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:15:13.4086716+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aedd22471fb94d5661125cc7357dd8df","SpanId":"159e0dd54fa39252","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:15:13.4093006+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"aedd22471fb94d5661125cc7357dd8df","SpanId":"159e0dd54fa39252","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:15:13.4095300+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"aedd22471fb94d5661125cc7357dd8df","SpanId":"159e0dd54fa39252","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.5343,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:0000003C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:15:13.4097332+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"aedd22471fb94d5661125cc7357dd8df","SpanId":"159e0dd54fa39252","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000003C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:15:13.4099421+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"aedd22471fb94d5661125cc7357dd8df","SpanId":"159e0dd54fa39252","Properties":{"ElapsedMilliseconds":9.8999,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000003C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:16:13.3884788+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a365ca11a2546a216c066ca0ceb83291","SpanId":"a6d134a8f9f065db","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000003D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:16:13.3889378+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a365ca11a2546a216c066ca0ceb83291","SpanId":"a6d134a8f9f065db","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000003D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:16:13.3897627+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a365ca11a2546a216c066ca0ceb83291","SpanId":"a6d134a8f9f065db","Properties":{"ElapsedMilliseconds":1.2749,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000003D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:16:13.4039101+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7900c119902676c89e67df67b1936d82","SpanId":"2297e81eafdd165d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000003E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:16:13.4043415+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"7900c119902676c89e67df67b1936d82","SpanId":"2297e81eafdd165d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000003E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:16:13.4066214+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7900c119902676c89e67df67b1936d82","SpanId":"2297e81eafdd165d","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:0000003E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:16:13.4071242+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7900c119902676c89e67df67b1936d82","SpanId":"2297e81eafdd165d","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000003E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:16:13.4073050+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7900c119902676c89e67df67b1936d82","SpanId":"2297e81eafdd165d","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:16:13.4076669+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"7900c119902676c89e67df67b1936d82","SpanId":"2297e81eafdd165d","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:16:13.4086022+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7900c119902676c89e67df67b1936d82","SpanId":"2297e81eafdd165d","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:16:13.4091038+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"7900c119902676c89e67df67b1936d82","SpanId":"2297e81eafdd165d","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:16:13.4110178+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7900c119902676c89e67df67b1936d82","SpanId":"2297e81eafdd165d","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:16:13.4126065+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7900c119902676c89e67df67b1936d82","SpanId":"2297e81eafdd165d","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:16:13.4149266+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7900c119902676c89e67df67b1936d82","SpanId":"2297e81eafdd165d","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:16:13.4163089+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7900c119902676c89e67df67b1936d82","SpanId":"2297e81eafdd165d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:0000003E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:16:13.4167071+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7900c119902676c89e67df67b1936d82","SpanId":"2297e81eafdd165d","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":9.1978,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:0000003E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:16:13.4172054+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7900c119902676c89e67df67b1936d82","SpanId":"2297e81eafdd165d","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:0000003E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:16:13.4180936+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7900c119902676c89e67df67b1936d82","SpanId":"2297e81eafdd165d","Properties":{"ElapsedMilliseconds":14.2056,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000003E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:17:13.3835306+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2c55532b47adeffcb026827dd3712eaa","SpanId":"abbc762bf8d0bce9","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000003F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:17:13.3840130+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"2c55532b47adeffcb026827dd3712eaa","SpanId":"abbc762bf8d0bce9","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:0000003F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:17:13.3844119+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2c55532b47adeffcb026827dd3712eaa","SpanId":"abbc762bf8d0bce9","Properties":{"ElapsedMilliseconds":0.8714,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:0000003F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:17:13.4025913+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fedb27c883910f01a0dac8a8162cf64d","SpanId":"12a32a8f86b5c501","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000040","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:17:13.4029942+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"fedb27c883910f01a0dac8a8162cf64d","SpanId":"12a32a8f86b5c501","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000040","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:17:13.4045529+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fedb27c883910f01a0dac8a8162cf64d","SpanId":"12a32a8f86b5c501","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000040","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:17:13.4050189+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fedb27c883910f01a0dac8a8162cf64d","SpanId":"12a32a8f86b5c501","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000040","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:17:13.4052000+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fedb27c883910f01a0dac8a8162cf64d","SpanId":"12a32a8f86b5c501","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000040","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:17:13.4056143+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"fedb27c883910f01a0dac8a8162cf64d","SpanId":"12a32a8f86b5c501","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000040","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:17:13.4065107+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fedb27c883910f01a0dac8a8162cf64d","SpanId":"12a32a8f86b5c501","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000040","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:17:13.4068988+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"fedb27c883910f01a0dac8a8162cf64d","SpanId":"12a32a8f86b5c501","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000040","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:17:13.4080697+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fedb27c883910f01a0dac8a8162cf64d","SpanId":"12a32a8f86b5c501","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000040","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:17:13.4092024+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fedb27c883910f01a0dac8a8162cf64d","SpanId":"12a32a8f86b5c501","Properties":{"elapsed":"0","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000040","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:17:13.4105247+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fedb27c883910f01a0dac8a8162cf64d","SpanId":"12a32a8f86b5c501","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000040","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:17:13.4110547+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fedb27c883910f01a0dac8a8162cf64d","SpanId":"12a32a8f86b5c501","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000040","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:17:13.4113029+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fedb27c883910f01a0dac8a8162cf64d","SpanId":"12a32a8f86b5c501","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":5.8435,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000040","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:17:13.4114508+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fedb27c883910f01a0dac8a8162cf64d","SpanId":"12a32a8f86b5c501","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000040","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:17:13.4116245+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fedb27c883910f01a0dac8a8162cf64d","SpanId":"12a32a8f86b5c501","Properties":{"ElapsedMilliseconds":9.0547,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000040","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:18:13.3775275+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"493d61d23ee4273431e865929ae98cab","SpanId":"a3380a916da352ad","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000041","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:18:13.3792429+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"493d61d23ee4273431e865929ae98cab","SpanId":"a3380a916da352ad","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000041","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:18:13.3804319+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"493d61d23ee4273431e865929ae98cab","SpanId":"a3380a916da352ad","Properties":{"ElapsedMilliseconds":2.8958,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000041","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:18:13.3915988+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4e9f0939e3ac2073a92676600c8ffcff","SpanId":"1d5cba9b0b237c59","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000042","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:18:13.3924930+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"4e9f0939e3ac2073a92676600c8ffcff","SpanId":"1d5cba9b0b237c59","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000042","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:18:13.3955934+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4e9f0939e3ac2073a92676600c8ffcff","SpanId":"1d5cba9b0b237c59","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000042","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:18:13.3964666+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4e9f0939e3ac2073a92676600c8ffcff","SpanId":"1d5cba9b0b237c59","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000042","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:18:13.3970653+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4e9f0939e3ac2073a92676600c8ffcff","SpanId":"1d5cba9b0b237c59","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000042","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:18:13.3978926+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"4e9f0939e3ac2073a92676600c8ffcff","SpanId":"1d5cba9b0b237c59","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000042","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:18:13.3994330+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4e9f0939e3ac2073a92676600c8ffcff","SpanId":"1d5cba9b0b237c59","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000042","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:18:13.3999576+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"4e9f0939e3ac2073a92676600c8ffcff","SpanId":"1d5cba9b0b237c59","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000042","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:18:13.4012117+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4e9f0939e3ac2073a92676600c8ffcff","SpanId":"1d5cba9b0b237c59","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000042","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:18:13.4028185+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4e9f0939e3ac2073a92676600c8ffcff","SpanId":"1d5cba9b0b237c59","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000042","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:18:13.4366806+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4e9f0939e3ac2073a92676600c8ffcff","SpanId":"1d5cba9b0b237c59","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000042","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:18:13.4379018+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4e9f0939e3ac2073a92676600c8ffcff","SpanId":"1d5cba9b0b237c59","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000042","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:18:13.4381772+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4e9f0939e3ac2073a92676600c8ffcff","SpanId":"1d5cba9b0b237c59","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":40.6148,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000042","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:18:13.4384076+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4e9f0939e3ac2073a92676600c8ffcff","SpanId":"1d5cba9b0b237c59","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000042","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:18:13.4386526+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4e9f0939e3ac2073a92676600c8ffcff","SpanId":"1d5cba9b0b237c59","Properties":{"ElapsedMilliseconds":47.0308,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000042","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:19:13.3831932+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d5d4f15956c3faab89f854944fae6194","SpanId":"aa62d701f0f93f26","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000043","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:19:13.3835717+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d5d4f15956c3faab89f854944fae6194","SpanId":"aa62d701f0f93f26","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000043","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:19:13.3839438+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d5d4f15956c3faab89f854944fae6194","SpanId":"aa62d701f0f93f26","Properties":{"ElapsedMilliseconds":0.7464,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000043","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:19:13.4021403+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b97c00fa6d92ae446bb2fc924d6d566f","SpanId":"1b7f772add1a5c8c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000044","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:19:13.4026153+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b97c00fa6d92ae446bb2fc924d6d566f","SpanId":"1b7f772add1a5c8c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000044","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:19:13.4044266+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b97c00fa6d92ae446bb2fc924d6d566f","SpanId":"1b7f772add1a5c8c","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000044","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:19:13.4048581+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b97c00fa6d92ae446bb2fc924d6d566f","SpanId":"1b7f772add1a5c8c","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000044","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:19:13.4050140+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b97c00fa6d92ae446bb2fc924d6d566f","SpanId":"1b7f772add1a5c8c","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000044","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:19:13.4053886+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"b97c00fa6d92ae446bb2fc924d6d566f","SpanId":"1b7f772add1a5c8c","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000044","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:19:13.4061985+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b97c00fa6d92ae446bb2fc924d6d566f","SpanId":"1b7f772add1a5c8c","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000044","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:19:13.4065043+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"b97c00fa6d92ae446bb2fc924d6d566f","SpanId":"1b7f772add1a5c8c","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000044","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:19:13.4078831+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b97c00fa6d92ae446bb2fc924d6d566f","SpanId":"1b7f772add1a5c8c","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000044","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:19:13.4089730+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b97c00fa6d92ae446bb2fc924d6d566f","SpanId":"1b7f772add1a5c8c","Properties":{"elapsed":"0","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000044","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:19:13.4104412+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b97c00fa6d92ae446bb2fc924d6d566f","SpanId":"1b7f772add1a5c8c","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000044","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:19:13.4110758+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b97c00fa6d92ae446bb2fc924d6d566f","SpanId":"1b7f772add1a5c8c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000044","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:19:13.4112768+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b97c00fa6d92ae446bb2fc924d6d566f","SpanId":"1b7f772add1a5c8c","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":6.0294,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000044","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:19:13.4114739+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b97c00fa6d92ae446bb2fc924d6d566f","SpanId":"1b7f772add1a5c8c","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000044","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:19:13.4116844+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b97c00fa6d92ae446bb2fc924d6d566f","SpanId":"1b7f772add1a5c8c","Properties":{"ElapsedMilliseconds":9.5455,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000044","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:20:13.3789649+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ca3efd1313d01ab89bef5e6c5f097a8a","SpanId":"a191c609dbaf4ab9","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000045","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:20:13.3795797+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ca3efd1313d01ab89bef5e6c5f097a8a","SpanId":"a191c609dbaf4ab9","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000045","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:20:13.3801074+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ca3efd1313d01ab89bef5e6c5f097a8a","SpanId":"a191c609dbaf4ab9","Properties":{"ElapsedMilliseconds":1.1376,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000045","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:20:13.4010463+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d43dd2033dd3a6681804ce143e0ce7ad","SpanId":"352e02a31dcb1ea6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000046","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:20:13.4016137+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d43dd2033dd3a6681804ce143e0ce7ad","SpanId":"352e02a31dcb1ea6","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR5:00000046","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:20:13.4034434+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d43dd2033dd3a6681804ce143e0ce7ad","SpanId":"352e02a31dcb1ea6","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR5:00000046","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:20:13.4039367+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d43dd2033dd3a6681804ce143e0ce7ad","SpanId":"352e02a31dcb1ea6","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000046","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:20:13.4042825+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d43dd2033dd3a6681804ce143e0ce7ad","SpanId":"352e02a31dcb1ea6","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000046","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:20:13.4047685+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"d43dd2033dd3a6681804ce143e0ce7ad","SpanId":"352e02a31dcb1ea6","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000046","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:20:13.4057831+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d43dd2033dd3a6681804ce143e0ce7ad","SpanId":"352e02a31dcb1ea6","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000046","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:20:13.4062051+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"d43dd2033dd3a6681804ce143e0ce7ad","SpanId":"352e02a31dcb1ea6","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000046","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:20:13.4075464+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d43dd2033dd3a6681804ce143e0ce7ad","SpanId":"352e02a31dcb1ea6","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000046","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:20:13.4088561+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d43dd2033dd3a6681804ce143e0ce7ad","SpanId":"352e02a31dcb1ea6","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000046","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:20:13.4103839+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d43dd2033dd3a6681804ce143e0ce7ad","SpanId":"352e02a31dcb1ea6","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000046","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:20:13.4114265+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d43dd2033dd3a6681804ce143e0ce7ad","SpanId":"352e02a31dcb1ea6","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR5:00000046","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:20:13.4122888+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d43dd2033dd3a6681804ce143e0ce7ad","SpanId":"352e02a31dcb1ea6","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":7.7299,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR5:00000046","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:20:13.4127106+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d43dd2033dd3a6681804ce143e0ce7ad","SpanId":"352e02a31dcb1ea6","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR5:00000046","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:20:13.4129595+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d43dd2033dd3a6681804ce143e0ce7ad","SpanId":"352e02a31dcb1ea6","Properties":{"ElapsedMilliseconds":11.9131,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR5:00000046","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR5"}}
{"Timestamp":"2025-09-03T15:21:13.3819278+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7fc410c5df243a81a0839211a4d3a97f","SpanId":"4a8d3eed6d89b492","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR8:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:21:13.3827013+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"7fc410c5df243a81a0839211a4d3a97f","SpanId":"4a8d3eed6d89b492","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR8:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:21:13.3830605+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7fc410c5df243a81a0839211a4d3a97f","SpanId":"4a8d3eed6d89b492","Properties":{"ElapsedMilliseconds":1.1261,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR8:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:21:13.4024929+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d32b513afa4cffa3c07ec8d064df55c8","SpanId":"56ee1d449feb551a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR8:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:21:13.4029980+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d32b513afa4cffa3c07ec8d064df55c8","SpanId":"56ee1d449feb551a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR8:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:21:13.4047144+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d32b513afa4cffa3c07ec8d064df55c8","SpanId":"56ee1d449feb551a","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR8:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:21:13.4051998+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d32b513afa4cffa3c07ec8d064df55c8","SpanId":"56ee1d449feb551a","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR8:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:21:13.4053999+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d32b513afa4cffa3c07ec8d064df55c8","SpanId":"56ee1d449feb551a","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR8:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:21:13.4057867+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"d32b513afa4cffa3c07ec8d064df55c8","SpanId":"56ee1d449feb551a","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR8:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:21:13.4065499+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d32b513afa4cffa3c07ec8d064df55c8","SpanId":"56ee1d449feb551a","Properties":{"elapsed":"0","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR8:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:21:13.4069159+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"d32b513afa4cffa3c07ec8d064df55c8","SpanId":"56ee1d449feb551a","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR8:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:21:13.4078816+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d32b513afa4cffa3c07ec8d064df55c8","SpanId":"56ee1d449feb551a","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR8:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:21:13.4089414+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d32b513afa4cffa3c07ec8d064df55c8","SpanId":"56ee1d449feb551a","Properties":{"elapsed":"0","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR8:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:21:13.4103921+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d32b513afa4cffa3c07ec8d064df55c8","SpanId":"56ee1d449feb551a","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR8:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:21:13.4110875+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d32b513afa4cffa3c07ec8d064df55c8","SpanId":"56ee1d449feb551a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR8:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:21:13.4112993+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d32b513afa4cffa3c07ec8d064df55c8","SpanId":"56ee1d449feb551a","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":5.6427,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR8:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:21:13.4114825+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d32b513afa4cffa3c07ec8d064df55c8","SpanId":"56ee1d449feb551a","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR8:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:21:13.4116912+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d32b513afa4cffa3c07ec8d064df55c8","SpanId":"56ee1d449feb551a","Properties":{"ElapsedMilliseconds":9.2365,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR8:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:22:13.3777126+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b6f3ce26c6c2979fef6db0b003883335","SpanId":"08a5ec51ea5007b0","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR8:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:22:13.3784364+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b6f3ce26c6c2979fef6db0b003883335","SpanId":"08a5ec51ea5007b0","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR8:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:22:13.3801099+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b6f3ce26c6c2979fef6db0b003883335","SpanId":"08a5ec51ea5007b0","Properties":{"ElapsedMilliseconds":2.0462,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR8:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:22:13.3979119+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1d87e567cc96c771744043ff9c476599","SpanId":"38cb5a52feed8acd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR8:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:22:13.3984766+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1d87e567cc96c771744043ff9c476599","SpanId":"38cb5a52feed8acd","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR8:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:22:13.4017700+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d87e567cc96c771744043ff9c476599","SpanId":"38cb5a52feed8acd","Properties":{"elapsed":"2","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFADC1QQTR8:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:22:13.4026666+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1d87e567cc96c771744043ff9c476599","SpanId":"38cb5a52feed8acd","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR8:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:22:13.4041450+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1d87e567cc96c771744043ff9c476599","SpanId":"38cb5a52feed8acd","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR8:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:22:13.4052763+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"1d87e567cc96c771744043ff9c476599","SpanId":"38cb5a52feed8acd","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR8:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:22:13.4072577+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d87e567cc96c771744043ff9c476599","SpanId":"38cb5a52feed8acd","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR8:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:22:13.4077251+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"1d87e567cc96c771744043ff9c476599","SpanId":"38cb5a52feed8acd","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR8:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:22:13.4093927+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d87e567cc96c771744043ff9c476599","SpanId":"38cb5a52feed8acd","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR8:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:22:13.4114184+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d87e567cc96c771744043ff9c476599","SpanId":"38cb5a52feed8acd","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR8:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:22:13.4158895+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d87e567cc96c771744043ff9c476599","SpanId":"38cb5a52feed8acd","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR8:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T15:22:13.4175539+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1d87e567cc96c771744043ff9c476599","SpanId":"38cb5a52feed8acd","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d351f758-d3e4-4bb9-87d1-c035071f9c45","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFADC1QQTR8:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:22:13.4180866+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1d87e567cc96c771744043ff9c476599","SpanId":"38cb5a52feed8acd","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":13.0589,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFADC1QQTR8:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:22:13.4188592+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1d87e567cc96c771744043ff9c476599","SpanId":"38cb5a52feed8acd","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFADC1QQTR8:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:22:13.4194722+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1d87e567cc96c771744043ff9c476599","SpanId":"38cb5a52feed8acd","Properties":{"ElapsedMilliseconds":21.5678,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR8:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:23:13.3912625+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6e1c406e22f45cd20b345e8ce2e49787","SpanId":"f26efbac98ddb4a4","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR8:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:23:13.3918135+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"6e1c406e22f45cd20b345e8ce2e49787","SpanId":"f26efbac98ddb4a4","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR8:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:23:13.3922441+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6e1c406e22f45cd20b345e8ce2e49787","SpanId":"f26efbac98ddb4a4","Properties":{"ElapsedMilliseconds":0.9773,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR8:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:23:13.4079977+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"393603e55018a5ce29c070233be7ae97","SpanId":"3e4f9ac3de9e47ff","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR8:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:23:13.4086617+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"393603e55018a5ce29c070233be7ae97","SpanId":"3e4f9ac3de9e47ff","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFADC1QQTR8:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:23:13.4095415+03:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"393603e55018a5ce29c070233be7ae97","SpanId":"3e4f9ac3de9e47ff","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/3/2025 12:22:14 PM', Current time (UTC): '9/3/2025 12:23:13 PM'.\n   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFADC1QQTR8:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:23:13.4102976+03:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"393603e55018a5ce29c070233be7ae97","SpanId":"3e4f9ac3de9e47ff","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/3/2025 12:22:14 PM', Current time (UTC): '9/3/2025 12:23:13 PM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFADC1QQTR8:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:23:13.4108696+03:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"393603e55018a5ce29c070233be7ae97","SpanId":"3e4f9ac3de9e47ff","Properties":{"Reason":"These requirements were not met:\nDenyAnonymousAuthorizationRequirement: Requires an authenticated user.","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HNFADC1QQTR8:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:23:13.4111142+03:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"393603e55018a5ce29c070233be7ae97","SpanId":"3e4f9ac3de9e47ff","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFADC1QQTR8:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T15:23:13.4113898+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"393603e55018a5ce29c070233be7ae97","SpanId":"3e4f9ac3de9e47ff","Properties":{"ElapsedMilliseconds":3.3916,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=35&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFADC1QQTR8:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFADC1QQTR8"}}
{"Timestamp":"2025-09-03T16:01:29.7528544+03:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T22:47:02.3832586+03:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/hermoonumu/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-09-03T22:47:02.6780695+03:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://0.0.0.0:6865","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T22:47:02.6809780+03:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T22:47:02.6816545+03:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T22:47:02.6820150+03:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/run/media/hermoonumu/DATA/Project/Learning/MyWebApp/MessagingApp","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T22:50:31.4299385+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ebe496a3d54d422c4eac57cae54e13fa","SpanId":"36eddf2ef8d238ef","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6J:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:31.5130590+03:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"ebe496a3d54d422c4eac57cae54e13fa","SpanId":"36eddf2ef8d238ef","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNFB4CHT3V6J:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:31.5689131+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ebe496a3d54d422c4eac57cae54e13fa","SpanId":"36eddf2ef8d238ef","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4CHT3V6J:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:31.5785414+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ebe496a3d54d422c4eac57cae54e13fa","SpanId":"36eddf2ef8d238ef","Properties":{"ElapsedMilliseconds":151.2187,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6J:00000001","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:31.5996661+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1a66f58580c1fe9e0156d7287a5e7fcb","SpanId":"9d927e0b957f23cb","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6J:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:31.6044660+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1a66f58580c1fe9e0156d7287a5e7fcb","SpanId":"9d927e0b957f23cb","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4CHT3V6J:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:31.8929450+03:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"1a66f58580c1fe9e0156d7287a5e7fcb","SpanId":"9d927e0b957f23cb","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/29/2025 1:21:13 PM', Current time (UTC): '9/3/2025 7:50:31 PM'.\n   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFB4CHT3V6J:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:31.9146817+03:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"1a66f58580c1fe9e0156d7287a5e7fcb","SpanId":"9d927e0b957f23cb","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/29/2025 1:21:13 PM', Current time (UTC): '9/3/2025 7:50:31 PM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFB4CHT3V6J:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:31.9219186+03:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"1a66f58580c1fe9e0156d7287a5e7fcb","SpanId":"9d927e0b957f23cb","Properties":{"Reason":"These requirements were not met:\nDenyAnonymousAuthorizationRequirement: Requires an authenticated user.","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HNFB4CHT3V6J:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:31.9284085+03:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"1a66f58580c1fe9e0156d7287a5e7fcb","SpanId":"9d927e0b957f23cb","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNFB4CHT3V6J:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:31.9300915+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1a66f58580c1fe9e0156d7287a5e7fcb","SpanId":"9d927e0b957f23cb","Properties":{"ElapsedMilliseconds":331.264,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6J:00000002","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:31.9361063+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e70725d1c21e29074798136e54302b05","SpanId":"1c271ed8b02b5d22","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6J:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:31.9372712+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e70725d1c21e29074798136e54302b05","SpanId":"1c271ed8b02b5d22","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4CHT3V6J:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:31.9379398+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e70725d1c21e29074798136e54302b05","SpanId":"1c271ed8b02b5d22","Properties":{"ElapsedMilliseconds":1.8187,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6J:00000003","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:31.9395891+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"441180503ab2259d5104fac38169b599","SpanId":"9e77124469eae87f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":191,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6J:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:31.9422632+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"441180503ab2259d5104fac38169b599","SpanId":"9e77124469eae87f","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4CHT3V6J:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:31.9491371+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"441180503ab2259d5104fac38169b599","SpanId":"9e77124469eae87f","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4CHT3V6J:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:31.9762642+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"441180503ab2259d5104fac38169b599","SpanId":"9e77124469eae87f","Properties":{"RouteData":"{action = \"RefreshTokens\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RefreshTokens(MessagingApp.DTO.RefreshTokenDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f3da03c7-fc87-4a6c-9c93-9ed58bb1914e","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:32.2811260+03:00","Level":"Information","MessageTemplate":"Initiated token refresh by localhost:6865","TraceId":"441180503ab2259d5104fac38169b599","SpanId":"9e77124469eae87f","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"f3da03c7-fc87-4a6c-9c93-9ed58bb1914e","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:34.1653716+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"441180503ab2259d5104fac38169b599","SpanId":"9e77124469eae87f","Properties":{"elapsed":"79","parameters":"@__refreshToken_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"Token\" = @__refreshToken_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f3da03c7-fc87-4a6c-9c93-9ed58bb1914e","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:34.1932885+03:00","Level":"Warning","MessageTemplate":"Invalid refresh token provided by localhost:6865. Refresh failed. qWW2giunwm/pBeEuVW2+DVB4m5cygqg/d0E/ztyq6UpIxVATveWyjFT0pYFn4O/NoY1HRFDe1HG6gYl961KEau3Ya/qCTsFDLJUelQEvGNpJ8n7gWUqQ8nwk1HMKmGDmtXAS1e+vrTb8+K9PhYhnenI7bYGJ/r7W1kWmcZT6ThA=","TraceId":"441180503ab2259d5104fac38169b599","SpanId":"9e77124469eae87f","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","ActionId":"f3da03c7-fc87-4a6c-9c93-9ed58bb1914e","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:34.1996621+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"441180503ab2259d5104fac38169b599","SpanId":"9e77124469eae87f","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f3da03c7-fc87-4a6c-9c93-9ed58bb1914e","ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:34.2062663+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"441180503ab2259d5104fac38169b599","SpanId":"9e77124469eae87f","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","ElapsedMilliseconds":2224.8999,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4CHT3V6J:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:34.2073157+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"441180503ab2259d5104fac38169b599","SpanId":"9e77124469eae87f","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.RefreshTokens (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4CHT3V6J:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:34.2187888+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"441180503ab2259d5104fac38169b599","SpanId":"9e77124469eae87f","Properties":{"ElapsedMilliseconds":2279.1758,"StatusCode":401,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6J:00000004","RequestPath":"/api/auth/refresh","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:57.9962155+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"99c4986ce56aa7f648096626d5eb3678","SpanId":"4dbe00971f968c26","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6J:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:57.9972172+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"99c4986ce56aa7f648096626d5eb3678","SpanId":"4dbe00971f968c26","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4CHT3V6J:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:57.9978392+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"99c4986ce56aa7f648096626d5eb3678","SpanId":"4dbe00971f968c26","Properties":{"ElapsedMilliseconds":1.5715,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6J:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:57.9990865+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"97d262eed49e926ab7adb045917b1097","SpanId":"79f8620b72069edc","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6J:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.0009176+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"97d262eed49e926ab7adb045917b1097","SpanId":"79f8620b72069edc","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4CHT3V6J:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.0027574+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"97d262eed49e926ab7adb045917b1097","SpanId":"79f8620b72069edc","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4CHT3V6J:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.0133842+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"97d262eed49e926ab7adb045917b1097","SpanId":"79f8620b72069edc","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"79fa252b-eb12-4d68-9c54-ccd63f0c96a8","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.0295311+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"97d262eed49e926ab7adb045917b1097","SpanId":"79f8620b72069edc","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"79fa252b-eb12-4d68-9c54-ccd63f0c96a8","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4CHT3V6J","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T22:50:58.0322659+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"97d262eed49e926ab7adb045917b1097","SpanId":"79f8620b72069edc","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"79fa252b-eb12-4d68-9c54-ccd63f0c96a8","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4CHT3V6J","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T22:50:58.1039014+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"97d262eed49e926ab7adb045917b1097","SpanId":"79f8620b72069edc","Properties":{"elapsed":"7","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"79fa252b-eb12-4d68-9c54-ccd63f0c96a8","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4CHT3V6J","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T22:50:58.3197572+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"97d262eed49e926ab7adb045917b1097","SpanId":"79f8620b72069edc","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"79fa252b-eb12-4d68-9c54-ccd63f0c96a8","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4CHT3V6J","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T22:50:58.3270820+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"97d262eed49e926ab7adb045917b1097","SpanId":"79f8620b72069edc","Properties":{"elapsed":"2","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"79fa252b-eb12-4d68-9c54-ccd63f0c96a8","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4CHT3V6J","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T22:50:58.3325751+03:00","Level":"Information","MessageTemplate":"Generating claims for 1234567890","TraceId":"97d262eed49e926ab7adb045917b1097","SpanId":"79f8620b72069edc","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"1234567890","ActionId":"79fa252b-eb12-4d68-9c54-ccd63f0c96a8","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4CHT3V6J","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T22:50:58.3658786+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"97d262eed49e926ab7adb045917b1097","SpanId":"79f8620b72069edc","Properties":{"elapsed":"3","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"79fa252b-eb12-4d68-9c54-ccd63f0c96a8","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4CHT3V6J","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T22:50:58.5874647+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"97d262eed49e926ab7adb045917b1097","SpanId":"79f8620b72069edc","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"RefreshTokens\"\nWHERE \"ID\" = @p0;\nINSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p1, @p2, @p3, @p4)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"1234567890","ActionId":"79fa252b-eb12-4d68-9c54-ccd63f0c96a8","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4CHT3V6J","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T22:50:58.6392698+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"97d262eed49e926ab7adb045917b1097","SpanId":"79f8620b72069edc","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"79fa252b-eb12-4d68-9c54-ccd63f0c96a8","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.6476498+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"97d262eed49e926ab7adb045917b1097","SpanId":"79f8620b72069edc","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":633.6466,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4CHT3V6J:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.6481131+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"97d262eed49e926ab7adb045917b1097","SpanId":"79f8620b72069edc","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4CHT3V6J:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.6487701+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"97d262eed49e926ab7adb045917b1097","SpanId":"79f8620b72069edc","Properties":{"ElapsedMilliseconds":649.69,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6J:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.6616152+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c21e1f173170fdffe4020e43c86e7992","SpanId":"574841d3d801f80f","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6J:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.6622794+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c21e1f173170fdffe4020e43c86e7992","SpanId":"574841d3d801f80f","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4CHT3V6J:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.6627002+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c21e1f173170fdffe4020e43c86e7992","SpanId":"574841d3d801f80f","Properties":{"ElapsedMilliseconds":1.0856,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6J:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.6636467+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ea09f129e930863592ec51e03cc8b03a","SpanId":"d35e5809a4c95ea4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6J:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.6642156+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ea09f129e930863592ec51e03cc8b03a","SpanId":"d35e5809a4c95ea4","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4CHT3V6J:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.7696717+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ea09f129e930863592ec51e03cc8b03a","SpanId":"d35e5809a4c95ea4","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4CHT3V6J:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.7764542+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ea09f129e930863592ec51e03cc8b03a","SpanId":"d35e5809a4c95ea4","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4CHT3V6J:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.7814133+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ea09f129e930863592ec51e03cc8b03a","SpanId":"d35e5809a4c95ea4","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4bc5b5c9-f009-4b08-9c87-fa55931bcc84","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.7885504+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ea09f129e930863592ec51e03cc8b03a","SpanId":"d35e5809a4c95ea4","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4bc5b5c9-f009-4b08-9c87-fa55931bcc84","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.7897719+03:00","Level":"Information","MessageTemplate":"Scope initiated by localhost:6865","TraceId":"ea09f129e930863592ec51e03cc8b03a","SpanId":"d35e5809a4c95ea4","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"4bc5b5c9-f009-4b08-9c87-fa55931bcc84","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T22:50:58.7901031+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"ea09f129e930863592ec51e03cc8b03a","SpanId":"d35e5809a4c95ea4","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"4bc5b5c9-f009-4b08-9c87-fa55931bcc84","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T22:50:58.7903631+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"ea09f129e930863592ec51e03cc8b03a","SpanId":"d35e5809a4c95ea4","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"1234567890","ActionId":"4bc5b5c9-f009-4b08-9c87-fa55931bcc84","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J","Scope":["Username:1234567890"]}}
{"Timestamp":"2025-09-03T22:50:58.7946223+03:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"ea09f129e930863592ec51e03cc8b03a","SpanId":"d35e5809a4c95ea4","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"4bc5b5c9-f009-4b08-9c87-fa55931bcc84","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4CHT3V6J:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.7950720+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ea09f129e930863592ec51e03cc8b03a","SpanId":"d35e5809a4c95ea4","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":13.1081,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4CHT3V6J:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.7954841+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ea09f129e930863592ec51e03cc8b03a","SpanId":"d35e5809a4c95ea4","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4CHT3V6J:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.7962629+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ea09f129e930863592ec51e03cc8b03a","SpanId":"d35e5809a4c95ea4","Properties":{"ElapsedMilliseconds":132.6144,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6J:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4CHT3V6J"}}
{"Timestamp":"2025-09-03T22:50:58.8176995+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"66e0791432cdcee92b388b5f9da76e48","SpanId":"b8bb7edecb343616","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6K:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4CHT3V6K"}}
{"Timestamp":"2025-09-03T22:50:58.8184336+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"66e0791432cdcee92b388b5f9da76e48","SpanId":"b8bb7edecb343616","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4CHT3V6K:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4CHT3V6K"}}
{"Timestamp":"2025-09-03T22:50:58.8188836+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"66e0791432cdcee92b388b5f9da76e48","SpanId":"b8bb7edecb343616","Properties":{"ElapsedMilliseconds":1.1781,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6K:00000001","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4CHT3V6K"}}
{"Timestamp":"2025-09-03T22:50:58.8198971+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1569fc112aa2afe53fce754816aee642","SpanId":"9fd6c96b0c5aef13","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6K:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4CHT3V6K"}}
{"Timestamp":"2025-09-03T22:50:58.8221827+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1569fc112aa2afe53fce754816aee642","SpanId":"9fd6c96b0c5aef13","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4CHT3V6K:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4CHT3V6K"}}
{"Timestamp":"2025-09-03T22:50:58.8252080+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1569fc112aa2afe53fce754816aee642","SpanId":"9fd6c96b0c5aef13","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4CHT3V6K:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4CHT3V6K"}}
{"Timestamp":"2025-09-03T22:50:58.8279259+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1569fc112aa2afe53fce754816aee642","SpanId":"9fd6c96b0c5aef13","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4CHT3V6K:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4CHT3V6K"}}
{"Timestamp":"2025-09-03T22:50:58.8342601+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1569fc112aa2afe53fce754816aee642","SpanId":"9fd6c96b0c5aef13","Properties":{"RouteData":"{action = \"GetUserChats\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Int64]]] GetUserChatsAsync()","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a3fc79df-7844-4992-8218-59490f3814e7","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4CHT3V6K:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4CHT3V6K"}}
{"Timestamp":"2025-09-03T22:50:58.8375359+03:00","Level":"Information","MessageTemplate":"Initiated chats retrieval by 192.168.31.243:6865","TraceId":"1569fc112aa2afe53fce754816aee642","SpanId":"9fd6c96b0c5aef13","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"a3fc79df-7844-4992-8218-59490f3814e7","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4CHT3V6K:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4CHT3V6K"}}
{"Timestamp":"2025-09-03T22:50:58.8395931+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1569fc112aa2afe53fce754816aee642","SpanId":"9fd6c96b0c5aef13","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a3fc79df-7844-4992-8218-59490f3814e7","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4CHT3V6K:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4CHT3V6K"}}
{"Timestamp":"2025-09-03T22:50:59.0062532+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1569fc112aa2afe53fce754816aee642","SpanId":"9fd6c96b0c5aef13","Properties":{"elapsed":"2","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u1.\"ID\", u1.\"PasswordHash\", u1.\"Role\", u1.\"Username\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"Name\", s.\"OwnerID\"\nFROM (\n    SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\n    FROM \"Users\" AS u\n    WHERE u.\"ID\" = @__UserID_0\n    LIMIT 1\n) AS u1\nLEFT JOIN (\n    SELECT u0.\"ChatID\", u0.\"UserID\", c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"UserChatJoinTable\" AS u0\n    INNER JOIN \"Chats\" AS c ON u0.\"ChatID\" = c.\"ID\"\n) AS s ON u1.\"ID\" = s.\"UserID\"\nORDER BY u1.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a3fc79df-7844-4992-8218-59490f3814e7","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4CHT3V6K:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4CHT3V6K"}}
{"Timestamp":"2025-09-03T22:50:59.0488520+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1569fc112aa2afe53fce754816aee642","SpanId":"9fd6c96b0c5aef13","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.UserChatsDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a3fc79df-7844-4992-8218-59490f3814e7","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4CHT3V6K:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4CHT3V6K"}}
{"Timestamp":"2025-09-03T22:50:59.0605823+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1569fc112aa2afe53fce754816aee642","SpanId":"9fd6c96b0c5aef13","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","ElapsedMilliseconds":225.7426,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4CHT3V6K:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4CHT3V6K"}}
{"Timestamp":"2025-09-03T22:50:59.0610732+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1569fc112aa2afe53fce754816aee642","SpanId":"9fd6c96b0c5aef13","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4CHT3V6K:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4CHT3V6K"}}
{"Timestamp":"2025-09-03T22:50:59.0616045+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1569fc112aa2afe53fce754816aee642","SpanId":"9fd6c96b0c5aef13","Properties":{"ElapsedMilliseconds":241.6935,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6K:00000002","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4CHT3V6K"}}
{"Timestamp":"2025-09-03T22:54:33.2729211+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a81afdc4483e193512293a16788204a1","SpanId":"85e493389c0446c0","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6L:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:33.2739465+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a81afdc4483e193512293a16788204a1","SpanId":"85e493389c0446c0","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4CHT3V6L:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:33.2744490+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a81afdc4483e193512293a16788204a1","SpanId":"85e493389c0446c0","Properties":{"ElapsedMilliseconds":1.5153,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6L:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:33.2784450+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c5139f1bc2eee460532e020e7cb649fb","SpanId":"ecfa66ab46066f02","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":50,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6L:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:33.2793767+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c5139f1bc2eee460532e020e7cb649fb","SpanId":"ecfa66ab46066f02","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4CHT3V6L:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:33.2799808+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c5139f1bc2eee460532e020e7cb649fb","SpanId":"ecfa66ab46066f02","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4CHT3V6L:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:33.2859504+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c5139f1bc2eee460532e020e7cb649fb","SpanId":"ecfa66ab46066f02","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.Models.User]] Register(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:33.2909710+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"c5139f1bc2eee460532e020e7cb649fb","SpanId":"ecfa66ab46066f02","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:54:33.2914549+03:00","Level":"Information","MessageTemplate":"Initiated user registration by ","TraceId":"c5139f1bc2eee460532e020e7cb649fb","SpanId":"ecfa66ab46066f02","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:54:33.2939053+03:00","Level":"Information","MessageTemplate":"Adding user to DB","TraceId":"c5139f1bc2eee460532e020e7cb649fb","SpanId":"ecfa66ab46066f02","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:54:33.4596202+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c5139f1bc2eee460532e020e7cb649fb","SpanId":"ecfa66ab46066f02","Properties":{"elapsed":"13","parameters":"@p0='?', @p1='?' (DbType = Int32), @p2='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"Users\" (\"PasswordHash\", \"Role\", \"Username\")\nVALUES (@p0, @p1, @p2)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:54:33.4707628+03:00","Level":"Information","MessageTemplate":"User successfully created, returning HTTP OK","TraceId":"c5139f1bc2eee460532e020e7cb649fb","SpanId":"ecfa66ab46066f02","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:54:33.4714473+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c5139f1bc2eee460532e020e7cb649fb","SpanId":"ecfa66ab46066f02","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:33.4724061+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c5139f1bc2eee460532e020e7cb649fb","SpanId":"ecfa66ab46066f02","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","ElapsedMilliseconds":185.83,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4CHT3V6L:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:33.4728606+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c5139f1bc2eee460532e020e7cb649fb","SpanId":"ecfa66ab46066f02","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4CHT3V6L:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:33.4733375+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c5139f1bc2eee460532e020e7cb649fb","SpanId":"ecfa66ab46066f02","Properties":{"ElapsedMilliseconds":194.8891,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6L:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:49.3459013+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"19bbd1481b90161b51e5c6b30cbf5d21","SpanId":"941987539676da4a","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6L:00000003","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:49.3468072+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"19bbd1481b90161b51e5c6b30cbf5d21","SpanId":"941987539676da4a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4CHT3V6L:00000003","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:49.3474739+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"19bbd1481b90161b51e5c6b30cbf5d21","SpanId":"941987539676da4a","Properties":{"ElapsedMilliseconds":1.53,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6L:00000003","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:49.3514576+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c936cfc83761951c20421a5227854c27","SpanId":"6ca5971d6e3b8d4a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":50,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6L:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:49.3525437+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c936cfc83761951c20421a5227854c27","SpanId":"6ca5971d6e3b8d4a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4CHT3V6L:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:49.3532188+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c936cfc83761951c20421a5227854c27","SpanId":"6ca5971d6e3b8d4a","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4CHT3V6L:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:49.3537367+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c936cfc83761951c20421a5227854c27","SpanId":"6ca5971d6e3b8d4a","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.Models.User]] Register(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:49.3553584+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"c936cfc83761951c20421a5227854c27","SpanId":"6ca5971d6e3b8d4a","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:54:49.3558305+03:00","Level":"Information","MessageTemplate":"Initiated user registration by ","TraceId":"c936cfc83761951c20421a5227854c27","SpanId":"6ca5971d6e3b8d4a","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:54:49.3562729+03:00","Level":"Information","MessageTemplate":"Adding user to DB","TraceId":"c936cfc83761951c20421a5227854c27","SpanId":"6ca5971d6e3b8d4a","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:54:49.4860394+03:00","Level":"Error","MessageTemplate":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c936cfc83761951c20421a5227854c27","SpanId":"6ca5971d6e3b8d4a","Properties":{"elapsed":"9","parameters":"@p0='?', @p1='?' (DbType = Int32), @p2='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"Users\" (\"PasswordHash\", \"Role\", \"Username\")\nVALUES (@p0, @p1, @p2)\nRETURNING \"ID\";","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:54:49.5045085+03:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"c936cfc83761951c20421a5227854c27","SpanId":"6ca5971d6e3b8d4a","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"AK_Users_Username\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"AK_Users_Username\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: Users\n    ConstraintName: AK_Users_Username\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"DataContext","newline":"\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"AK_Users_Username\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"AK_Users_Username\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: Users\n    ConstraintName: AK_Users_Username\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","username":"Marimiana","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:54:49.5100788+03:00","Level":"Warning","MessageTemplate":"A user with such username already exists.","TraceId":"c936cfc83761951c20421a5227854c27","SpanId":"6ca5971d6e3b8d4a","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:54:49.5106910+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c936cfc83761951c20421a5227854c27","SpanId":"6ca5971d6e3b8d4a","Properties":{"ObjectResultType":"ObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:49.5113296+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c936cfc83761951c20421a5227854c27","SpanId":"6ca5971d6e3b8d4a","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","ElapsedMilliseconds":157.2006,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4CHT3V6L:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:49.5118454+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c936cfc83761951c20421a5227854c27","SpanId":"6ca5971d6e3b8d4a","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4CHT3V6L:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:54:49.5122712+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c936cfc83761951c20421a5227854c27","SpanId":"6ca5971d6e3b8d4a","Properties":{"ElapsedMilliseconds":160.836,"StatusCode":409,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6L:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:55:04.3994724+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7cf21392e01994753f1d6e000fec4561","SpanId":"5a86289bcd7412e3","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6L:00000005","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:55:04.4007527+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"7cf21392e01994753f1d6e000fec4561","SpanId":"5a86289bcd7412e3","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4CHT3V6L:00000005","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:55:04.4014789+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7cf21392e01994753f1d6e000fec4561","SpanId":"5a86289bcd7412e3","Properties":{"ElapsedMilliseconds":1.7702,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6L:00000005","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:55:04.4065270+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"56e0a0f0d1dd4373ca7476116ded0364","SpanId":"f77962aa8c373e78","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":50,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6L:00000006","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:55:04.4076735+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"56e0a0f0d1dd4373ca7476116ded0364","SpanId":"f77962aa8c373e78","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4CHT3V6L:00000006","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:55:04.4082504+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"56e0a0f0d1dd4373ca7476116ded0364","SpanId":"f77962aa8c373e78","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4CHT3V6L:00000006","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:55:04.4086976+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"56e0a0f0d1dd4373ca7476116ded0364","SpanId":"f77962aa8c373e78","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.Models.User]] Register(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000006","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:55:04.4103554+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"56e0a0f0d1dd4373ca7476116ded0364","SpanId":"f77962aa8c373e78","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000006","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:55:04.4108271+03:00","Level":"Information","MessageTemplate":"Initiated user registration by ","TraceId":"56e0a0f0d1dd4373ca7476116ded0364","SpanId":"f77962aa8c373e78","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000006","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:55:04.4111048+03:00","Level":"Information","MessageTemplate":"Adding user to DB","TraceId":"56e0a0f0d1dd4373ca7476116ded0364","SpanId":"f77962aa8c373e78","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000006","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:55:04.5364843+03:00","Level":"Error","MessageTemplate":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"56e0a0f0d1dd4373ca7476116ded0364","SpanId":"f77962aa8c373e78","Properties":{"elapsed":"4","parameters":"@p0='?', @p1='?' (DbType = Int32), @p2='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"Users\" (\"PasswordHash\", \"Role\", \"Username\")\nVALUES (@p0, @p1, @p2)\nRETURNING \"ID\";","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000006","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:55:04.5397759+03:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"56e0a0f0d1dd4373ca7476116ded0364","SpanId":"f77962aa8c373e78","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"AK_Users_Username\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"AK_Users_Username\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: Users\n    ConstraintName: AK_Users_Username\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"DataContext","newline":"\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"AK_Users_Username\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"AK_Users_Username\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: Users\n    ConstraintName: AK_Users_Username\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","username":"Marimiana","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000006","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:55:04.5451246+03:00","Level":"Warning","MessageTemplate":"A user with such username already exists.","TraceId":"56e0a0f0d1dd4373ca7476116ded0364","SpanId":"f77962aa8c373e78","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000006","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:55:04.5455452+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"56e0a0f0d1dd4373ca7476116ded0364","SpanId":"f77962aa8c373e78","Properties":{"ObjectResultType":"ObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8c2b8eaf-ad4b-40e3-b585-d26ebc9807fc","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4CHT3V6L:00000006","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:55:04.5460042+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"56e0a0f0d1dd4373ca7476116ded0364","SpanId":"f77962aa8c373e78","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","ElapsedMilliseconds":136.8812,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4CHT3V6L:00000006","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:55:04.5463325+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"56e0a0f0d1dd4373ca7476116ded0364","SpanId":"f77962aa8c373e78","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4CHT3V6L:00000006","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:55:04.5467334+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"56e0a0f0d1dd4373ca7476116ded0364","SpanId":"f77962aa8c373e78","Properties":{"ElapsedMilliseconds":140.2334,"StatusCode":409,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4CHT3V6L:00000006","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4CHT3V6L"}}
{"Timestamp":"2025-09-03T22:55:44.5168938+03:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T22:56:12.8268586+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"189","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DROP DATABASE demo_db WITH (FORCE);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:40.2797943+03:00","Level":"Error","MessageTemplate":"An error occurred using the connection to database '{database}' on server '{server}'.","Properties":{"database":"demo_db","server":"tcp://localhost:5432","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection"}}
{"Timestamp":"2025-09-03T22:57:40.3555020+03:00","Level":"Information","MessageTemplate":"Model snapshot was not found in assembly '{migrationsAssembly}'. Skipping pending model changes check.","Properties":{"migrationsAssembly":"MessagingApp","EventId":{"Id":20413,"Name":"Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotNotFound"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations"}}
{"Timestamp":"2025-09-03T22:57:40.6043330+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"153","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"CREATE DATABASE demo_db;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:40.7803186+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"7","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"CREATE TABLE IF NOT EXISTS \"__EFMigrationsHistory\" (\n    \"MigrationId\" character varying(150) NOT NULL,\n    \"ProductVersion\" character varying(32) NOT NULL,\n    CONSTRAINT \"PK___EFMigrationsHistory\" PRIMARY KEY (\"MigrationId\")\n);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:40.7921722+03:00","Level":"Information","MessageTemplate":"Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.","Properties":{"EventId":{"Id":20411,"Name":"Microsoft.EntityFrameworkCore.Migrations.AcquiringMigrationLock"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations"}}
{"Timestamp":"2025-09-03T22:57:40.7954215+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"LOCK TABLE \"__EFMigrationsHistory\" IN ACCESS EXCLUSIVE MODE","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:40.8003709+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT \"MigrationId\", \"ProductVersion\"\nFROM \"__EFMigrationsHistory\"\nORDER BY \"MigrationId\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:40.8197666+03:00","Level":"Information","MessageTemplate":"Applying migration '{migration}'.","Properties":{"migration":"20250903195708_initial","EventId":{"Id":20402,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationApplying"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations"}}
{"Timestamp":"2025-09-03T22:57:40.8765635+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"CREATE TABLE revoked_jwts (\n    \"ID\" bigint GENERATED BY DEFAULT AS IDENTITY,\n    \"Token\" text NOT NULL,\n    \"JTI\" text NOT NULL,\n    CONSTRAINT \"PK_revoked_jwts\" PRIMARY KEY (\"ID\")\n);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:40.8804910+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"CREATE TABLE \"Users\" (\n    \"ID\" bigint GENERATED BY DEFAULT AS IDENTITY,\n    \"Username\" text NOT NULL,\n    \"PasswordHash\" text NOT NULL,\n    \"Role\" integer NOT NULL,\n    CONSTRAINT \"PK_Users\" PRIMARY KEY (\"ID\"),\n    CONSTRAINT \"AK_Users_Username\" UNIQUE (\"Username\")\n);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:40.8834457+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"CREATE TABLE \"Chats\" (\n    \"ID\" bigint GENERATED BY DEFAULT AS IDENTITY,\n    \"Name\" text NOT NULL,\n    \"OwnerID\" bigint,\n    CONSTRAINT \"PK_Chats\" PRIMARY KEY (\"ID\"),\n    CONSTRAINT \"FK_OwnerChat\" FOREIGN KEY (\"OwnerID\") REFERENCES \"Users\" (\"ID\") ON DELETE RESTRICT\n);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:40.8863827+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"CREATE TABLE \"RefreshTokens\" (\n    \"ID\" bigint GENERATED BY DEFAULT AS IDENTITY,\n    \"UserID\" bigint NOT NULL,\n    \"Token\" text NOT NULL,\n    \"IssuedAt\" timestamp with time zone NOT NULL,\n    \"ExpiresAt\" timestamp with time zone NOT NULL,\n    CONSTRAINT \"PK_RefreshTokens\" PRIMARY KEY (\"ID\"),\n    CONSTRAINT \"FK_RefreshTokens_Users_UserID\" FOREIGN KEY (\"UserID\") REFERENCES \"Users\" (\"ID\") ON DELETE RESTRICT\n);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:40.8902927+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"CREATE TABLE \"Messages\" (\n    \"ID\" bigint GENERATED BY DEFAULT AS IDENTITY,\n    \"OriginID\" bigint NOT NULL,\n    \"DestinationID\" bigint,\n    \"isRead\" boolean NOT NULL,\n    \"chatID\" bigint,\n    \"ChatID\" bigint,\n    \"Text\" text NOT NULL,\n    \"Timestamp\" timestamp with time zone NOT NULL,\n    CONSTRAINT \"PK_Messages\" PRIMARY KEY (\"ID\"),\n    CONSTRAINT \"FK_Messages_Chats_ChatID\" FOREIGN KEY (\"ChatID\") REFERENCES \"Chats\" (\"ID\") ON DELETE CASCADE,\n    CONSTRAINT \"FK_Messages_Chats_chatID\" FOREIGN KEY (\"chatID\") REFERENCES \"Chats\" (\"ID\"),\n    CONSTRAINT \"FK_Messages_Users_DestinationID\" FOREIGN KEY (\"DestinationID\") REFERENCES \"Users\" (\"ID\") ON DELETE RESTRICT,\n    CONSTRAINT \"FK_Messages_Users_OriginID\" FOREIGN KEY (\"OriginID\") REFERENCES \"Users\" (\"ID\") ON DELETE RESTRICT\n);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:40.8929162+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"CREATE TABLE \"UserChatJoinTable\" (\n    \"ChatID\" bigint NOT NULL,\n    \"UserID\" bigint NOT NULL,\n    CONSTRAINT \"PK_UserChatJoinTable\" PRIMARY KEY (\"ChatID\", \"UserID\"),\n    CONSTRAINT \"FK_UserChatJoinTable_Chats_ChatID\" FOREIGN KEY (\"ChatID\") REFERENCES \"Chats\" (\"ID\") ON DELETE CASCADE,\n    CONSTRAINT \"FK_UserChatJoinTable_Users_UserID\" FOREIGN KEY (\"UserID\") REFERENCES \"Users\" (\"ID\") ON DELETE CASCADE\n);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:40.8960198+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"CREATE TABLE \"MessageReadUsers\" (\n    \"MessageId\" bigint NOT NULL,\n    \"UserId\" bigint NOT NULL,\n    CONSTRAINT \"PK_MessageReadUsers\" PRIMARY KEY (\"MessageId\", \"UserId\"),\n    CONSTRAINT \"FK_MessageReadUsers_Messages_MessageId\" FOREIGN KEY (\"MessageId\") REFERENCES \"Messages\" (\"ID\") ON DELETE CASCADE,\n    CONSTRAINT \"FK_MessageReadUsers_Users_UserId\" FOREIGN KEY (\"UserId\") REFERENCES \"Users\" (\"ID\") ON DELETE CASCADE\n);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:40.8978534+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"CREATE INDEX \"IX_Chats_OwnerID\" ON \"Chats\" (\"OwnerID\");","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:40.8993588+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"CREATE INDEX \"IX_MessageReadUsers_UserId\" ON \"MessageReadUsers\" (\"UserId\");","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:40.9011467+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"CREATE INDEX \"IX_Messages_chatID\" ON \"Messages\" (\"chatID\");","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:40.9033558+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"CREATE INDEX \"IX_Messages_ChatId_CreatedAt_Desc\" ON \"Messages\" (\"ChatID\", \"Timestamp\" DESC);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:40.9050340+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"CREATE INDEX \"IX_Messages_DestinationID\" ON \"Messages\" (\"DestinationID\");","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:40.9068474+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"CREATE INDEX \"IX_Messages_OriginID\" ON \"Messages\" (\"OriginID\");","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:40.9087675+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"CREATE INDEX \"IX_RefreshTokens_UserID\" ON \"RefreshTokens\" (\"UserID\");","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:40.9108729+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"CREATE INDEX \"IX_UserChatJoinTable_UserID\" ON \"UserChatJoinTable\" (\"UserID\");","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:40.9124581+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"__EFMigrationsHistory\" (\"MigrationId\", \"ProductVersion\")\nVALUES ('20250903195708_initial', '9.0.6');","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-09-03T22:57:54.3858264+03:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/hermoonumu/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-09-03T22:57:54.5871153+03:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://0.0.0.0:6865","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T22:57:54.5903488+03:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T22:57:54.5910054+03:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T22:57:54.5912086+03:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/run/media/hermoonumu/DATA/Project/Learning/MyWebApp/MessagingApp","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-09-03T22:57:58.8877527+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"04d0aea01b2d12fd777b427400169552","SpanId":"5ebc0860f2ddcb33","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R7:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R7"}}
{"Timestamp":"2025-09-03T22:57:58.8980353+03:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"04d0aea01b2d12fd777b427400169552","SpanId":"5ebc0860f2ddcb33","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNFB4GN8F4R7:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R7"}}
{"Timestamp":"2025-09-03T22:57:58.9375425+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"04d0aea01b2d12fd777b427400169552","SpanId":"5ebc0860f2ddcb33","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R7:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R7"}}
{"Timestamp":"2025-09-03T22:57:58.9459253+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"04d0aea01b2d12fd777b427400169552","SpanId":"5ebc0860f2ddcb33","Properties":{"ElapsedMilliseconds":60.0928,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R7:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R7"}}
{"Timestamp":"2025-09-03T22:57:58.9670957+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eb6c5c4a7df02ba404fc359f098e24a3","SpanId":"f975f291a64f4ead","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":50,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R7:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R7"}}
{"Timestamp":"2025-09-03T22:57:58.9741365+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"eb6c5c4a7df02ba404fc359f098e24a3","SpanId":"f975f291a64f4ead","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R7:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R7"}}
{"Timestamp":"2025-09-03T22:57:59.0372877+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"eb6c5c4a7df02ba404fc359f098e24a3","SpanId":"f975f291a64f4ead","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R7:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R7"}}
{"Timestamp":"2025-09-03T22:57:59.0706070+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"eb6c5c4a7df02ba404fc359f098e24a3","SpanId":"f975f291a64f4ead","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.Models.User]] Register(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R7:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R7"}}
{"Timestamp":"2025-09-03T22:57:59.3069893+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"eb6c5c4a7df02ba404fc359f098e24a3","SpanId":"f975f291a64f4ead","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R7:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R7","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:57:59.3084784+03:00","Level":"Information","MessageTemplate":"Initiated user registration by ","TraceId":"eb6c5c4a7df02ba404fc359f098e24a3","SpanId":"f975f291a64f4ead","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R7:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R7","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:57:59.3115926+03:00","Level":"Information","MessageTemplate":"Adding user to DB","TraceId":"eb6c5c4a7df02ba404fc359f098e24a3","SpanId":"f975f291a64f4ead","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R7:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R7","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:58:01.2323448+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eb6c5c4a7df02ba404fc359f098e24a3","SpanId":"f975f291a64f4ead","Properties":{"elapsed":"76","parameters":"@p0='?', @p1='?' (DbType = Int32), @p2='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"Users\" (\"PasswordHash\", \"Role\", \"Username\")\nVALUES (@p0, @p1, @p2)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R7:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R7","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:58:01.2959636+03:00","Level":"Information","MessageTemplate":"User successfully created, returning HTTP OK","TraceId":"eb6c5c4a7df02ba404fc359f098e24a3","SpanId":"f975f291a64f4ead","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R7:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R7","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T22:58:01.3063252+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"eb6c5c4a7df02ba404fc359f098e24a3","SpanId":"f975f291a64f4ead","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R7:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R7"}}
{"Timestamp":"2025-09-03T22:58:01.3150952+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"eb6c5c4a7df02ba404fc359f098e24a3","SpanId":"f975f291a64f4ead","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","ElapsedMilliseconds":2238.6297,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R7:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R7"}}
{"Timestamp":"2025-09-03T22:58:01.3163979+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"eb6c5c4a7df02ba404fc359f098e24a3","SpanId":"f975f291a64f4ead","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R7:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R7"}}
{"Timestamp":"2025-09-03T22:58:01.3289346+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eb6c5c4a7df02ba404fc359f098e24a3","SpanId":"f975f291a64f4ead","Properties":{"ElapsedMilliseconds":2362.6614,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R7:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R7"}}
{"Timestamp":"2025-09-03T23:01:23.4895107+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"749e4f8846175d6fd694b8f3e80c64ad","SpanId":"201e216293f65385","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:23.4912873+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"749e4f8846175d6fd694b8f3e80c64ad","SpanId":"201e216293f65385","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R8:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:23.4923685+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"749e4f8846175d6fd694b8f3e80c64ad","SpanId":"201e216293f65385","Properties":{"ElapsedMilliseconds":2.8477,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:23.4965907+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b1506978472914156e04472aa2518647","SpanId":"fd58f32bcfd895bc","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":50,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:23.4975371+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b1506978472914156e04472aa2518647","SpanId":"fd58f32bcfd895bc","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R8:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:23.5004718+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b1506978472914156e04472aa2518647","SpanId":"fd58f32bcfd895bc","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R8:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:23.5011031+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b1506978472914156e04472aa2518647","SpanId":"fd58f32bcfd895bc","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.Models.User]] Register(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:23.5055921+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"b1506978472914156e04472aa2518647","SpanId":"fd58f32bcfd895bc","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:23.5060229+03:00","Level":"Information","MessageTemplate":"Initiated user registration by ","TraceId":"b1506978472914156e04472aa2518647","SpanId":"fd58f32bcfd895bc","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:23.5062497+03:00","Level":"Information","MessageTemplate":"Adding user to DB","TraceId":"b1506978472914156e04472aa2518647","SpanId":"fd58f32bcfd895bc","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:23.7173905+03:00","Level":"Error","MessageTemplate":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b1506978472914156e04472aa2518647","SpanId":"fd58f32bcfd895bc","Properties":{"elapsed":"12","parameters":"@p0='?', @p1='?' (DbType = Int32), @p2='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"Users\" (\"PasswordHash\", \"Role\", \"Username\")\nVALUES (@p0, @p1, @p2)\nRETURNING \"ID\";","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:23.7507734+03:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"b1506978472914156e04472aa2518647","SpanId":"fd58f32bcfd895bc","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"AK_Users_Username\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"AK_Users_Username\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: Users\n    ConstraintName: AK_Users_Username\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"DataContext","newline":"\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"AK_Users_Username\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"AK_Users_Username\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: Users\n    ConstraintName: AK_Users_Username\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","username":"Marimiana","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:23.7712661+03:00","Level":"Warning","MessageTemplate":"A user with such username already exists.","TraceId":"b1506978472914156e04472aa2518647","SpanId":"fd58f32bcfd895bc","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:23.7732161+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b1506978472914156e04472aa2518647","SpanId":"fd58f32bcfd895bc","Properties":{"ObjectResultType":"ObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:23.7746564+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b1506978472914156e04472aa2518647","SpanId":"fd58f32bcfd895bc","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","ElapsedMilliseconds":273.1272,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R8:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:23.7753048+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b1506978472914156e04472aa2518647","SpanId":"fd58f32bcfd895bc","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R8:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:23.7764853+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b1506978472914156e04472aa2518647","SpanId":"fd58f32bcfd895bc","Properties":{"ElapsedMilliseconds":279.8517,"StatusCode":409,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:30.1404781+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"41ae64bdd888e42cf6be7580499e5082","SpanId":"bcd9811aeb7e56ba","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:00000003","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:30.1413489+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"41ae64bdd888e42cf6be7580499e5082","SpanId":"bcd9811aeb7e56ba","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R8:00000003","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:30.1419925+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"41ae64bdd888e42cf6be7580499e5082","SpanId":"bcd9811aeb7e56ba","Properties":{"ElapsedMilliseconds":1.4953,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:00000003","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:30.1466619+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fe06b50daee463c88ed8318c23deb7dd","SpanId":"f1afc001c75e3fad","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":50,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:30.1474048+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"fe06b50daee463c88ed8318c23deb7dd","SpanId":"f1afc001c75e3fad","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R8:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:30.1507563+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fe06b50daee463c88ed8318c23deb7dd","SpanId":"f1afc001c75e3fad","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R8:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:30.1512163+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fe06b50daee463c88ed8318c23deb7dd","SpanId":"f1afc001c75e3fad","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.Models.User]] Register(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:30.1577374+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"fe06b50daee463c88ed8318c23deb7dd","SpanId":"f1afc001c75e3fad","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:30.1581227+03:00","Level":"Information","MessageTemplate":"Initiated user registration by ","TraceId":"fe06b50daee463c88ed8318c23deb7dd","SpanId":"f1afc001c75e3fad","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:30.1582758+03:00","Level":"Information","MessageTemplate":"Adding user to DB","TraceId":"fe06b50daee463c88ed8318c23deb7dd","SpanId":"f1afc001c75e3fad","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:30.2931712+03:00","Level":"Error","MessageTemplate":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fe06b50daee463c88ed8318c23deb7dd","SpanId":"f1afc001c75e3fad","Properties":{"elapsed":"3","parameters":"@p0='?', @p1='?' (DbType = Int32), @p2='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"Users\" (\"PasswordHash\", \"Role\", \"Username\")\nVALUES (@p0, @p1, @p2)\nRETURNING \"ID\";","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:30.2965365+03:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"fe06b50daee463c88ed8318c23deb7dd","SpanId":"f1afc001c75e3fad","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"AK_Users_Username\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"AK_Users_Username\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: Users\n    ConstraintName: AK_Users_Username\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"DataContext","newline":"\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"AK_Users_Username\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"AK_Users_Username\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: Users\n    ConstraintName: AK_Users_Username\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","username":"Marimiana","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:30.3005490+03:00","Level":"Warning","MessageTemplate":"A user with such username already exists.","TraceId":"fe06b50daee463c88ed8318c23deb7dd","SpanId":"f1afc001c75e3fad","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:30.3010507+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fe06b50daee463c88ed8318c23deb7dd","SpanId":"f1afc001c75e3fad","Properties":{"ObjectResultType":"ObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:30.3013722+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fe06b50daee463c88ed8318c23deb7dd","SpanId":"f1afc001c75e3fad","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","ElapsedMilliseconds":149.9678,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R8:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:30.3017073+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fe06b50daee463c88ed8318c23deb7dd","SpanId":"f1afc001c75e3fad","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R8:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:30.3020308+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fe06b50daee463c88ed8318c23deb7dd","SpanId":"f1afc001c75e3fad","Properties":{"ElapsedMilliseconds":155.4232,"StatusCode":409,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:00000004","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.1465934+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6638aa1c74618ecc4e73f8eafb6534c2","SpanId":"dd4e0e2bcf0560b2","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.1471881+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"6638aa1c74618ecc4e73f8eafb6534c2","SpanId":"dd4e0e2bcf0560b2","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R8:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.1476704+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6638aa1c74618ecc4e73f8eafb6534c2","SpanId":"dd4e0e2bcf0560b2","Properties":{"ElapsedMilliseconds":1.0329,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.1523096+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"33c7b3f80cc894184a120a0bf1ceef34","SpanId":"52e835cc804d692f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":50,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.1530435+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"33c7b3f80cc894184a120a0bf1ceef34","SpanId":"52e835cc804d692f","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R8:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.1536842+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"33c7b3f80cc894184a120a0bf1ceef34","SpanId":"52e835cc804d692f","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R8:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.1626899+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"33c7b3f80cc894184a120a0bf1ceef34","SpanId":"52e835cc804d692f","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6b1a5bff-75f2-48da-8cc7-7f88e18dc778","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.1674871+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"33c7b3f80cc894184a120a0bf1ceef34","SpanId":"52e835cc804d692f","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"6b1a5bff-75f2-48da-8cc7-7f88e18dc778","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:43.1679002+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"33c7b3f80cc894184a120a0bf1ceef34","SpanId":"52e835cc804d692f","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"6b1a5bff-75f2-48da-8cc7-7f88e18dc778","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:43.5659362+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"33c7b3f80cc894184a120a0bf1ceef34","SpanId":"52e835cc804d692f","Properties":{"elapsed":"2","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"6b1a5bff-75f2-48da-8cc7-7f88e18dc778","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:43.6946498+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"33c7b3f80cc894184a120a0bf1ceef34","SpanId":"52e835cc804d692f","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"6b1a5bff-75f2-48da-8cc7-7f88e18dc778","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:43.7035111+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"33c7b3f80cc894184a120a0bf1ceef34","SpanId":"52e835cc804d692f","Properties":{"elapsed":"2","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"6b1a5bff-75f2-48da-8cc7-7f88e18dc778","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:43.7084682+03:00","Level":"Information","MessageTemplate":"Generating claims for Marimiana","TraceId":"33c7b3f80cc894184a120a0bf1ceef34","SpanId":"52e835cc804d692f","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"Marimiana","ActionId":"6b1a5bff-75f2-48da-8cc7-7f88e18dc778","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:43.7595916+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"33c7b3f80cc894184a120a0bf1ceef34","SpanId":"52e835cc804d692f","Properties":{"elapsed":"3","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"6b1a5bff-75f2-48da-8cc7-7f88e18dc778","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:43.8195186+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"33c7b3f80cc894184a120a0bf1ceef34","SpanId":"52e835cc804d692f","Properties":{"elapsed":"10","parameters":"@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p0, @p1, @p2, @p3)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"6b1a5bff-75f2-48da-8cc7-7f88e18dc778","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:43.8281925+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"33c7b3f80cc894184a120a0bf1ceef34","SpanId":"52e835cc804d692f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"6b1a5bff-75f2-48da-8cc7-7f88e18dc778","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.8371907+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"33c7b3f80cc894184a120a0bf1ceef34","SpanId":"52e835cc804d692f","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":673.9425,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R8:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.8377207+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"33c7b3f80cc894184a120a0bf1ceef34","SpanId":"52e835cc804d692f","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R8:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.8380351+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"33c7b3f80cc894184a120a0bf1ceef34","SpanId":"52e835cc804d692f","Properties":{"ElapsedMilliseconds":685.7512,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.8570806+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f9e92108f12556e1243b350ec7252862","SpanId":"0e54f5fc23844ce0","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.8577956+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f9e92108f12556e1243b350ec7252862","SpanId":"0e54f5fc23844ce0","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R8:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.8582001+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f9e92108f12556e1243b350ec7252862","SpanId":"0e54f5fc23844ce0","Properties":{"ElapsedMilliseconds":1.1385,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.8647790+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cdd305cabeea569fd1a3762ef452ba2a","SpanId":"3826a983851d60e4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.8654389+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"cdd305cabeea569fd1a3762ef452ba2a","SpanId":"3826a983851d60e4","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R8:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.9321606+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cdd305cabeea569fd1a3762ef452ba2a","SpanId":"3826a983851d60e4","Properties":{"elapsed":"2","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R8:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.9414153+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cdd305cabeea569fd1a3762ef452ba2a","SpanId":"3826a983851d60e4","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R8:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.9465460+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cdd305cabeea569fd1a3762ef452ba2a","SpanId":"3826a983851d60e4","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.9519363+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cdd305cabeea569fd1a3762ef452ba2a","SpanId":"3826a983851d60e4","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.9530586+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"cdd305cabeea569fd1a3762ef452ba2a","SpanId":"3826a983851d60e4","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:43.9533033+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"cdd305cabeea569fd1a3762ef452ba2a","SpanId":"3826a983851d60e4","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:43.9536136+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"cdd305cabeea569fd1a3762ef452ba2a","SpanId":"3826a983851d60e4","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"Marimiana","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:01:43.9578135+03:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"cdd305cabeea569fd1a3762ef452ba2a","SpanId":"3826a983851d60e4","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.9582012+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cdd305cabeea569fd1a3762ef452ba2a","SpanId":"3826a983851d60e4","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":11.2916,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R8:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.9584060+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cdd305cabeea569fd1a3762ef452ba2a","SpanId":"3826a983851d60e4","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R8:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.9588695+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cdd305cabeea569fd1a3762ef452ba2a","SpanId":"3826a983851d60e4","Properties":{"ElapsedMilliseconds":94.0964,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:00000008","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.9727134+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"de6e5fbbc3b6097e189bdcacf67c77b0","SpanId":"e0ab06868ed06cf5","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:00000009","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.9734894+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"de6e5fbbc3b6097e189bdcacf67c77b0","SpanId":"e0ab06868ed06cf5","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R8:00000009","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.9747255+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"de6e5fbbc3b6097e189bdcacf67c77b0","SpanId":"e0ab06868ed06cf5","Properties":{"ElapsedMilliseconds":1.9904,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:00000009","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.9781740+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4530d021b2818947007d122094b86e0a","SpanId":"72c3b38031d5a13a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:0000000A","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.9807593+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"4530d021b2818947007d122094b86e0a","SpanId":"72c3b38031d5a13a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R8:0000000A","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.9837211+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4530d021b2818947007d122094b86e0a","SpanId":"72c3b38031d5a13a","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R8:0000000A","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.9865294+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4530d021b2818947007d122094b86e0a","SpanId":"72c3b38031d5a13a","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R8:0000000A","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.9919740+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4530d021b2818947007d122094b86e0a","SpanId":"72c3b38031d5a13a","Properties":{"RouteData":"{action = \"GetUserChats\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Int64]]] GetUserChatsAsync()","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:0000000A","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.9945945+03:00","Level":"Information","MessageTemplate":"Initiated chats retrieval by 192.168.31.243:6865","TraceId":"4530d021b2818947007d122094b86e0a","SpanId":"72c3b38031d5a13a","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:0000000A","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:43.9968257+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4530d021b2818947007d122094b86e0a","SpanId":"72c3b38031d5a13a","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:0000000A","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:44.1742649+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4530d021b2818947007d122094b86e0a","SpanId":"72c3b38031d5a13a","Properties":{"elapsed":"3","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u1.\"ID\", u1.\"PasswordHash\", u1.\"Role\", u1.\"Username\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"Name\", s.\"OwnerID\"\nFROM (\n    SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\n    FROM \"Users\" AS u\n    WHERE u.\"ID\" = @__UserID_0\n    LIMIT 1\n) AS u1\nLEFT JOIN (\n    SELECT u0.\"ChatID\", u0.\"UserID\", c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"UserChatJoinTable\" AS u0\n    INNER JOIN \"Chats\" AS c ON u0.\"ChatID\" = c.\"ID\"\n) AS s ON u1.\"ID\" = s.\"UserID\"\nORDER BY u1.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:0000000A","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:44.1834429+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4530d021b2818947007d122094b86e0a","SpanId":"72c3b38031d5a13a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.UserChatsDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:0000000A","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:44.1927260+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4530d021b2818947007d122094b86e0a","SpanId":"72c3b38031d5a13a","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","ElapsedMilliseconds":200.2839,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R8:0000000A","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:44.1931327+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4530d021b2818947007d122094b86e0a","SpanId":"72c3b38031d5a13a","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R8:0000000A","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:01:44.1934815+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4530d021b2818947007d122094b86e0a","SpanId":"72c3b38031d5a13a","Properties":{"ElapsedMilliseconds":215.3099,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:0000000A","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:05.6238752+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7a3f59be844a25481d9c0ac7976033f0","SpanId":"371ba251c42b41cc","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:05.6244070+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"7a3f59be844a25481d9c0ac7976033f0","SpanId":"371ba251c42b41cc","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:05.6251640+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7a3f59be844a25481d9c0ac7976033f0","SpanId":"371ba251c42b41cc","Properties":{"ElapsedMilliseconds":0.9224,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:05.6265843+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"452a5812e18d5ec7af93ed87aa6c3a76","SpanId":"9ddbf6646ea62c8f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:05.6271958+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"452a5812e18d5ec7af93ed87aa6c3a76","SpanId":"9ddbf6646ea62c8f","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:05.6278595+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"452a5812e18d5ec7af93ed87aa6c3a76","SpanId":"9ddbf6646ea62c8f","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:05.6283039+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"452a5812e18d5ec7af93ed87aa6c3a76","SpanId":"9ddbf6646ea62c8f","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.Models.User]] Register(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:05.6295756+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"452a5812e18d5ec7af93ed87aa6c3a76","SpanId":"9ddbf6646ea62c8f","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"hermoonumu","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:05.6298983+03:00","Level":"Information","MessageTemplate":"Initiated user registration by ","TraceId":"452a5812e18d5ec7af93ed87aa6c3a76","SpanId":"9ddbf6646ea62c8f","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"hermoonumu","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:05.6301325+03:00","Level":"Information","MessageTemplate":"Adding user to DB","TraceId":"452a5812e18d5ec7af93ed87aa6c3a76","SpanId":"9ddbf6646ea62c8f","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"hermoonumu","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:05.7635143+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"452a5812e18d5ec7af93ed87aa6c3a76","SpanId":"9ddbf6646ea62c8f","Properties":{"elapsed":"5","parameters":"@p0='?', @p1='?' (DbType = Int32), @p2='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"Users\" (\"PasswordHash\", \"Role\", \"Username\")\nVALUES (@p0, @p1, @p2)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:05.7649495+03:00","Level":"Information","MessageTemplate":"User successfully created, returning HTTP OK","TraceId":"452a5812e18d5ec7af93ed87aa6c3a76","SpanId":"9ddbf6646ea62c8f","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"hermoonumu","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:05.7653893+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"452a5812e18d5ec7af93ed87aa6c3a76","SpanId":"9ddbf6646ea62c8f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:05.7657847+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"452a5812e18d5ec7af93ed87aa6c3a76","SpanId":"9ddbf6646ea62c8f","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","ElapsedMilliseconds":137.2461,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:05.7661008+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"452a5812e18d5ec7af93ed87aa6c3a76","SpanId":"9ddbf6646ea62c8f","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:05.7667090+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"452a5812e18d5ec7af93ed87aa6c3a76","SpanId":"9ddbf6646ea62c8f","Properties":{"ElapsedMilliseconds":140.0604,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:08.6302831+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eca2bb40cfef97b86f6038bf38612a24","SpanId":"f07289d41053d08e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000003","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:08.6310687+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"eca2bb40cfef97b86f6038bf38612a24","SpanId":"f07289d41053d08e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000003","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:08.6315539+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"eca2bb40cfef97b86f6038bf38612a24","SpanId":"f07289d41053d08e","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000003","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:08.6320641+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"eca2bb40cfef97b86f6038bf38612a24","SpanId":"f07289d41053d08e","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.Models.User]] Register(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000003","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:08.6332293+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"eca2bb40cfef97b86f6038bf38612a24","SpanId":"f07289d41053d08e","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"hermoonumu","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000003","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:08.6337074+03:00","Level":"Information","MessageTemplate":"Initiated user registration by ","TraceId":"eca2bb40cfef97b86f6038bf38612a24","SpanId":"f07289d41053d08e","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"hermoonumu","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000003","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:08.6340109+03:00","Level":"Information","MessageTemplate":"Adding user to DB","TraceId":"eca2bb40cfef97b86f6038bf38612a24","SpanId":"f07289d41053d08e","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"hermoonumu","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000003","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:08.7564147+03:00","Level":"Error","MessageTemplate":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eca2bb40cfef97b86f6038bf38612a24","SpanId":"f07289d41053d08e","Properties":{"elapsed":"3","parameters":"@p0='?', @p1='?' (DbType = Int32), @p2='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"Users\" (\"PasswordHash\", \"Role\", \"Username\")\nVALUES (@p0, @p1, @p2)\nRETURNING \"ID\";","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000003","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:08.7602845+03:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"eca2bb40cfef97b86f6038bf38612a24","SpanId":"f07289d41053d08e","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"AK_Users_Username\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"AK_Users_Username\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: Users\n    ConstraintName: AK_Users_Username\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"DataContext","newline":"\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"AK_Users_Username\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"AK_Users_Username\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: Users\n    ConstraintName: AK_Users_Username\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","username":"hermoonumu","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000003","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:08.7649442+03:00","Level":"Warning","MessageTemplate":"A user with such username already exists.","TraceId":"eca2bb40cfef97b86f6038bf38612a24","SpanId":"f07289d41053d08e","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"hermoonumu","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000003","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:08.7653266+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"eca2bb40cfef97b86f6038bf38612a24","SpanId":"f07289d41053d08e","Properties":{"ObjectResultType":"ObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d1329088-4260-4650-85d3-2053a6d8dc84","ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000003","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:08.7657688+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"eca2bb40cfef97b86f6038bf38612a24","SpanId":"f07289d41053d08e","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","ElapsedMilliseconds":133.4117,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000003","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:08.7659969+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"eca2bb40cfef97b86f6038bf38612a24","SpanId":"f07289d41053d08e","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Register (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000003","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:08.7663235+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eca2bb40cfef97b86f6038bf38612a24","SpanId":"f07289d41053d08e","Properties":{"ElapsedMilliseconds":136.0278,"StatusCode":409,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000003","RequestPath":"/api/auth/register","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:16.8860836+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"555e60290b4f16b69fe780528f0cd4f4","SpanId":"745e5266a6aa34f7","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:16.8867809+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"555e60290b4f16b69fe780528f0cd4f4","SpanId":"745e5266a6aa34f7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:16.8873822+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"555e60290b4f16b69fe780528f0cd4f4","SpanId":"745e5266a6aa34f7","Properties":{"ElapsedMilliseconds":1.2511,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:16.8894581+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f908fd4429d8e981d6727009bd86c5cc","SpanId":"39eeb9de74326ae3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:16.8900399+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f908fd4429d8e981d6727009bd86c5cc","SpanId":"39eeb9de74326ae3","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:16.8904469+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f908fd4429d8e981d6727009bd86c5cc","SpanId":"39eeb9de74326ae3","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:16.8907670+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f908fd4429d8e981d6727009bd86c5cc","SpanId":"39eeb9de74326ae3","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Login(MessagingApp.DTO.AuthDTO)","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6b1a5bff-75f2-48da-8cc7-7f88e18dc778","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:16.8921839+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"f908fd4429d8e981d6727009bd86c5cc","SpanId":"39eeb9de74326ae3","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"hermoonumu","ActionId":"6b1a5bff-75f2-48da-8cc7-7f88e18dc778","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:16.8925397+03:00","Level":"Information","MessageTemplate":"Initiated login","TraceId":"f908fd4429d8e981d6727009bd86c5cc","SpanId":"39eeb9de74326ae3","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"hermoonumu","ActionId":"6b1a5bff-75f2-48da-8cc7-7f88e18dc778","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:16.8955878+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f908fd4429d8e981d6727009bd86c5cc","SpanId":"39eeb9de74326ae3","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"6b1a5bff-75f2-48da-8cc7-7f88e18dc778","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:17.0161654+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"f908fd4429d8e981d6727009bd86c5cc","SpanId":"39eeb9de74326ae3","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"hermoonumu","ActionId":"6b1a5bff-75f2-48da-8cc7-7f88e18dc778","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:17.0189762+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f908fd4429d8e981d6727009bd86c5cc","SpanId":"39eeb9de74326ae3","Properties":{"elapsed":"2","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"6b1a5bff-75f2-48da-8cc7-7f88e18dc778","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:17.0200275+03:00","Level":"Information","MessageTemplate":"Generating claims for hermoonumu","TraceId":"f908fd4429d8e981d6727009bd86c5cc","SpanId":"39eeb9de74326ae3","Properties":{"SourceContext":"MessagingApp.Services.Implementation.AuthService","username":"hermoonumu","ActionId":"6b1a5bff-75f2-48da-8cc7-7f88e18dc778","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:17.0242840+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f908fd4429d8e981d6727009bd86c5cc","SpanId":"39eeb9de74326ae3","Properties":{"elapsed":"1","parameters":"@__user_ID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"ExpiresAt\", r.\"IssuedAt\", r.\"Token\", r.\"UserID\"\nFROM \"RefreshTokens\" AS r\nWHERE r.\"UserID\" = @__user_ID_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"6b1a5bff-75f2-48da-8cc7-7f88e18dc778","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:17.0322429+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f908fd4429d8e981d6727009bd86c5cc","SpanId":"39eeb9de74326ae3","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"RefreshTokens\" (\"ExpiresAt\", \"IssuedAt\", \"Token\", \"UserID\")\nVALUES (@p0, @p1, @p2, @p3)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"6b1a5bff-75f2-48da-8cc7-7f88e18dc778","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:17.0336247+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f908fd4429d8e981d6727009bd86c5cc","SpanId":"39eeb9de74326ae3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"6b1a5bff-75f2-48da-8cc7-7f88e18dc778","ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0343987+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f908fd4429d8e981d6727009bd86c5cc","SpanId":"39eeb9de74326ae3","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","ElapsedMilliseconds":143.2692,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0348137+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f908fd4429d8e981d6727009bd86c5cc","SpanId":"39eeb9de74326ae3","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.Login (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0355327+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f908fd4429d8e981d6727009bd86c5cc","SpanId":"39eeb9de74326ae3","Properties":{"ElapsedMilliseconds":145.9286,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0466198+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7a01bc079b46db6d4afe2ba0f43bfbbf","SpanId":"06467f274a7444d9","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000006","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0471123+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"7a01bc079b46db6d4afe2ba0f43bfbbf","SpanId":"06467f274a7444d9","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000006","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0475593+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7a01bc079b46db6d4afe2ba0f43bfbbf","SpanId":"06467f274a7444d9","Properties":{"ElapsedMilliseconds":0.9523,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000006","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0486182+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ff4f43043f60a0b85af4c627fa44c67a","SpanId":"0b374d10ea47cf1e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0491011+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ff4f43043f60a0b85af4c627fa44c67a","SpanId":"0b374d10ea47cf1e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0527212+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff4f43043f60a0b85af4c627fa44c67a","SpanId":"0b374d10ea47cf1e","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0557616+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ff4f43043f60a0b85af4c627fa44c67a","SpanId":"0b374d10ea47cf1e","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0561435+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ff4f43043f60a0b85af4c627fa44c67a","SpanId":"0b374d10ea47cf1e","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0584633+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff4f43043f60a0b85af4c627fa44c67a","SpanId":"0b374d10ea47cf1e","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0591828+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"ff4f43043f60a0b85af4c627fa44c67a","SpanId":"0b374d10ea47cf1e","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"hermoonumu","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:17.0593654+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"ff4f43043f60a0b85af4c627fa44c67a","SpanId":"0b374d10ea47cf1e","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"hermoonumu","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:17.0596952+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"ff4f43043f60a0b85af4c627fa44c67a","SpanId":"0b374d10ea47cf1e","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"hermoonumu","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:02:17.0603140+03:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"ff4f43043f60a0b85af4c627fa44c67a","SpanId":"0b374d10ea47cf1e","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0605754+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ff4f43043f60a0b85af4c627fa44c67a","SpanId":"0b374d10ea47cf1e","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":4.1989,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0607764+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ff4f43043f60a0b85af4c627fa44c67a","SpanId":"0b374d10ea47cf1e","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0611245+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ff4f43043f60a0b85af4c627fa44c67a","SpanId":"0b374d10ea47cf1e","Properties":{"ElapsedMilliseconds":12.502,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000007","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0895713+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6f763cc9b5a616fcdd5847bfe8870dc1","SpanId":"c900ed12d9d76e76","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000008","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0900553+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"6f763cc9b5a616fcdd5847bfe8870dc1","SpanId":"c900ed12d9d76e76","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000008","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0904924+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6f763cc9b5a616fcdd5847bfe8870dc1","SpanId":"c900ed12d9d76e76","Properties":{"ElapsedMilliseconds":0.93,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000008","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0921465+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"42eb6f52bcd738246d1ee38739e30a33","SpanId":"ee55a8220615669a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000009","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0926120+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"42eb6f52bcd738246d1ee38739e30a33","SpanId":"ee55a8220615669a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000009","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0958712+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"42eb6f52bcd738246d1ee38739e30a33","SpanId":"ee55a8220615669a","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000009","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0965284+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"42eb6f52bcd738246d1ee38739e30a33","SpanId":"ee55a8220615669a","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000009","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0969043+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"42eb6f52bcd738246d1ee38739e30a33","SpanId":"ee55a8220615669a","Properties":{"RouteData":"{action = \"GetUserChats\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Int64]]] GetUserChatsAsync()","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000009","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.0982235+03:00","Level":"Information","MessageTemplate":"Initiated chats retrieval by 192.168.31.243:6865","TraceId":"42eb6f52bcd738246d1ee38739e30a33","SpanId":"ee55a8220615669a","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000009","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.1007155+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"42eb6f52bcd738246d1ee38739e30a33","SpanId":"ee55a8220615669a","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000009","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.1047194+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"42eb6f52bcd738246d1ee38739e30a33","SpanId":"ee55a8220615669a","Properties":{"elapsed":"2","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u1.\"ID\", u1.\"PasswordHash\", u1.\"Role\", u1.\"Username\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"Name\", s.\"OwnerID\"\nFROM (\n    SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\n    FROM \"Users\" AS u\n    WHERE u.\"ID\" = @__UserID_0\n    LIMIT 1\n) AS u1\nLEFT JOIN (\n    SELECT u0.\"ChatID\", u0.\"UserID\", c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"UserChatJoinTable\" AS u0\n    INNER JOIN \"Chats\" AS c ON u0.\"ChatID\" = c.\"ID\"\n) AS s ON u1.\"ID\" = s.\"UserID\"\nORDER BY u1.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000009","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.1054767+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"42eb6f52bcd738246d1ee38739e30a33","SpanId":"ee55a8220615669a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.UserChatsDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000009","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.1060164+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"42eb6f52bcd738246d1ee38739e30a33","SpanId":"ee55a8220615669a","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","ElapsedMilliseconds":8.7961,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000009","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.1063373+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"42eb6f52bcd738246d1ee38739e30a33","SpanId":"ee55a8220615669a","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000009","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:17.1068128+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"42eb6f52bcd738246d1ee38739e30a33","SpanId":"ee55a8220615669a","Properties":{"ElapsedMilliseconds":14.6419,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000009","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:02:37.5204884+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"db2f192e46afca145090fedc89748be2","SpanId":"284b60bdfac4d448","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/newChat","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:0000000B","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.5210127+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"db2f192e46afca145090fedc89748be2","SpanId":"284b60bdfac4d448","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R8:0000000B","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.5214316+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"db2f192e46afca145090fedc89748be2","SpanId":"284b60bdfac4d448","Properties":{"ElapsedMilliseconds":0.9259,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/newChat","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:0000000B","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.5248483+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"14abe7f405e5c1691dbad456a54373a6","SpanId":"69ea22eab501954d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":29,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/newChat","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:0000000C","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.5253464+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"14abe7f405e5c1691dbad456a54373a6","SpanId":"69ea22eab501954d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R8:0000000C","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.5285516+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"14abe7f405e5c1691dbad456a54373a6","SpanId":"69ea22eab501954d","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R8:0000000C","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.5292876+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"14abe7f405e5c1691dbad456a54373a6","SpanId":"69ea22eab501954d","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R8:0000000C","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.5357333+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"14abe7f405e5c1691dbad456a54373a6","SpanId":"69ea22eab501954d","Properties":{"RouteData":"{action = \"NewChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] NewChatAsync(MessagingApp.DTO.ChatDescDTO)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2c8a0fdd-fa6d-4639-b3ec-2af4650ca267","ActionName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:0000000C","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.5475496+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"14abe7f405e5c1691dbad456a54373a6","SpanId":"69ea22eab501954d","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2c8a0fdd-fa6d-4639-b3ec-2af4650ca267","ActionName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:0000000C","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.5487158+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"14abe7f405e5c1691dbad456a54373a6","SpanId":"69ea22eab501954d","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"2c8a0fdd-fa6d-4639-b3ec-2af4650ca267","ActionName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:0000000C","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:37.5489599+03:00","Level":"Information","MessageTemplate":"Attempting to create a chat named \")))))\"","TraceId":"14abe7f405e5c1691dbad456a54373a6","SpanId":"69ea22eab501954d","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"2c8a0fdd-fa6d-4639-b3ec-2af4650ca267","ActionName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:0000000C","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:37.5634266+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"14abe7f405e5c1691dbad456a54373a6","SpanId":"69ea22eab501954d","Properties":{"elapsed":"1","parameters":"@__chatName_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\nFROM \"Chats\" AS c\nWHERE c.\"Name\" = @__chatName_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"2c8a0fdd-fa6d-4639-b3ec-2af4650ca267","ActionName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:0000000C","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:37.6477713+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"14abe7f405e5c1691dbad456a54373a6","SpanId":"69ea22eab501954d","Properties":{"elapsed":"2","parameters":"@p0='?', @p1='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"Chats\" (\"Name\", \"OwnerID\")\nVALUES (@p0, @p1)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"2c8a0fdd-fa6d-4639-b3ec-2af4650ca267","ActionName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:0000000C","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:37.6605723+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"14abe7f405e5c1691dbad456a54373a6","SpanId":"69ea22eab501954d","Properties":{"elapsed":"2","parameters":"@p2='?' (DbType = Int64), @p3='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"UserChatJoinTable\" (\"ChatID\", \"UserID\")\nVALUES (@p2, @p3);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"2c8a0fdd-fa6d-4639-b3ec-2af4650ca267","ActionName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:0000000C","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:37.6806070+03:00","Level":"Information","MessageTemplate":"Successfully created chat \")))))\"","TraceId":"14abe7f405e5c1691dbad456a54373a6","SpanId":"69ea22eab501954d","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"2c8a0fdd-fa6d-4639-b3ec-2af4650ca267","ActionName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:0000000C","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:37.6820182+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"14abe7f405e5c1691dbad456a54373a6","SpanId":"69ea22eab501954d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2c8a0fdd-fa6d-4639-b3ec-2af4650ca267","ActionName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:0000000C","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.6823951+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"14abe7f405e5c1691dbad456a54373a6","SpanId":"69ea22eab501954d","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","ElapsedMilliseconds":146.1726,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R8:0000000C","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.6825735+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"14abe7f405e5c1691dbad456a54373a6","SpanId":"69ea22eab501954d","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.NewChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R8:0000000C","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.6829551+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"14abe7f405e5c1691dbad456a54373a6","SpanId":"69ea22eab501954d","Properties":{"ElapsedMilliseconds":158.0819,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/newChat","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:0000000C","RequestPath":"/api/chats/newChat","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.6899538+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"95de057d8d9a0a46f4abcb6021a79e2e","SpanId":"8baf590d9814f1da","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:0000000D","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.6904731+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"95de057d8d9a0a46f4abcb6021a79e2e","SpanId":"8baf590d9814f1da","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R8:0000000D","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.6909218+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"95de057d8d9a0a46f4abcb6021a79e2e","SpanId":"8baf590d9814f1da","Properties":{"ElapsedMilliseconds":0.9683,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:0000000D","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.6940108+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a0374b8037b5f036d05bb78eb277c16e","SpanId":"40f0322795d7e538","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:0000000E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.6943266+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a0374b8037b5f036d05bb78eb277c16e","SpanId":"40f0322795d7e538","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R8:0000000E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.6971960+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a0374b8037b5f036d05bb78eb277c16e","SpanId":"40f0322795d7e538","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R8:0000000E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.6978090+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a0374b8037b5f036d05bb78eb277c16e","SpanId":"40f0322795d7e538","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R8:0000000E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.6980654+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a0374b8037b5f036d05bb78eb277c16e","SpanId":"40f0322795d7e538","Properties":{"RouteData":"{action = \"GetUserChats\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Int64]]] GetUserChatsAsync()","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:0000000E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.6984654+03:00","Level":"Information","MessageTemplate":"Initiated chats retrieval by 192.168.31.243:6865","TraceId":"a0374b8037b5f036d05bb78eb277c16e","SpanId":"40f0322795d7e538","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:0000000E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.7003722+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a0374b8037b5f036d05bb78eb277c16e","SpanId":"40f0322795d7e538","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:0000000E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.7032477+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a0374b8037b5f036d05bb78eb277c16e","SpanId":"40f0322795d7e538","Properties":{"elapsed":"2","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u1.\"ID\", u1.\"PasswordHash\", u1.\"Role\", u1.\"Username\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"Name\", s.\"OwnerID\"\nFROM (\n    SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\n    FROM \"Users\" AS u\n    WHERE u.\"ID\" = @__UserID_0\n    LIMIT 1\n) AS u1\nLEFT JOIN (\n    SELECT u0.\"ChatID\", u0.\"UserID\", c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"UserChatJoinTable\" AS u0\n    INNER JOIN \"Chats\" AS c ON u0.\"ChatID\" = c.\"ID\"\n) AS s ON u1.\"ID\" = s.\"UserID\"\nORDER BY u1.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:0000000E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.7098244+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a0374b8037b5f036d05bb78eb277c16e","SpanId":"40f0322795d7e538","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.UserChatsDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:0000000E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.7130268+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a0374b8037b5f036d05bb78eb277c16e","SpanId":"40f0322795d7e538","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","ElapsedMilliseconds":14.6893,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R8:0000000E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.7133854+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a0374b8037b5f036d05bb78eb277c16e","SpanId":"40f0322795d7e538","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R8:0000000E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:37.7136839+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a0374b8037b5f036d05bb78eb277c16e","SpanId":"40f0322795d7e538","Properties":{"ElapsedMilliseconds":19.6728,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:0000000E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:41.1039902+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e61958057acdc92f0f9be7a09d7d346d","SpanId":"80d08bbac82ee41e","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:41.1048127+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e61958057acdc92f0f9be7a09d7d346d","SpanId":"80d08bbac82ee41e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R8:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:41.1053469+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e61958057acdc92f0f9be7a09d7d346d","SpanId":"80d08bbac82ee41e","Properties":{"ElapsedMilliseconds":1.2464,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:41.1062640+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"51face443aa41083d289dcf915f2f642","SpanId":"7ff978cb13b54f2a","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:41.1067599+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"51face443aa41083d289dcf915f2f642","SpanId":"7ff978cb13b54f2a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:41.1071048+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"51face443aa41083d289dcf915f2f642","SpanId":"7ff978cb13b54f2a","Properties":{"ElapsedMilliseconds":0.8083,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:41.1081208+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"aae9d99bbe41cc110741d0e5b7336efe","SpanId":"e54b8fa43b4e7c6a","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RA:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RA"}}
{"Timestamp":"2025-09-03T23:02:41.1084085+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"aae9d99bbe41cc110741d0e5b7336efe","SpanId":"e54b8fa43b4e7c6a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RA:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RA"}}
{"Timestamp":"2025-09-03T23:02:41.1086741+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"aae9d99bbe41cc110741d0e5b7336efe","SpanId":"e54b8fa43b4e7c6a","Properties":{"ElapsedMilliseconds":0.5232,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RA:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RA"}}
{"Timestamp":"2025-09-03T23:02:41.1120076+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"17f72dcb1f9c1887b6c361b74ec2f196","SpanId":"ba3b2ea8afe5a46b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:41.1120076+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1f50a52e6b55582b236b1356db4ae26b","SpanId":"fa52ef6b370feb99","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:41.1126782+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"70cd3a4822099c3411e71efb0feb4b2b","SpanId":"47a9010513ab6960","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RA:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RA"}}
{"Timestamp":"2025-09-03T23:02:41.1125391+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"17f72dcb1f9c1887b6c361b74ec2f196","SpanId":"ba3b2ea8afe5a46b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R8:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:41.1127580+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1f50a52e6b55582b236b1356db4ae26b","SpanId":"fa52ef6b370feb99","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:41.1130326+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"70cd3a4822099c3411e71efb0feb4b2b","SpanId":"47a9010513ab6960","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RA:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RA"}}
{"Timestamp":"2025-09-03T23:02:41.1163256+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f50a52e6b55582b236b1356db4ae26b","SpanId":"fa52ef6b370feb99","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:41.1170894+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1f50a52e6b55582b236b1356db4ae26b","SpanId":"fa52ef6b370feb99","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:41.1253591+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1f50a52e6b55582b236b1356db4ae26b","SpanId":"fa52ef6b370feb99","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:41.1311446+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"17f72dcb1f9c1887b6c361b74ec2f196","SpanId":"ba3b2ea8afe5a46b","Properties":{"elapsed":"2","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R8:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:41.1316184+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"70cd3a4822099c3411e71efb0feb4b2b","SpanId":"47a9010513ab6960","Properties":{"elapsed":"2","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RA:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RA"}}
{"Timestamp":"2025-09-03T23:02:41.1318923+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"17f72dcb1f9c1887b6c361b74ec2f196","SpanId":"ba3b2ea8afe5a46b","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R8:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:41.1323042+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"70cd3a4822099c3411e71efb0feb4b2b","SpanId":"47a9010513ab6960","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RA:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RA"}}
{"Timestamp":"2025-09-03T23:02:41.1326735+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"70cd3a4822099c3411e71efb0feb4b2b","SpanId":"47a9010513ab6960","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RA:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RA"}}
{"Timestamp":"2025-09-03T23:02:41.1379082+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"17f72dcb1f9c1887b6c361b74ec2f196","SpanId":"ba3b2ea8afe5a46b","Properties":{"RouteData":"{action = \"getChatMemebers\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] getChatMemebersAsync(System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:41.1398165+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"70cd3a4822099c3411e71efb0feb4b2b","SpanId":"47a9010513ab6960","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RA:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RA"}}
{"Timestamp":"2025-09-03T23:02:41.1398165+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"1f50a52e6b55582b236b1356db4ae26b","SpanId":"fa52ef6b370feb99","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:41.1424263+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"70cd3a4822099c3411e71efb0feb4b2b","SpanId":"47a9010513ab6960","Properties":{"elapsed":"2","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RA:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RA"}}
{"Timestamp":"2025-09-03T23:02:41.1425992+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f50a52e6b55582b236b1356db4ae26b","SpanId":"fa52ef6b370feb99","Properties":{"elapsed":"2","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:41.1434222+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"17f72dcb1f9c1887b6c361b74ec2f196","SpanId":"ba3b2ea8afe5a46b","Properties":{"elapsed":"2","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:41.1434650+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"70cd3a4822099c3411e71efb0feb4b2b","SpanId":"47a9010513ab6960","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RA:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RA","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:41.1434650+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"1f50a52e6b55582b236b1356db4ae26b","SpanId":"fa52ef6b370feb99","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:41.1445850+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"17f72dcb1f9c1887b6c361b74ec2f196","SpanId":"ba3b2ea8afe5a46b","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:41.1449110+03:00","Level":"Information","MessageTemplate":"Attempting to get chat members","TraceId":"17f72dcb1f9c1887b6c361b74ec2f196","SpanId":"ba3b2ea8afe5a46b","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:41.1792492+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"70cd3a4822099c3411e71efb0feb4b2b","SpanId":"47a9010513ab6960","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RA:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RA","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:41.1807804+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f50a52e6b55582b236b1356db4ae26b","SpanId":"fa52ef6b370feb99","Properties":{"elapsed":"3","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:41.1837341+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"17f72dcb1f9c1887b6c361b74ec2f196","SpanId":"ba3b2ea8afe5a46b","Properties":{"elapsed":"3","parameters":"@__chatId_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__chatId_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R8","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:41.1909091+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"17f72dcb1f9c1887b6c361b74ec2f196","SpanId":"ba3b2ea8afe5a46b","Properties":{"ObjectResultType":"ObjectResult","Type":"System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R8:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:41.1919875+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"17f72dcb1f9c1887b6c361b74ec2f196","SpanId":"ba3b2ea8afe5a46b","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","ElapsedMilliseconds":53.741,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R8:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:41.1922783+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"17f72dcb1f9c1887b6c361b74ec2f196","SpanId":"ba3b2ea8afe5a46b","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R8:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:41.1926705+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"17f72dcb1f9c1887b6c361b74ec2f196","SpanId":"ba3b2ea8afe5a46b","Properties":{"ElapsedMilliseconds":80.6027,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R8:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R8"}}
{"Timestamp":"2025-09-03T23:02:41.1940715+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"70cd3a4822099c3411e71efb0feb4b2b","SpanId":"47a9010513ab6960","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RA:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RA","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:41.1940715+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f50a52e6b55582b236b1356db4ae26b","SpanId":"fa52ef6b370feb99","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:41.2638159+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f50a52e6b55582b236b1356db4ae26b","SpanId":"fa52ef6b370feb99","Properties":{"elapsed":"3","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:41.2639643+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"70cd3a4822099c3411e71efb0feb4b2b","SpanId":"47a9010513ab6960","Properties":{"elapsed":"3","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RA:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RA","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:41.2664902+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1f50a52e6b55582b236b1356db4ae26b","SpanId":"fa52ef6b370feb99","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:41.2664902+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"70cd3a4822099c3411e71efb0feb4b2b","SpanId":"47a9010513ab6960","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RA:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RA"}}
{"Timestamp":"2025-09-03T23:02:41.2764173+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"70cd3a4822099c3411e71efb0feb4b2b","SpanId":"47a9010513ab6960","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":143.3627,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RA:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RA"}}
{"Timestamp":"2025-09-03T23:02:41.2767704+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"70cd3a4822099c3411e71efb0feb4b2b","SpanId":"47a9010513ab6960","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RA:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RA"}}
{"Timestamp":"2025-09-03T23:02:41.2764173+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1f50a52e6b55582b236b1356db4ae26b","SpanId":"fa52ef6b370feb99","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":150.7253,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:41.2771548+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"70cd3a4822099c3411e71efb0feb4b2b","SpanId":"47a9010513ab6960","Properties":{"ElapsedMilliseconds":164.5043,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RA:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RA"}}
{"Timestamp":"2025-09-03T23:02:41.2773618+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1f50a52e6b55582b236b1356db4ae26b","SpanId":"fa52ef6b370feb99","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:41.2778278+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1f50a52e6b55582b236b1356db4ae26b","SpanId":"fa52ef6b370feb99","Properties":{"ElapsedMilliseconds":165.8302,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:44.1752080+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9b34bec89d146a5739b53fc89f19fb65","SpanId":"ea3ed5f22c8f16d2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:44.1758055+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9b34bec89d146a5739b53fc89f19fb65","SpanId":"ea3ed5f22c8f16d2","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:44.1788966+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b34bec89d146a5739b53fc89f19fb65","SpanId":"ea3ed5f22c8f16d2","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:44.1797281+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9b34bec89d146a5739b53fc89f19fb65","SpanId":"ea3ed5f22c8f16d2","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:44.1800149+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9b34bec89d146a5739b53fc89f19fb65","SpanId":"ea3ed5f22c8f16d2","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:44.1804938+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"9b34bec89d146a5739b53fc89f19fb65","SpanId":"ea3ed5f22c8f16d2","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:44.1817901+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b34bec89d146a5739b53fc89f19fb65","SpanId":"ea3ed5f22c8f16d2","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:44.1822056+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"9b34bec89d146a5739b53fc89f19fb65","SpanId":"ea3ed5f22c8f16d2","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:44.1842932+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b34bec89d146a5739b53fc89f19fb65","SpanId":"ea3ed5f22c8f16d2","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:44.1861830+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b34bec89d146a5739b53fc89f19fb65","SpanId":"ea3ed5f22c8f16d2","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:44.1886545+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b34bec89d146a5739b53fc89f19fb65","SpanId":"ea3ed5f22c8f16d2","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:44.1895257+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9b34bec89d146a5739b53fc89f19fb65","SpanId":"ea3ed5f22c8f16d2","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:44.1898725+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9b34bec89d146a5739b53fc89f19fb65","SpanId":"ea3ed5f22c8f16d2","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":9.7016,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:44.1900334+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9b34bec89d146a5739b53fc89f19fb65","SpanId":"ea3ed5f22c8f16d2","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:44.1910598+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9b34bec89d146a5739b53fc89f19fb65","SpanId":"ea3ed5f22c8f16d2","Properties":{"ElapsedMilliseconds":15.8636,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:47.1479851+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b5bab3a23fa34ceca220c708f858e479","SpanId":"f5817a479b478d81","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:47.1485573+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b5bab3a23fa34ceca220c708f858e479","SpanId":"f5817a479b478d81","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:47.1491867+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b5bab3a23fa34ceca220c708f858e479","SpanId":"f5817a479b478d81","Properties":{"ElapsedMilliseconds":1.1561,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000004","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:47.1554187+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"88f8e742be81c3a4114cfa578bf456dd","SpanId":"3d5ba09ca205d741","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:47.1559457+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"88f8e742be81c3a4114cfa578bf456dd","SpanId":"3d5ba09ca205d741","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:47.1590588+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88f8e742be81c3a4114cfa578bf456dd","SpanId":"3d5ba09ca205d741","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:47.1596834+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"88f8e742be81c3a4114cfa578bf456dd","SpanId":"3d5ba09ca205d741","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:47.1599278+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"88f8e742be81c3a4114cfa578bf456dd","SpanId":"3d5ba09ca205d741","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:47.1607098+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"88f8e742be81c3a4114cfa578bf456dd","SpanId":"3d5ba09ca205d741","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:47.1624331+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88f8e742be81c3a4114cfa578bf456dd","SpanId":"3d5ba09ca205d741","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:47.1632367+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"88f8e742be81c3a4114cfa578bf456dd","SpanId":"3d5ba09ca205d741","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:47.1653808+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88f8e742be81c3a4114cfa578bf456dd","SpanId":"3d5ba09ca205d741","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:47.1674679+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88f8e742be81c3a4114cfa578bf456dd","SpanId":"3d5ba09ca205d741","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:47.1706074+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88f8e742be81c3a4114cfa578bf456dd","SpanId":"3d5ba09ca205d741","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:47.1713582+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"88f8e742be81c3a4114cfa578bf456dd","SpanId":"3d5ba09ca205d741","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:47.1717302+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"88f8e742be81c3a4114cfa578bf456dd","SpanId":"3d5ba09ca205d741","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":11.5217,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:47.1719750+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"88f8e742be81c3a4114cfa578bf456dd","SpanId":"3d5ba09ca205d741","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:47.1721886+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"88f8e742be81c3a4114cfa578bf456dd","SpanId":"3d5ba09ca205d741","Properties":{"ElapsedMilliseconds":16.7691,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000005","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:50.1142639+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5c824b3dbce2e34ecb807c314da2acdc","SpanId":"da983983ca1981d8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:50.1148415+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"5c824b3dbce2e34ecb807c314da2acdc","SpanId":"da983983ca1981d8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:50.1187094+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5c824b3dbce2e34ecb807c314da2acdc","SpanId":"da983983ca1981d8","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:50.1192897+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5c824b3dbce2e34ecb807c314da2acdc","SpanId":"da983983ca1981d8","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:50.1196933+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5c824b3dbce2e34ecb807c314da2acdc","SpanId":"da983983ca1981d8","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:50.1204774+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"5c824b3dbce2e34ecb807c314da2acdc","SpanId":"da983983ca1981d8","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:50.1225867+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5c824b3dbce2e34ecb807c314da2acdc","SpanId":"da983983ca1981d8","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:50.1231826+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"5c824b3dbce2e34ecb807c314da2acdc","SpanId":"da983983ca1981d8","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:50.1258579+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5c824b3dbce2e34ecb807c314da2acdc","SpanId":"da983983ca1981d8","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:50.1286055+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5c824b3dbce2e34ecb807c314da2acdc","SpanId":"da983983ca1981d8","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:50.1323108+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5c824b3dbce2e34ecb807c314da2acdc","SpanId":"da983983ca1981d8","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:50.1332995+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5c824b3dbce2e34ecb807c314da2acdc","SpanId":"da983983ca1981d8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:50.1338979+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5c824b3dbce2e34ecb807c314da2acdc","SpanId":"da983983ca1981d8","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":14.0007,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:50.1341366+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5c824b3dbce2e34ecb807c314da2acdc","SpanId":"da983983ca1981d8","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:50.1344356+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5c824b3dbce2e34ecb807c314da2acdc","SpanId":"da983983ca1981d8","Properties":{"ElapsedMilliseconds":20.2228,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000006","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:53.1861873+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8bef7051c65d4884ff8a866aaccd79ae","SpanId":"51175f40002c9468","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000007","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:53.1867893+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"8bef7051c65d4884ff8a866aaccd79ae","SpanId":"51175f40002c9468","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000007","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:53.1872832+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8bef7051c65d4884ff8a866aaccd79ae","SpanId":"51175f40002c9468","Properties":{"ElapsedMilliseconds":1.1,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000007","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:53.1911466+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0c3e6a100283583c66dad460102c8139","SpanId":"c6af851d4e26a7fd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:53.1914607+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"0c3e6a100283583c66dad460102c8139","SpanId":"c6af851d4e26a7fd","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:53.1947817+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0c3e6a100283583c66dad460102c8139","SpanId":"c6af851d4e26a7fd","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:53.1953382+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0c3e6a100283583c66dad460102c8139","SpanId":"c6af851d4e26a7fd","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:53.1956234+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0c3e6a100283583c66dad460102c8139","SpanId":"c6af851d4e26a7fd","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:53.1964894+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"0c3e6a100283583c66dad460102c8139","SpanId":"c6af851d4e26a7fd","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:53.1985639+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0c3e6a100283583c66dad460102c8139","SpanId":"c6af851d4e26a7fd","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:53.1990564+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"0c3e6a100283583c66dad460102c8139","SpanId":"c6af851d4e26a7fd","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:53.2013247+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0c3e6a100283583c66dad460102c8139","SpanId":"c6af851d4e26a7fd","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:53.2039042+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0c3e6a100283583c66dad460102c8139","SpanId":"c6af851d4e26a7fd","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:53.2068067+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0c3e6a100283583c66dad460102c8139","SpanId":"c6af851d4e26a7fd","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:53.2074229+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0c3e6a100283583c66dad460102c8139","SpanId":"c6af851d4e26a7fd","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:53.2077150+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0c3e6a100283583c66dad460102c8139","SpanId":"c6af851d4e26a7fd","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":11.8927,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:53.2078679+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0c3e6a100283583c66dad460102c8139","SpanId":"c6af851d4e26a7fd","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:53.2081541+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0c3e6a100283583c66dad460102c8139","SpanId":"c6af851d4e26a7fd","Properties":{"ElapsedMilliseconds":17.0097,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000008","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:56.1560321+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5d74a9d31e0aaa16ff281f908387d78b","SpanId":"7ec9a139af9e1c6f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:56.1566713+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"5d74a9d31e0aaa16ff281f908387d78b","SpanId":"7ec9a139af9e1c6f","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:56.1602757+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d74a9d31e0aaa16ff281f908387d78b","SpanId":"7ec9a139af9e1c6f","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:56.1610476+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5d74a9d31e0aaa16ff281f908387d78b","SpanId":"7ec9a139af9e1c6f","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:56.1614143+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5d74a9d31e0aaa16ff281f908387d78b","SpanId":"7ec9a139af9e1c6f","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:56.1622391+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"5d74a9d31e0aaa16ff281f908387d78b","SpanId":"7ec9a139af9e1c6f","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:56.1642658+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d74a9d31e0aaa16ff281f908387d78b","SpanId":"7ec9a139af9e1c6f","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:56.1648871+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"5d74a9d31e0aaa16ff281f908387d78b","SpanId":"7ec9a139af9e1c6f","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:56.1674969+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d74a9d31e0aaa16ff281f908387d78b","SpanId":"7ec9a139af9e1c6f","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:56.1702131+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d74a9d31e0aaa16ff281f908387d78b","SpanId":"7ec9a139af9e1c6f","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:56.1734138+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d74a9d31e0aaa16ff281f908387d78b","SpanId":"7ec9a139af9e1c6f","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:56.1744792+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5d74a9d31e0aaa16ff281f908387d78b","SpanId":"7ec9a139af9e1c6f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:56.1750477+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5d74a9d31e0aaa16ff281f908387d78b","SpanId":"7ec9a139af9e1c6f","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":13.3103,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:56.1754701+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5d74a9d31e0aaa16ff281f908387d78b","SpanId":"7ec9a139af9e1c6f","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:56.1759592+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5d74a9d31e0aaa16ff281f908387d78b","SpanId":"7ec9a139af9e1c6f","Properties":{"ElapsedMilliseconds":19.9152,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000009","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:59.1255049+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0cf129d93fa0c3a24991540296e9c182","SpanId":"609ea9f21aa24ca1","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000000A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:59.1257954+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"0cf129d93fa0c3a24991540296e9c182","SpanId":"609ea9f21aa24ca1","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000000A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:59.1259869+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0cf129d93fa0c3a24991540296e9c182","SpanId":"609ea9f21aa24ca1","Properties":{"ElapsedMilliseconds":0.4796,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000000A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:59.1299663+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"381cb4ca25eb1d903e67fe820f9c5252","SpanId":"30e5644c3c267a13","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:59.1304611+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"381cb4ca25eb1d903e67fe820f9c5252","SpanId":"30e5644c3c267a13","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:59.1327564+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"381cb4ca25eb1d903e67fe820f9c5252","SpanId":"30e5644c3c267a13","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:59.1330928+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"381cb4ca25eb1d903e67fe820f9c5252","SpanId":"30e5644c3c267a13","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:59.1332942+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"381cb4ca25eb1d903e67fe820f9c5252","SpanId":"30e5644c3c267a13","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:59.1337323+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"381cb4ca25eb1d903e67fe820f9c5252","SpanId":"30e5644c3c267a13","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:59.1348078+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"381cb4ca25eb1d903e67fe820f9c5252","SpanId":"30e5644c3c267a13","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:59.1352373+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"381cb4ca25eb1d903e67fe820f9c5252","SpanId":"30e5644c3c267a13","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:59.1366918+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"381cb4ca25eb1d903e67fe820f9c5252","SpanId":"30e5644c3c267a13","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:59.1382232+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"381cb4ca25eb1d903e67fe820f9c5252","SpanId":"30e5644c3c267a13","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:59.1402099+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"381cb4ca25eb1d903e67fe820f9c5252","SpanId":"30e5644c3c267a13","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:02:59.1408325+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"381cb4ca25eb1d903e67fe820f9c5252","SpanId":"30e5644c3c267a13","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:59.1410631+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"381cb4ca25eb1d903e67fe820f9c5252","SpanId":"30e5644c3c267a13","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":7.6436,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:59.1411940+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"381cb4ca25eb1d903e67fe820f9c5252","SpanId":"30e5644c3c267a13","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:02:59.1413809+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"381cb4ca25eb1d903e67fe820f9c5252","SpanId":"30e5644c3c267a13","Properties":{"ElapsedMilliseconds":11.4167,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000000B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.6621164+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4f761840967f10eeec118356bf802ea9","SpanId":"ecf464218b89887b","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/newMember","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000000C","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.6627318+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"4f761840967f10eeec118356bf802ea9","SpanId":"ecf464218b89887b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000000C","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.6631081+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4f761840967f10eeec118356bf802ea9","SpanId":"ecf464218b89887b","Properties":{"ElapsedMilliseconds":1.0487,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/newMember","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000000C","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.6677095+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"92e2088eac91a94dfeb8110983caeb90","SpanId":"19a7cc2abe05bc90","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":37,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/newMember","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000000D","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.6680974+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"92e2088eac91a94dfeb8110983caeb90","SpanId":"19a7cc2abe05bc90","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000000D","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.6708146+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"92e2088eac91a94dfeb8110983caeb90","SpanId":"19a7cc2abe05bc90","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:0000000D","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.6714342+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"92e2088eac91a94dfeb8110983caeb90","SpanId":"19a7cc2abe05bc90","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000000D","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.6765713+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"92e2088eac91a94dfeb8110983caeb90","SpanId":"19a7cc2abe05bc90","Properties":{"RouteData":"{action = \"AddMemberToChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMemberToChatAsync(MessagingApp.DTO.NewMemberChatDTO)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"452e4fab-6428-4b97-877f-36d3caea6ad2","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000D","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.6889509+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"92e2088eac91a94dfeb8110983caeb90","SpanId":"19a7cc2abe05bc90","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"452e4fab-6428-4b97-877f-36d3caea6ad2","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000D","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.6898444+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"92e2088eac91a94dfeb8110983caeb90","SpanId":"19a7cc2abe05bc90","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"452e4fab-6428-4b97-877f-36d3caea6ad2","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000D","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:00.6901273+03:00","Level":"Information","MessageTemplate":"Attempting to add all the members into chat \"1\"","TraceId":"92e2088eac91a94dfeb8110983caeb90","SpanId":"19a7cc2abe05bc90","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"452e4fab-6428-4b97-877f-36d3caea6ad2","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000D","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:00.7196543+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"92e2088eac91a94dfeb8110983caeb90","SpanId":"19a7cc2abe05bc90","Properties":{"elapsed":"2","parameters":"@__nmcDTO_ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__nmcDTO_ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"452e4fab-6428-4b97-877f-36d3caea6ad2","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000D","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:00.7667901+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"92e2088eac91a94dfeb8110983caeb90","SpanId":"19a7cc2abe05bc90","Properties":{"elapsed":"2","parameters":"@__username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u1.\"ID\", u1.\"PasswordHash\", u1.\"Role\", u1.\"Username\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"Name\", s.\"OwnerID\"\nFROM (\n    SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\n    FROM \"Users\" AS u\n    WHERE u.\"Username\" = @__username_0\n    LIMIT 1\n) AS u1\nLEFT JOIN (\n    SELECT u0.\"ChatID\", u0.\"UserID\", c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"UserChatJoinTable\" AS u0\n    INNER JOIN \"Chats\" AS c ON u0.\"ChatID\" = c.\"ID\"\n) AS s ON u1.\"ID\" = s.\"UserID\"\nORDER BY u1.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"452e4fab-6428-4b97-877f-36d3caea6ad2","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000D","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:00.7837262+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"92e2088eac91a94dfeb8110983caeb90","SpanId":"19a7cc2abe05bc90","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"UserChatJoinTable\" (\"ChatID\", \"UserID\")\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"452e4fab-6428-4b97-877f-36d3caea6ad2","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000D","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:00.7844287+03:00","Level":"Information","MessageTemplate":"Successfully added all members","TraceId":"92e2088eac91a94dfeb8110983caeb90","SpanId":"19a7cc2abe05bc90","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"452e4fab-6428-4b97-877f-36d3caea6ad2","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000D","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:00.7850281+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"92e2088eac91a94dfeb8110983caeb90","SpanId":"19a7cc2abe05bc90","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"452e4fab-6428-4b97-877f-36d3caea6ad2","ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000D","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.7853221+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"92e2088eac91a94dfeb8110983caeb90","SpanId":"19a7cc2abe05bc90","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","ElapsedMilliseconds":108.4488,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:0000000D","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.7854958+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"92e2088eac91a94dfeb8110983caeb90","SpanId":"19a7cc2abe05bc90","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.AddMemberToChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000000D","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.7857989+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"92e2088eac91a94dfeb8110983caeb90","SpanId":"19a7cc2abe05bc90","Properties":{"ElapsedMilliseconds":118.0865,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/newMember","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000000D","RequestPath":"/api/chats/newMember","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.7940435+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d22ecf4936ec6ba9bfe2b24bc7f6d67e","SpanId":"2d7ac5884aacf32a","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000000E","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.7944594+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d22ecf4936ec6ba9bfe2b24bc7f6d67e","SpanId":"2d7ac5884aacf32a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000000E","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.7949337+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d22ecf4936ec6ba9bfe2b24bc7f6d67e","SpanId":"2d7ac5884aacf32a","Properties":{"ElapsedMilliseconds":0.8812,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000000E","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.8007506+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c14aca49f76f26304509ea701a9d966e","SpanId":"d1dee1eecc2f5f6f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.8012464+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c14aca49f76f26304509ea701a9d966e","SpanId":"d1dee1eecc2f5f6f","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.8038100+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c14aca49f76f26304509ea701a9d966e","SpanId":"d1dee1eecc2f5f6f","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.8043092+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c14aca49f76f26304509ea701a9d966e","SpanId":"d1dee1eecc2f5f6f","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.8045079+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c14aca49f76f26304509ea701a9d966e","SpanId":"d1dee1eecc2f5f6f","Properties":{"RouteData":"{action = \"getChatMemebers\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] getChatMemebersAsync(System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.8063262+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c14aca49f76f26304509ea701a9d966e","SpanId":"d1dee1eecc2f5f6f","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.8068979+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"c14aca49f76f26304509ea701a9d966e","SpanId":"d1dee1eecc2f5f6f","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:00.8070601+03:00","Level":"Information","MessageTemplate":"Attempting to get chat members","TraceId":"c14aca49f76f26304509ea701a9d966e","SpanId":"d1dee1eecc2f5f6f","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:00.8088339+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c14aca49f76f26304509ea701a9d966e","SpanId":"d1dee1eecc2f5f6f","Properties":{"elapsed":"1","parameters":"@__chatId_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__chatId_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:00.8098434+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c14aca49f76f26304509ea701a9d966e","SpanId":"d1dee1eecc2f5f6f","Properties":{"ObjectResultType":"ObjectResult","Type":"System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.8103082+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c14aca49f76f26304509ea701a9d966e","SpanId":"d1dee1eecc2f5f6f","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","ElapsedMilliseconds":5.6011,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.8105081+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c14aca49f76f26304509ea701a9d966e","SpanId":"d1dee1eecc2f5f6f","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:00.8108031+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c14aca49f76f26304509ea701a9d966e","SpanId":"d1dee1eecc2f5f6f","Properties":{"ElapsedMilliseconds":10.0432,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:02.1983095+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"895a4df523f3264791732350d3911c35","SpanId":"46573af1ed58bd16","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:02.1989277+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"895a4df523f3264791732350d3911c35","SpanId":"46573af1ed58bd16","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:02.2016087+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"895a4df523f3264791732350d3911c35","SpanId":"46573af1ed58bd16","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:02.2021238+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"895a4df523f3264791732350d3911c35","SpanId":"46573af1ed58bd16","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:02.2024158+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"895a4df523f3264791732350d3911c35","SpanId":"46573af1ed58bd16","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:02.2029665+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"895a4df523f3264791732350d3911c35","SpanId":"46573af1ed58bd16","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:02.2042834+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"895a4df523f3264791732350d3911c35","SpanId":"46573af1ed58bd16","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:02.2047434+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"895a4df523f3264791732350d3911c35","SpanId":"46573af1ed58bd16","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:02.2067629+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"895a4df523f3264791732350d3911c35","SpanId":"46573af1ed58bd16","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:02.2088983+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"895a4df523f3264791732350d3911c35","SpanId":"46573af1ed58bd16","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:02.2109770+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"895a4df523f3264791732350d3911c35","SpanId":"46573af1ed58bd16","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:02.2117127+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"895a4df523f3264791732350d3911c35","SpanId":"46573af1ed58bd16","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:02.2120154+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"895a4df523f3264791732350d3911c35","SpanId":"46573af1ed58bd16","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":9.4473,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:02.2121670+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"895a4df523f3264791732350d3911c35","SpanId":"46573af1ed58bd16","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:02.2123825+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"895a4df523f3264791732350d3911c35","SpanId":"46573af1ed58bd16","Properties":{"ElapsedMilliseconds":14.0857,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000010","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:05.1668259+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e6b7681836c2eea36d0a6023455ee065","SpanId":"4d8b8c77d29a484b","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000011","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:05.1672860+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e6b7681836c2eea36d0a6023455ee065","SpanId":"4d8b8c77d29a484b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000011","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:05.1675841+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e6b7681836c2eea36d0a6023455ee065","SpanId":"4d8b8c77d29a484b","Properties":{"ElapsedMilliseconds":0.7597,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000011","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:05.1740323+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dd5936d2f4d242d131d81b3597415bbb","SpanId":"12d3d464e5e45fec","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000012","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:05.1744300+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"dd5936d2f4d242d131d81b3597415bbb","SpanId":"12d3d464e5e45fec","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000012","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:05.1766942+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dd5936d2f4d242d131d81b3597415bbb","SpanId":"12d3d464e5e45fec","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000012","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:05.1771694+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dd5936d2f4d242d131d81b3597415bbb","SpanId":"12d3d464e5e45fec","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000012","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:05.1773983+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dd5936d2f4d242d131d81b3597415bbb","SpanId":"12d3d464e5e45fec","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000012","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:05.1780331+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"dd5936d2f4d242d131d81b3597415bbb","SpanId":"12d3d464e5e45fec","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000012","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:05.1793919+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dd5936d2f4d242d131d81b3597415bbb","SpanId":"12d3d464e5e45fec","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000012","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:05.1798060+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"dd5936d2f4d242d131d81b3597415bbb","SpanId":"12d3d464e5e45fec","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000012","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:05.1815633+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dd5936d2f4d242d131d81b3597415bbb","SpanId":"12d3d464e5e45fec","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000012","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:05.1834302+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dd5936d2f4d242d131d81b3597415bbb","SpanId":"12d3d464e5e45fec","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000012","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:05.1857204+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dd5936d2f4d242d131d81b3597415bbb","SpanId":"12d3d464e5e45fec","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000012","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:05.1863343+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dd5936d2f4d242d131d81b3597415bbb","SpanId":"12d3d464e5e45fec","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000012","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:05.1866206+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dd5936d2f4d242d131d81b3597415bbb","SpanId":"12d3d464e5e45fec","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":8.9853,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000012","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:05.1870761+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dd5936d2f4d242d131d81b3597415bbb","SpanId":"12d3d464e5e45fec","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000012","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:05.1874010+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dd5936d2f4d242d131d81b3597415bbb","SpanId":"12d3d464e5e45fec","Properties":{"ElapsedMilliseconds":13.3681,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000012","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:06.3802581+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"778cc53538c9551b526194df073dc086","SpanId":"6367583102d3b528","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.3807002+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"778cc53538c9551b526194df073dc086","SpanId":"6367583102d3b528","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.3810212+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"778cc53538c9551b526194df073dc086","SpanId":"6367583102d3b528","Properties":{"ElapsedMilliseconds":0.7626,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000000A","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.3861480+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"05b56f09280e207c58c31509153b5175","SpanId":"cc9abf744bad0c5a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.3866219+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"05b56f09280e207c58c31509153b5175","SpanId":"cc9abf744bad0c5a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.3892995+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"05b56f09280e207c58c31509153b5175","SpanId":"cc9abf744bad0c5a","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.3898472+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"05b56f09280e207c58c31509153b5175","SpanId":"cc9abf744bad0c5a","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.3900788+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"05b56f09280e207c58c31509153b5175","SpanId":"cc9abf744bad0c5a","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.3917894+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"05b56f09280e207c58c31509153b5175","SpanId":"cc9abf744bad0c5a","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.3923412+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"05b56f09280e207c58c31509153b5175","SpanId":"cc9abf744bad0c5a","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"hermoonumu","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:06.3925085+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"05b56f09280e207c58c31509153b5175","SpanId":"cc9abf744bad0c5a","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"hermoonumu","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:06.3927829+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"05b56f09280e207c58c31509153b5175","SpanId":"cc9abf744bad0c5a","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"hermoonumu","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:06.3931620+03:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"05b56f09280e207c58c31509153b5175","SpanId":"cc9abf744bad0c5a","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.3933556+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"05b56f09280e207c58c31509153b5175","SpanId":"cc9abf744bad0c5a","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":3.1394,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.3935611+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"05b56f09280e207c58c31509153b5175","SpanId":"cc9abf744bad0c5a","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.3938728+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"05b56f09280e207c58c31509153b5175","SpanId":"cc9abf744bad0c5a","Properties":{"ElapsedMilliseconds":7.7189,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000000B","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.4059086+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"81b71dff2e444d953b43384e089058c3","SpanId":"0f1fd6afa2403411","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000000C","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.4063614+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"81b71dff2e444d953b43384e089058c3","SpanId":"0f1fd6afa2403411","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:0000000C","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.4068187+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"81b71dff2e444d953b43384e089058c3","SpanId":"0f1fd6afa2403411","Properties":{"ElapsedMilliseconds":0.9062,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000000C","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.4085963+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"19d3a23faf48e74b90efb1e80df53718","SpanId":"5a0166df7d2c757b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000000D","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.4090566+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"19d3a23faf48e74b90efb1e80df53718","SpanId":"5a0166df7d2c757b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:0000000D","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.4118752+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"19d3a23faf48e74b90efb1e80df53718","SpanId":"5a0166df7d2c757b","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:0000000D","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.4125208+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"19d3a23faf48e74b90efb1e80df53718","SpanId":"5a0166df7d2c757b","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000000D","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.4128903+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"19d3a23faf48e74b90efb1e80df53718","SpanId":"5a0166df7d2c757b","Properties":{"RouteData":"{action = \"GetUserChats\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Int64]]] GetUserChatsAsync()","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000000D","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.4133717+03:00","Level":"Information","MessageTemplate":"Initiated chats retrieval by 192.168.31.243:6865","TraceId":"19d3a23faf48e74b90efb1e80df53718","SpanId":"5a0166df7d2c757b","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000000D","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.4153833+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"19d3a23faf48e74b90efb1e80df53718","SpanId":"5a0166df7d2c757b","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000000D","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.4181723+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"19d3a23faf48e74b90efb1e80df53718","SpanId":"5a0166df7d2c757b","Properties":{"elapsed":"2","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u1.\"ID\", u1.\"PasswordHash\", u1.\"Role\", u1.\"Username\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"Name\", s.\"OwnerID\"\nFROM (\n    SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\n    FROM \"Users\" AS u\n    WHERE u.\"ID\" = @__UserID_0\n    LIMIT 1\n) AS u1\nLEFT JOIN (\n    SELECT u0.\"ChatID\", u0.\"UserID\", c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"UserChatJoinTable\" AS u0\n    INNER JOIN \"Chats\" AS c ON u0.\"ChatID\" = c.\"ID\"\n) AS s ON u1.\"ID\" = s.\"UserID\"\nORDER BY u1.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000000D","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.4191749+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"19d3a23faf48e74b90efb1e80df53718","SpanId":"5a0166df7d2c757b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.UserChatsDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000000D","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.4197710+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"19d3a23faf48e74b90efb1e80df53718","SpanId":"5a0166df7d2c757b","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","ElapsedMilliseconds":6.5522,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:0000000D","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.4199890+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"19d3a23faf48e74b90efb1e80df53718","SpanId":"5a0166df7d2c757b","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000000D","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:06.4202948+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"19d3a23faf48e74b90efb1e80df53718","SpanId":"5a0166df7d2c757b","Properties":{"ElapsedMilliseconds":11.7006,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000000D","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:08.1371016+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"242f73fadccf6c8c1b03242e56a7a425","SpanId":"4a1834ac2c4731a5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:08.1378036+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"242f73fadccf6c8c1b03242e56a7a425","SpanId":"4a1834ac2c4731a5","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:08.1404114+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"242f73fadccf6c8c1b03242e56a7a425","SpanId":"4a1834ac2c4731a5","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:08.1409760+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"242f73fadccf6c8c1b03242e56a7a425","SpanId":"4a1834ac2c4731a5","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:08.1412956+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"242f73fadccf6c8c1b03242e56a7a425","SpanId":"4a1834ac2c4731a5","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:08.1419486+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"242f73fadccf6c8c1b03242e56a7a425","SpanId":"4a1834ac2c4731a5","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:08.1435437+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"242f73fadccf6c8c1b03242e56a7a425","SpanId":"4a1834ac2c4731a5","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:08.1440753+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"242f73fadccf6c8c1b03242e56a7a425","SpanId":"4a1834ac2c4731a5","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:08.1462070+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"242f73fadccf6c8c1b03242e56a7a425","SpanId":"4a1834ac2c4731a5","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:08.1484465+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"242f73fadccf6c8c1b03242e56a7a425","SpanId":"4a1834ac2c4731a5","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:08.1512273+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"242f73fadccf6c8c1b03242e56a7a425","SpanId":"4a1834ac2c4731a5","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:08.1519952+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"242f73fadccf6c8c1b03242e56a7a425","SpanId":"4a1834ac2c4731a5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:08.1524811+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"242f73fadccf6c8c1b03242e56a7a425","SpanId":"4a1834ac2c4731a5","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":11.0245,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:08.1526958+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"242f73fadccf6c8c1b03242e56a7a425","SpanId":"4a1834ac2c4731a5","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:08.1529214+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"242f73fadccf6c8c1b03242e56a7a425","SpanId":"4a1834ac2c4731a5","Properties":{"ElapsedMilliseconds":15.8275,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:11.1099055+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"66ba934bb4ca4126668f15c2d5136af4","SpanId":"379eedda0df0150c","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:11.1105191+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"66ba934bb4ca4126668f15c2d5136af4","SpanId":"379eedda0df0150c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:11.1108743+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"66ba934bb4ca4126668f15c2d5136af4","SpanId":"379eedda0df0150c","Properties":{"ElapsedMilliseconds":0.971,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000014","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:11.1191333+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5df1cd405a97bdbcd33e687c181d9bb4","SpanId":"351839d5b30b5880","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:11.1198251+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"5df1cd405a97bdbcd33e687c181d9bb4","SpanId":"351839d5b30b5880","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:11.1227609+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5df1cd405a97bdbcd33e687c181d9bb4","SpanId":"351839d5b30b5880","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:11.1232640+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5df1cd405a97bdbcd33e687c181d9bb4","SpanId":"351839d5b30b5880","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:11.1234769+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5df1cd405a97bdbcd33e687c181d9bb4","SpanId":"351839d5b30b5880","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:11.1241630+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"5df1cd405a97bdbcd33e687c181d9bb4","SpanId":"351839d5b30b5880","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:11.1256814+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5df1cd405a97bdbcd33e687c181d9bb4","SpanId":"351839d5b30b5880","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:11.1260854+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"5df1cd405a97bdbcd33e687c181d9bb4","SpanId":"351839d5b30b5880","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:11.1279156+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5df1cd405a97bdbcd33e687c181d9bb4","SpanId":"351839d5b30b5880","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:11.1299741+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5df1cd405a97bdbcd33e687c181d9bb4","SpanId":"351839d5b30b5880","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:11.1322132+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5df1cd405a97bdbcd33e687c181d9bb4","SpanId":"351839d5b30b5880","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:11.1329327+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5df1cd405a97bdbcd33e687c181d9bb4","SpanId":"351839d5b30b5880","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:11.1332350+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5df1cd405a97bdbcd33e687c181d9bb4","SpanId":"351839d5b30b5880","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":9.4874,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:11.1334017+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5df1cd405a97bdbcd33e687c181d9bb4","SpanId":"351839d5b30b5880","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:11.1338246+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5df1cd405a97bdbcd33e687c181d9bb4","SpanId":"351839d5b30b5880","Properties":{"ElapsedMilliseconds":14.6959,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000015","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:14.2058131+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"44bfa076ebd9058355ba488106521201","SpanId":"1a2404c80dbcc5ed","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:14.2062856+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"44bfa076ebd9058355ba488106521201","SpanId":"1a2404c80dbcc5ed","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:14.2085997+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44bfa076ebd9058355ba488106521201","SpanId":"1a2404c80dbcc5ed","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:14.2089651+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"44bfa076ebd9058355ba488106521201","SpanId":"1a2404c80dbcc5ed","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:14.2092003+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"44bfa076ebd9058355ba488106521201","SpanId":"1a2404c80dbcc5ed","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:14.2097710+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"44bfa076ebd9058355ba488106521201","SpanId":"1a2404c80dbcc5ed","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:14.2111657+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44bfa076ebd9058355ba488106521201","SpanId":"1a2404c80dbcc5ed","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:14.2115309+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"44bfa076ebd9058355ba488106521201","SpanId":"1a2404c80dbcc5ed","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:14.2131400+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44bfa076ebd9058355ba488106521201","SpanId":"1a2404c80dbcc5ed","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:14.2146166+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44bfa076ebd9058355ba488106521201","SpanId":"1a2404c80dbcc5ed","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:14.2167859+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44bfa076ebd9058355ba488106521201","SpanId":"1a2404c80dbcc5ed","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:14.2173067+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"44bfa076ebd9058355ba488106521201","SpanId":"1a2404c80dbcc5ed","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:14.2177160+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"44bfa076ebd9058355ba488106521201","SpanId":"1a2404c80dbcc5ed","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":8.2365,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:14.2179189+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"44bfa076ebd9058355ba488106521201","SpanId":"1a2404c80dbcc5ed","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:14.2181606+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"44bfa076ebd9058355ba488106521201","SpanId":"1a2404c80dbcc5ed","Properties":{"ElapsedMilliseconds":12.3468,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:15.5212781+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2bae334a3c04b794369d90dc163ea4e4","SpanId":"20bd4fd7ea75ccb7","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000000E","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.5216588+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"2bae334a3c04b794369d90dc163ea4e4","SpanId":"20bd4fd7ea75ccb7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:0000000E","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.5219112+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2bae334a3c04b794369d90dc163ea4e4","SpanId":"20bd4fd7ea75ccb7","Properties":{"ElapsedMilliseconds":0.632,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000000E","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.5234307+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b557d60aa3e83d626d885e39191aac0a","SpanId":"ac0b73f51c136513","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.5239060+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b557d60aa3e83d626d885e39191aac0a","SpanId":"ac0b73f51c136513","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.5248259+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"75ba455407e1fcac1413f6c7f978aa24","SpanId":"22eb4ad24730b280","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RC:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.5252159+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"75ba455407e1fcac1413f6c7f978aa24","SpanId":"22eb4ad24730b280","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RC:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.5255437+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"75ba455407e1fcac1413f6c7f978aa24","SpanId":"22eb4ad24730b280","Properties":{"ElapsedMilliseconds":0.711,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RC:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.5264334+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b557d60aa3e83d626d885e39191aac0a","SpanId":"ac0b73f51c136513","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.5266091+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"68da618c79c72484647c65022ce69afe","SpanId":"dd1d3f863430685d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RC:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.5276962+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b557d60aa3e83d626d885e39191aac0a","SpanId":"ac0b73f51c136513","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.5281538+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b557d60aa3e83d626d885e39191aac0a","SpanId":"ac0b73f51c136513","Properties":{"RouteData":"{action = \"getChatMemebers\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] getChatMemebersAsync(System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.5277416+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"68da618c79c72484647c65022ce69afe","SpanId":"dd1d3f863430685d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RC:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.5306016+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b557d60aa3e83d626d885e39191aac0a","SpanId":"ac0b73f51c136513","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.5306116+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"68da618c79c72484647c65022ce69afe","SpanId":"dd1d3f863430685d","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RC:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.5310406+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"b557d60aa3e83d626d885e39191aac0a","SpanId":"ac0b73f51c136513","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.5315131+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"68da618c79c72484647c65022ce69afe","SpanId":"dd1d3f863430685d","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RC:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.5315316+03:00","Level":"Information","MessageTemplate":"Attempting to get chat members","TraceId":"b557d60aa3e83d626d885e39191aac0a","SpanId":"ac0b73f51c136513","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.5317611+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"68da618c79c72484647c65022ce69afe","SpanId":"dd1d3f863430685d","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RC:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.5324160+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"68da618c79c72484647c65022ce69afe","SpanId":"dd1d3f863430685d","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RC:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.5333912+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"979ecf1dd525ab4a9522ad0ed61b575a","SpanId":"a43eba169a88f71d","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RD:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.5335651+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b557d60aa3e83d626d885e39191aac0a","SpanId":"ac0b73f51c136513","Properties":{"elapsed":"1","parameters":"@__chatId_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__chatId_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.5337153+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"68da618c79c72484647c65022ce69afe","SpanId":"dd1d3f863430685d","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RC:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.5337674+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"979ecf1dd525ab4a9522ad0ed61b575a","SpanId":"a43eba169a88f71d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RD:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.5345080+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"68da618c79c72484647c65022ce69afe","SpanId":"dd1d3f863430685d","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RC:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.5347285+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"979ecf1dd525ab4a9522ad0ed61b575a","SpanId":"a43eba169a88f71d","Properties":{"ElapsedMilliseconds":1.331,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RD:00000001","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.5359886+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0bbc4b155410998f28d57b0b1a3a600a","SpanId":"35f710aece08c922","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RD:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.5364140+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"0bbc4b155410998f28d57b0b1a3a600a","SpanId":"35f710aece08c922","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RD:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.5367913+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"68da618c79c72484647c65022ce69afe","SpanId":"dd1d3f863430685d","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RC:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.5381369+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b557d60aa3e83d626d885e39191aac0a","SpanId":"ac0b73f51c136513","Properties":{"ObjectResultType":"ObjectResult","Type":"System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.5385312+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b557d60aa3e83d626d885e39191aac0a","SpanId":"ac0b73f51c136513","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","ElapsedMilliseconds":10.0597,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.5389096+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b557d60aa3e83d626d885e39191aac0a","SpanId":"ac0b73f51c136513","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.5390361+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"68da618c79c72484647c65022ce69afe","SpanId":"dd1d3f863430685d","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RC:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.5392958+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b557d60aa3e83d626d885e39191aac0a","SpanId":"ac0b73f51c136513","Properties":{"ElapsedMilliseconds":15.8612,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000000F","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.5413444+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"68da618c79c72484647c65022ce69afe","SpanId":"dd1d3f863430685d","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RC:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.5420350+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"68da618c79c72484647c65022ce69afe","SpanId":"dd1d3f863430685d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RC:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.5423442+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"68da618c79c72484647c65022ce69afe","SpanId":"dd1d3f863430685d","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":10.241,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RC:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.5425191+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"68da618c79c72484647c65022ce69afe","SpanId":"dd1d3f863430685d","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RC:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.5427448+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"68da618c79c72484647c65022ce69afe","SpanId":"dd1d3f863430685d","Properties":{"ElapsedMilliseconds":16.1284,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RC:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.5503306+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0bbc4b155410998f28d57b0b1a3a600a","SpanId":"35f710aece08c922","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RD:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.5507786+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0bbc4b155410998f28d57b0b1a3a600a","SpanId":"35f710aece08c922","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RD:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.5511007+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0bbc4b155410998f28d57b0b1a3a600a","SpanId":"35f710aece08c922","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RD:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.5516600+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"0bbc4b155410998f28d57b0b1a3a600a","SpanId":"35f710aece08c922","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RD:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.5529001+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0bbc4b155410998f28d57b0b1a3a600a","SpanId":"35f710aece08c922","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RD:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.5532216+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"0bbc4b155410998f28d57b0b1a3a600a","SpanId":"35f710aece08c922","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RD:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.5547020+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0bbc4b155410998f28d57b0b1a3a600a","SpanId":"35f710aece08c922","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RD:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.5568803+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0bbc4b155410998f28d57b0b1a3a600a","SpanId":"35f710aece08c922","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RD:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.5591314+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0bbc4b155410998f28d57b0b1a3a600a","SpanId":"35f710aece08c922","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RD:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.5596096+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0bbc4b155410998f28d57b0b1a3a600a","SpanId":"35f710aece08c922","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RD:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.5600607+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0bbc4b155410998f28d57b0b1a3a600a","SpanId":"35f710aece08c922","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":8.7428,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RD:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.5602322+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0bbc4b155410998f28d57b0b1a3a600a","SpanId":"35f710aece08c922","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RD:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.5605224+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0bbc4b155410998f28d57b0b1a3a600a","SpanId":"35f710aece08c922","Properties":{"ElapsedMilliseconds":24.5271,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RD:00000002","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.7392701+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f622d543e0aa530d22f4d3f4893c0581","SpanId":"9976737f03ab77b4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.7396152+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f622d543e0aa530d22f4d3f4893c0581","SpanId":"9976737f03ab77b4","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.7408257+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"73d2292c89df737a3a8f2f7095d95121","SpanId":"e9053ccd9a4cde5c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RC:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.7413936+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"73d2292c89df737a3a8f2f7095d95121","SpanId":"e9053ccd9a4cde5c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RC:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.7421425+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f622d543e0aa530d22f4d3f4893c0581","SpanId":"9976737f03ab77b4","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.7425299+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f622d543e0aa530d22f4d3f4893c0581","SpanId":"9976737f03ab77b4","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.7427567+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"468c956fd5bdd6f73bf1395c9e9f472d","SpanId":"5dcd07b7d8a801aa","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RD:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.7428257+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f622d543e0aa530d22f4d3f4893c0581","SpanId":"9976737f03ab77b4","Properties":{"RouteData":"{action = \"getChatMemebers\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] getChatMemebersAsync(System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.7430592+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"468c956fd5bdd6f73bf1395c9e9f472d","SpanId":"5dcd07b7d8a801aa","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RD:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.7438169+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73d2292c89df737a3a8f2f7095d95121","SpanId":"e9053ccd9a4cde5c","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RC:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.7441790+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"73d2292c89df737a3a8f2f7095d95121","SpanId":"e9053ccd9a4cde5c","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RC:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.7444348+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"73d2292c89df737a3a8f2f7095d95121","SpanId":"e9053ccd9a4cde5c","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RC:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.7449129+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"73d2292c89df737a3a8f2f7095d95121","SpanId":"e9053ccd9a4cde5c","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RC:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.7449772+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f622d543e0aa530d22f4d3f4893c0581","SpanId":"9976737f03ab77b4","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.7455171+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"f622d543e0aa530d22f4d3f4893c0581","SpanId":"9976737f03ab77b4","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.7456124+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"468c956fd5bdd6f73bf1395c9e9f472d","SpanId":"5dcd07b7d8a801aa","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RD:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.7459861+03:00","Level":"Information","MessageTemplate":"Attempting to get chat members","TraceId":"f622d543e0aa530d22f4d3f4893c0581","SpanId":"9976737f03ab77b4","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.7463098+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73d2292c89df737a3a8f2f7095d95121","SpanId":"e9053ccd9a4cde5c","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RC:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.7464376+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"468c956fd5bdd6f73bf1395c9e9f472d","SpanId":"5dcd07b7d8a801aa","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RD:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.7473305+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"73d2292c89df737a3a8f2f7095d95121","SpanId":"e9053ccd9a4cde5c","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RC:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.7474068+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"468c956fd5bdd6f73bf1395c9e9f472d","SpanId":"5dcd07b7d8a801aa","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RD:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.7481058+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f622d543e0aa530d22f4d3f4893c0581","SpanId":"9976737f03ab77b4","Properties":{"elapsed":"1","parameters":"@__chatId_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__chatId_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.7481781+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"468c956fd5bdd6f73bf1395c9e9f472d","SpanId":"5dcd07b7d8a801aa","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RD:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.7491369+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73d2292c89df737a3a8f2f7095d95121","SpanId":"e9053ccd9a4cde5c","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RC:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.7493201+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f622d543e0aa530d22f4d3f4893c0581","SpanId":"9976737f03ab77b4","Properties":{"ObjectResultType":"ObjectResult","Type":"System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2ef587d-1ce8-4626-afc9-5ff8ac208075","ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.7496678+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f622d543e0aa530d22f4d3f4893c0581","SpanId":"9976737f03ab77b4","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","ElapsedMilliseconds":6.2882,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.7498703+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f622d543e0aa530d22f4d3f4893c0581","SpanId":"9976737f03ab77b4","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.getChatMemebersAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.7503250+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"468c956fd5bdd6f73bf1395c9e9f472d","SpanId":"5dcd07b7d8a801aa","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RD:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.7504723+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f622d543e0aa530d22f4d3f4893c0581","SpanId":"9976737f03ab77b4","Properties":{"ElapsedMilliseconds":11.1927,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/memberList","QueryString":"?chatID=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000010","RequestPath":"/api/chats/memberList","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:15.7506105+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73d2292c89df737a3a8f2f7095d95121","SpanId":"e9053ccd9a4cde5c","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RC:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.7509641+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"468c956fd5bdd6f73bf1395c9e9f472d","SpanId":"5dcd07b7d8a801aa","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RD:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.7534325+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73d2292c89df737a3a8f2f7095d95121","SpanId":"e9053ccd9a4cde5c","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RC:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.7539195+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"73d2292c89df737a3a8f2f7095d95121","SpanId":"e9053ccd9a4cde5c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RC:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.7542720+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"73d2292c89df737a3a8f2f7095d95121","SpanId":"e9053ccd9a4cde5c","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":9.6304,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RC:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.7544939+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"73d2292c89df737a3a8f2f7095d95121","SpanId":"e9053ccd9a4cde5c","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RC:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.7548375+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"73d2292c89df737a3a8f2f7095d95121","SpanId":"e9053ccd9a4cde5c","Properties":{"ElapsedMilliseconds":14.0062,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=false","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RC:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RC"}}
{"Timestamp":"2025-09-03T23:03:15.7546777+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"468c956fd5bdd6f73bf1395c9e9f472d","SpanId":"5dcd07b7d8a801aa","Properties":{"elapsed":"3","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RD:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.7567507+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"468c956fd5bdd6f73bf1395c9e9f472d","SpanId":"5dcd07b7d8a801aa","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RD:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.7586692+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"468c956fd5bdd6f73bf1395c9e9f472d","SpanId":"5dcd07b7d8a801aa","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RD:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:15.7591972+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"468c956fd5bdd6f73bf1395c9e9f472d","SpanId":"5dcd07b7d8a801aa","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RD:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.7594752+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"468c956fd5bdd6f73bf1395c9e9f472d","SpanId":"5dcd07b7d8a801aa","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":11.5729,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RD:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.7597614+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"468c956fd5bdd6f73bf1395c9e9f472d","SpanId":"5dcd07b7d8a801aa","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RD:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:15.7600169+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"468c956fd5bdd6f73bf1395c9e9f472d","SpanId":"5dcd07b7d8a801aa","Properties":{"ElapsedMilliseconds":17.2522,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RD:00000003","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RD"}}
{"Timestamp":"2025-09-03T23:03:17.1475441+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ce8a32b49c0ab08c5e53c7da5cdd1fe7","SpanId":"6b17a81b7d0085e3","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:17.1478052+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ce8a32b49c0ab08c5e53c7da5cdd1fe7","SpanId":"6b17a81b7d0085e3","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:17.1481384+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ce8a32b49c0ab08c5e53c7da5cdd1fe7","SpanId":"6b17a81b7d0085e3","Properties":{"ElapsedMilliseconds":0.5877,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:17.1537967+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fc0ebb6d039657d43516214016319b23","SpanId":"78a67e6fad5dcb16","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:17.1541194+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"fc0ebb6d039657d43516214016319b23","SpanId":"78a67e6fad5dcb16","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:17.1557158+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fc0ebb6d039657d43516214016319b23","SpanId":"78a67e6fad5dcb16","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:17.1560465+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fc0ebb6d039657d43516214016319b23","SpanId":"78a67e6fad5dcb16","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:17.1561986+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fc0ebb6d039657d43516214016319b23","SpanId":"78a67e6fad5dcb16","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:17.1566863+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"fc0ebb6d039657d43516214016319b23","SpanId":"78a67e6fad5dcb16","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:17.1577428+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fc0ebb6d039657d43516214016319b23","SpanId":"78a67e6fad5dcb16","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:17.1581988+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"fc0ebb6d039657d43516214016319b23","SpanId":"78a67e6fad5dcb16","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:17.1597795+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fc0ebb6d039657d43516214016319b23","SpanId":"78a67e6fad5dcb16","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:17.1611980+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fc0ebb6d039657d43516214016319b23","SpanId":"78a67e6fad5dcb16","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:17.1629914+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fc0ebb6d039657d43516214016319b23","SpanId":"78a67e6fad5dcb16","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:17.1637698+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fc0ebb6d039657d43516214016319b23","SpanId":"78a67e6fad5dcb16","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:17.1640822+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fc0ebb6d039657d43516214016319b23","SpanId":"78a67e6fad5dcb16","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":7.7526,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:17.1642126+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fc0ebb6d039657d43516214016319b23","SpanId":"78a67e6fad5dcb16","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:17.1643879+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fc0ebb6d039657d43516214016319b23","SpanId":"78a67e6fad5dcb16","Properties":{"ElapsedMilliseconds":10.5873,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:18.7544842+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"869e0d38eab05c41ff479486418ab53f","SpanId":"aac7d63addf79f71","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000011","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:18.7549047+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"869e0d38eab05c41ff479486418ab53f","SpanId":"aac7d63addf79f71","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000011","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:18.7579902+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"869e0d38eab05c41ff479486418ab53f","SpanId":"aac7d63addf79f71","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000011","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:18.7585495+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"869e0d38eab05c41ff479486418ab53f","SpanId":"aac7d63addf79f71","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000011","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:18.7588061+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"869e0d38eab05c41ff479486418ab53f","SpanId":"aac7d63addf79f71","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000011","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:18.7594989+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"869e0d38eab05c41ff479486418ab53f","SpanId":"aac7d63addf79f71","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000011","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:18.7612037+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"869e0d38eab05c41ff479486418ab53f","SpanId":"aac7d63addf79f71","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000011","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:18.7616613+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"869e0d38eab05c41ff479486418ab53f","SpanId":"aac7d63addf79f71","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000011","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:18.7634717+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"869e0d38eab05c41ff479486418ab53f","SpanId":"aac7d63addf79f71","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000011","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:18.7654048+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"869e0d38eab05c41ff479486418ab53f","SpanId":"aac7d63addf79f71","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000011","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:18.7692178+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"869e0d38eab05c41ff479486418ab53f","SpanId":"aac7d63addf79f71","Properties":{"elapsed":"3","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000011","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:18.7699099+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"869e0d38eab05c41ff479486418ab53f","SpanId":"aac7d63addf79f71","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000011","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:18.7704032+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"869e0d38eab05c41ff479486418ab53f","SpanId":"aac7d63addf79f71","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":11.4378,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000011","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:18.7706540+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"869e0d38eab05c41ff479486418ab53f","SpanId":"aac7d63addf79f71","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000011","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:18.7711113+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"869e0d38eab05c41ff479486418ab53f","SpanId":"aac7d63addf79f71","Properties":{"ElapsedMilliseconds":16.6251,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000011","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:20.0996233+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"71c4e8be28581138ae64a983ca09d804","SpanId":"a8a59330124c9688","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:20.1002562+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"71c4e8be28581138ae64a983ca09d804","SpanId":"a8a59330124c9688","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:20.1036495+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"71c4e8be28581138ae64a983ca09d804","SpanId":"a8a59330124c9688","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:20.1045342+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"71c4e8be28581138ae64a983ca09d804","SpanId":"a8a59330124c9688","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:20.1048567+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"71c4e8be28581138ae64a983ca09d804","SpanId":"a8a59330124c9688","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:20.1054673+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"71c4e8be28581138ae64a983ca09d804","SpanId":"a8a59330124c9688","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:20.1070026+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"71c4e8be28581138ae64a983ca09d804","SpanId":"a8a59330124c9688","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:20.1074059+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"71c4e8be28581138ae64a983ca09d804","SpanId":"a8a59330124c9688","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:20.1093328+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"71c4e8be28581138ae64a983ca09d804","SpanId":"a8a59330124c9688","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:20.1113208+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"71c4e8be28581138ae64a983ca09d804","SpanId":"a8a59330124c9688","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:20.1137444+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"71c4e8be28581138ae64a983ca09d804","SpanId":"a8a59330124c9688","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:20.1144368+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"71c4e8be28581138ae64a983ca09d804","SpanId":"a8a59330124c9688","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:20.1147812+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"71c4e8be28581138ae64a983ca09d804","SpanId":"a8a59330124c9688","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":9.6314,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:20.1150100+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"71c4e8be28581138ae64a983ca09d804","SpanId":"a8a59330124c9688","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:20.1152662+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"71c4e8be28581138ae64a983ca09d804","SpanId":"a8a59330124c9688","Properties":{"ElapsedMilliseconds":15.6514,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:21.7562006+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8ab93a432ba0b2ec98f1822f4b7f7ae7","SpanId":"753ed45038d19ef8","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000012","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:21.7565694+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"8ab93a432ba0b2ec98f1822f4b7f7ae7","SpanId":"753ed45038d19ef8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000012","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:21.7569872+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8ab93a432ba0b2ec98f1822f4b7f7ae7","SpanId":"753ed45038d19ef8","Properties":{"ElapsedMilliseconds":0.7662,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000012","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:21.7587916+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"880d5cba7ef5618f354a425314f4af65","SpanId":"7d8cd0af4b845dd5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:21.7591583+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"880d5cba7ef5618f354a425314f4af65","SpanId":"7d8cd0af4b845dd5","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:21.7614267+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"880d5cba7ef5618f354a425314f4af65","SpanId":"7d8cd0af4b845dd5","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:21.7618777+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"880d5cba7ef5618f354a425314f4af65","SpanId":"7d8cd0af4b845dd5","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:21.7620634+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"880d5cba7ef5618f354a425314f4af65","SpanId":"7d8cd0af4b845dd5","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:21.7625189+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"880d5cba7ef5618f354a425314f4af65","SpanId":"7d8cd0af4b845dd5","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:21.7640258+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"880d5cba7ef5618f354a425314f4af65","SpanId":"7d8cd0af4b845dd5","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:21.7645398+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"880d5cba7ef5618f354a425314f4af65","SpanId":"7d8cd0af4b845dd5","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:21.7661608+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"880d5cba7ef5618f354a425314f4af65","SpanId":"7d8cd0af4b845dd5","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:21.7678676+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"880d5cba7ef5618f354a425314f4af65","SpanId":"7d8cd0af4b845dd5","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:21.7701048+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"880d5cba7ef5618f354a425314f4af65","SpanId":"7d8cd0af4b845dd5","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:21.7707878+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"880d5cba7ef5618f354a425314f4af65","SpanId":"7d8cd0af4b845dd5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:21.7712209+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"880d5cba7ef5618f354a425314f4af65","SpanId":"7d8cd0af4b845dd5","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":8.9994,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:21.7714304+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"880d5cba7ef5618f354a425314f4af65","SpanId":"7d8cd0af4b845dd5","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:21.7718029+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"880d5cba7ef5618f354a425314f4af65","SpanId":"7d8cd0af4b845dd5","Properties":{"ElapsedMilliseconds":13.017,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000013","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:23.1893115+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c1a6c6b8d972147f7fc9affb0b29917f","SpanId":"2f652908a63c78b9","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:23.1897507+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c1a6c6b8d972147f7fc9affb0b29917f","SpanId":"2f652908a63c78b9","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:23.1900989+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c1a6c6b8d972147f7fc9affb0b29917f","SpanId":"2f652908a63c78b9","Properties":{"ElapsedMilliseconds":0.7776,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:23.1991205+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"009cee862023fbe5c4a054cf4e9c91f4","SpanId":"7c95a0e3858539c9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:23.1995445+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"009cee862023fbe5c4a054cf4e9c91f4","SpanId":"7c95a0e3858539c9","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:23.2020801+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"009cee862023fbe5c4a054cf4e9c91f4","SpanId":"7c95a0e3858539c9","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:23.2027559+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"009cee862023fbe5c4a054cf4e9c91f4","SpanId":"7c95a0e3858539c9","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:23.2030340+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"009cee862023fbe5c4a054cf4e9c91f4","SpanId":"7c95a0e3858539c9","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:23.2035057+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"009cee862023fbe5c4a054cf4e9c91f4","SpanId":"7c95a0e3858539c9","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:23.2049376+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"009cee862023fbe5c4a054cf4e9c91f4","SpanId":"7c95a0e3858539c9","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:23.2053235+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"009cee862023fbe5c4a054cf4e9c91f4","SpanId":"7c95a0e3858539c9","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:23.2070439+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"009cee862023fbe5c4a054cf4e9c91f4","SpanId":"7c95a0e3858539c9","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:23.2094708+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"009cee862023fbe5c4a054cf4e9c91f4","SpanId":"7c95a0e3858539c9","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:23.2120351+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"009cee862023fbe5c4a054cf4e9c91f4","SpanId":"7c95a0e3858539c9","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:23.2130392+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"009cee862023fbe5c4a054cf4e9c91f4","SpanId":"7c95a0e3858539c9","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:23.2133947+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"009cee862023fbe5c4a054cf4e9c91f4","SpanId":"7c95a0e3858539c9","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":10.1948,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:23.2135548+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"009cee862023fbe5c4a054cf4e9c91f4","SpanId":"7c95a0e3858539c9","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:23.2137683+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"009cee862023fbe5c4a054cf4e9c91f4","SpanId":"7c95a0e3858539c9","Properties":{"ElapsedMilliseconds":14.6553,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:23.6051213+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"61920f7c487224d0ef4ff7b68e4ba9e3","SpanId":"9a2f2c4f3625e2d9","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/sendMsgToChat","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000014","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:23.6054463+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"61920f7c487224d0ef4ff7b68e4ba9e3","SpanId":"9a2f2c4f3625e2d9","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000014","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:23.6057558+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"61920f7c487224d0ef4ff7b68e4ba9e3","SpanId":"9a2f2c4f3625e2d9","Properties":{"ElapsedMilliseconds":0.6397,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/sendMsgToChat","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000014","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:23.6069585+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e3b428a86b35b050eab7153264736908","SpanId":"53ed59870e8af69f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":39,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/sendMsgToChat","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000015","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:23.6073598+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e3b428a86b35b050eab7153264736908","SpanId":"53ed59870e8af69f","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000015","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:23.6097228+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e3b428a86b35b050eab7153264736908","SpanId":"53ed59870e8af69f","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000015","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:23.6102501+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e3b428a86b35b050eab7153264736908","SpanId":"53ed59870e8af69f","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000015","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:23.6153287+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e3b428a86b35b050eab7153264736908","SpanId":"53ed59870e8af69f","Properties":{"RouteData":"{action = \"SendMsgToChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendMsgToChatAsync(MessagingApp.DTO.SendChatMsgDTO)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2e6eef11-c90e-4688-b63c-f3ffb6eab6f1","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000015","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:23.6239047+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e3b428a86b35b050eab7153264736908","SpanId":"53ed59870e8af69f","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2e6eef11-c90e-4688-b63c-f3ffb6eab6f1","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000015","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:23.6245835+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"e3b428a86b35b050eab7153264736908","SpanId":"53ed59870e8af69f","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"2e6eef11-c90e-4688-b63c-f3ffb6eab6f1","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000015","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:23.6247379+03:00","Level":"Information","MessageTemplate":"Attempting to send a message to chat","TraceId":"e3b428a86b35b050eab7153264736908","SpanId":"53ed59870e8af69f","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"2e6eef11-c90e-4688-b63c-f3ffb6eab6f1","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000015","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:23.6358890+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e3b428a86b35b050eab7153264736908","SpanId":"53ed59870e8af69f","Properties":{"elapsed":"1","parameters":"@__userid_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__userid_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"2e6eef11-c90e-4688-b63c-f3ffb6eab6f1","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000015","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:23.6605964+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e3b428a86b35b050eab7153264736908","SpanId":"53ed59870e8af69f","Properties":{"elapsed":"2","parameters":"@__scmDTO_ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__scmDTO_ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"2e6eef11-c90e-4688-b63c-f3ffb6eab6f1","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000015","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:23.6763374+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e3b428a86b35b050eab7153264736908","SpanId":"53ed59870e8af69f","Properties":{"elapsed":"1","parameters":"@__scmDTO_ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\nFROM \"Chats\" AS c\nWHERE c.\"ID\" = @__scmDTO_ChatID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"2e6eef11-c90e-4688-b63c-f3ffb6eab6f1","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000015","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:23.7321289+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e3b428a86b35b050eab7153264736908","SpanId":"53ed59870e8af69f","Properties":{"elapsed":"8","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"Messages\" (\"ChatID\", \"DestinationID\", \"OriginID\", \"Text\", \"Timestamp\", \"chatID\", \"isRead\")\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"2e6eef11-c90e-4688-b63c-f3ffb6eab6f1","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000015","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:23.7381209+03:00","Level":"Information","MessageTemplate":"Message sent","TraceId":"e3b428a86b35b050eab7153264736908","SpanId":"53ed59870e8af69f","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"2e6eef11-c90e-4688-b63c-f3ffb6eab6f1","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000015","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:23.7384936+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e3b428a86b35b050eab7153264736908","SpanId":"53ed59870e8af69f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2e6eef11-c90e-4688-b63c-f3ffb6eab6f1","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000015","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:23.7388700+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e3b428a86b35b050eab7153264736908","SpanId":"53ed59870e8af69f","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","ElapsedMilliseconds":123.1364,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000015","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:23.7390160+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e3b428a86b35b050eab7153264736908","SpanId":"53ed59870e8af69f","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000015","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:23.7392300+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e3b428a86b35b050eab7153264736908","SpanId":"53ed59870e8af69f","Properties":{"ElapsedMilliseconds":132.2803,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/sendMsgToChat","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000015","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:24.7551615+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"027d91c2588d137edf2cfeaf78b63b0a","SpanId":"a8f3d3426b321891","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:24.7555008+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"027d91c2588d137edf2cfeaf78b63b0a","SpanId":"a8f3d3426b321891","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:24.7577170+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"027d91c2588d137edf2cfeaf78b63b0a","SpanId":"a8f3d3426b321891","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:24.7582421+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"027d91c2588d137edf2cfeaf78b63b0a","SpanId":"a8f3d3426b321891","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:24.7584197+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"027d91c2588d137edf2cfeaf78b63b0a","SpanId":"a8f3d3426b321891","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:24.7588473+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"027d91c2588d137edf2cfeaf78b63b0a","SpanId":"a8f3d3426b321891","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:24.7603212+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"027d91c2588d137edf2cfeaf78b63b0a","SpanId":"a8f3d3426b321891","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:24.7607746+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"027d91c2588d137edf2cfeaf78b63b0a","SpanId":"a8f3d3426b321891","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:24.7626830+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"027d91c2588d137edf2cfeaf78b63b0a","SpanId":"a8f3d3426b321891","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:24.7647430+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"027d91c2588d137edf2cfeaf78b63b0a","SpanId":"a8f3d3426b321891","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:24.7670378+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"027d91c2588d137edf2cfeaf78b63b0a","SpanId":"a8f3d3426b321891","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:24.7815267+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"027d91c2588d137edf2cfeaf78b63b0a","SpanId":"a8f3d3426b321891","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:24.7819650+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"027d91c2588d137edf2cfeaf78b63b0a","SpanId":"a8f3d3426b321891","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":23.4135,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:24.7821250+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"027d91c2588d137edf2cfeaf78b63b0a","SpanId":"a8f3d3426b321891","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:24.7823206+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"027d91c2588d137edf2cfeaf78b63b0a","SpanId":"a8f3d3426b321891","Properties":{"ElapsedMilliseconds":27.1532,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000016","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:26.1599938+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a3745bde1906044a751fde008f8da5a7","SpanId":"f0a1b8ac4e1a4e30","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:26.1606781+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a3745bde1906044a751fde008f8da5a7","SpanId":"f0a1b8ac4e1a4e30","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:26.1631498+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a3745bde1906044a751fde008f8da5a7","SpanId":"f0a1b8ac4e1a4e30","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:26.1635053+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a3745bde1906044a751fde008f8da5a7","SpanId":"f0a1b8ac4e1a4e30","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:26.1637242+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a3745bde1906044a751fde008f8da5a7","SpanId":"f0a1b8ac4e1a4e30","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:26.1641176+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"a3745bde1906044a751fde008f8da5a7","SpanId":"f0a1b8ac4e1a4e30","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:26.1655620+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a3745bde1906044a751fde008f8da5a7","SpanId":"f0a1b8ac4e1a4e30","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:26.1659559+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"a3745bde1906044a751fde008f8da5a7","SpanId":"f0a1b8ac4e1a4e30","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:26.1679855+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a3745bde1906044a751fde008f8da5a7","SpanId":"f0a1b8ac4e1a4e30","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:26.1698486+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a3745bde1906044a751fde008f8da5a7","SpanId":"f0a1b8ac4e1a4e30","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:26.1723435+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a3745bde1906044a751fde008f8da5a7","SpanId":"f0a1b8ac4e1a4e30","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:26.1984498+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a3745bde1906044a751fde008f8da5a7","SpanId":"f0a1b8ac4e1a4e30","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p3='?' (DbType = Int64), @p2='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"MessageReadUsers\" (\"MessageId\", \"UserId\")\nVALUES (@p0, @p1);\nUPDATE \"Messages\" SET \"isRead\" = @p2\nWHERE \"ID\" = @p3;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:26.2061642+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a3745bde1906044a751fde008f8da5a7","SpanId":"f0a1b8ac4e1a4e30","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:26.2144533+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a3745bde1906044a751fde008f8da5a7","SpanId":"f0a1b8ac4e1a4e30","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":50.5583,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:26.2149664+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a3745bde1906044a751fde008f8da5a7","SpanId":"f0a1b8ac4e1a4e30","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:26.2155489+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a3745bde1906044a751fde008f8da5a7","SpanId":"f0a1b8ac4e1a4e30","Properties":{"ElapsedMilliseconds":55.5426,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:27.7560608+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4ecef340c1a43818c0e3b390b0dace85","SpanId":"0c94ca596b6759fc","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:27.7563749+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"4ecef340c1a43818c0e3b390b0dace85","SpanId":"0c94ca596b6759fc","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:27.7566001+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4ecef340c1a43818c0e3b390b0dace85","SpanId":"0c94ca596b6759fc","Properties":{"ElapsedMilliseconds":0.5371,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000017","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:27.7577520+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"383e91f98236a5c257dec2a5eb0ad86a","SpanId":"92511c123d57e492","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:27.7579260+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"383e91f98236a5c257dec2a5eb0ad86a","SpanId":"92511c123d57e492","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:27.7610155+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"383e91f98236a5c257dec2a5eb0ad86a","SpanId":"92511c123d57e492","Properties":{"elapsed":"2","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:27.7617737+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"383e91f98236a5c257dec2a5eb0ad86a","SpanId":"92511c123d57e492","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:27.7619703+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"383e91f98236a5c257dec2a5eb0ad86a","SpanId":"92511c123d57e492","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:27.7625289+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"383e91f98236a5c257dec2a5eb0ad86a","SpanId":"92511c123d57e492","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:27.7639433+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"383e91f98236a5c257dec2a5eb0ad86a","SpanId":"92511c123d57e492","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:27.7642946+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"383e91f98236a5c257dec2a5eb0ad86a","SpanId":"92511c123d57e492","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:27.7662163+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"383e91f98236a5c257dec2a5eb0ad86a","SpanId":"92511c123d57e492","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:27.7682483+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"383e91f98236a5c257dec2a5eb0ad86a","SpanId":"92511c123d57e492","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:27.7707138+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"383e91f98236a5c257dec2a5eb0ad86a","SpanId":"92511c123d57e492","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:27.7721133+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"383e91f98236a5c257dec2a5eb0ad86a","SpanId":"92511c123d57e492","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:27.7724608+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"383e91f98236a5c257dec2a5eb0ad86a","SpanId":"92511c123d57e492","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":10.3302,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:27.7726581+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"383e91f98236a5c257dec2a5eb0ad86a","SpanId":"92511c123d57e492","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:27.7729238+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"383e91f98236a5c257dec2a5eb0ad86a","SpanId":"92511c123d57e492","Properties":{"ElapsedMilliseconds":15.1524,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000018","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:29.1285292+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"88e1c03f39e43e3d386e501d7ed67bda","SpanId":"a87fe4dc80a6dba3","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:29.1289514+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"88e1c03f39e43e3d386e501d7ed67bda","SpanId":"a87fe4dc80a6dba3","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:29.1291702+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"88e1c03f39e43e3d386e501d7ed67bda","SpanId":"a87fe4dc80a6dba3","Properties":{"ElapsedMilliseconds":0.6377,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:29.1342128+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"33bffb88831ec32156fb4360bd812874","SpanId":"070d692c830de284","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:29.1344363+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"33bffb88831ec32156fb4360bd812874","SpanId":"070d692c830de284","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:29.1360211+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"33bffb88831ec32156fb4360bd812874","SpanId":"070d692c830de284","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:29.1363205+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"33bffb88831ec32156fb4360bd812874","SpanId":"070d692c830de284","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:29.1364657+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"33bffb88831ec32156fb4360bd812874","SpanId":"070d692c830de284","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:29.1368733+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"33bffb88831ec32156fb4360bd812874","SpanId":"070d692c830de284","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:29.1378750+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"33bffb88831ec32156fb4360bd812874","SpanId":"070d692c830de284","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:29.1381473+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"33bffb88831ec32156fb4360bd812874","SpanId":"070d692c830de284","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:29.1393930+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"33bffb88831ec32156fb4360bd812874","SpanId":"070d692c830de284","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:29.1408092+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"33bffb88831ec32156fb4360bd812874","SpanId":"070d692c830de284","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:29.1427168+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"33bffb88831ec32156fb4360bd812874","SpanId":"070d692c830de284","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:29.1433864+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"33bffb88831ec32156fb4360bd812874","SpanId":"070d692c830de284","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:29.1436927+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"33bffb88831ec32156fb4360bd812874","SpanId":"070d692c830de284","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":7.0001,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:29.1438686+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"33bffb88831ec32156fb4360bd812874","SpanId":"070d692c830de284","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:29.1440722+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"33bffb88831ec32156fb4360bd812874","SpanId":"070d692c830de284","Properties":{"ElapsedMilliseconds":9.8531,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:30.7554929+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1d7d1dfc53892626e2063abca272b650","SpanId":"25a584dd3820206e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:30.7558530+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1d7d1dfc53892626e2063abca272b650","SpanId":"25a584dd3820206e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:30.7578616+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d7d1dfc53892626e2063abca272b650","SpanId":"25a584dd3820206e","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:30.7582407+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1d7d1dfc53892626e2063abca272b650","SpanId":"25a584dd3820206e","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:30.7585212+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1d7d1dfc53892626e2063abca272b650","SpanId":"25a584dd3820206e","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:30.7589132+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"1d7d1dfc53892626e2063abca272b650","SpanId":"25a584dd3820206e","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:30.7602540+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d7d1dfc53892626e2063abca272b650","SpanId":"25a584dd3820206e","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:30.7606627+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"1d7d1dfc53892626e2063abca272b650","SpanId":"25a584dd3820206e","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:30.7623280+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d7d1dfc53892626e2063abca272b650","SpanId":"25a584dd3820206e","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:30.7640364+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d7d1dfc53892626e2063abca272b650","SpanId":"25a584dd3820206e","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:30.7660749+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d7d1dfc53892626e2063abca272b650","SpanId":"25a584dd3820206e","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:30.7671144+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1d7d1dfc53892626e2063abca272b650","SpanId":"25a584dd3820206e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:30.7673691+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1d7d1dfc53892626e2063abca272b650","SpanId":"25a584dd3820206e","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":8.7381,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:30.7675268+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1d7d1dfc53892626e2063abca272b650","SpanId":"25a584dd3820206e","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:30.7677999+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1d7d1dfc53892626e2063abca272b650","SpanId":"25a584dd3820206e","Properties":{"ElapsedMilliseconds":12.3067,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000019","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:32.2008727+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f4770490cb679af2e9ae0fcdcec44047","SpanId":"84c8763650efb59c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:32.2014615+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f4770490cb679af2e9ae0fcdcec44047","SpanId":"84c8763650efb59c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:32.2042089+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4770490cb679af2e9ae0fcdcec44047","SpanId":"84c8763650efb59c","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:32.2046877+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f4770490cb679af2e9ae0fcdcec44047","SpanId":"84c8763650efb59c","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:32.2048767+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f4770490cb679af2e9ae0fcdcec44047","SpanId":"84c8763650efb59c","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:32.2052717+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"f4770490cb679af2e9ae0fcdcec44047","SpanId":"84c8763650efb59c","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:32.2065585+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4770490cb679af2e9ae0fcdcec44047","SpanId":"84c8763650efb59c","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:32.2069602+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"f4770490cb679af2e9ae0fcdcec44047","SpanId":"84c8763650efb59c","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:32.2086824+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4770490cb679af2e9ae0fcdcec44047","SpanId":"84c8763650efb59c","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:32.2103140+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4770490cb679af2e9ae0fcdcec44047","SpanId":"84c8763650efb59c","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:32.2124645+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4770490cb679af2e9ae0fcdcec44047","SpanId":"84c8763650efb59c","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:32.2134360+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f4770490cb679af2e9ae0fcdcec44047","SpanId":"84c8763650efb59c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:32.2136999+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f4770490cb679af2e9ae0fcdcec44047","SpanId":"84c8763650efb59c","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":8.6894,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:32.2138304+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f4770490cb679af2e9ae0fcdcec44047","SpanId":"84c8763650efb59c","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:32.2140224+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f4770490cb679af2e9ae0fcdcec44047","SpanId":"84c8763650efb59c","Properties":{"ElapsedMilliseconds":13.1627,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:33.7561631+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fe06cf2558e01794c70d00e5ad824651","SpanId":"27c54c620c3957de","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:33.7566055+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"fe06cf2558e01794c70d00e5ad824651","SpanId":"27c54c620c3957de","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:33.7570926+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fe06cf2558e01794c70d00e5ad824651","SpanId":"27c54c620c3957de","Properties":{"ElapsedMilliseconds":0.9204,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000001A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:33.7583308+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"08a6a4bec0123b601fe4d0c12d10b628","SpanId":"6258dc62a66197c7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:33.7586022+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"08a6a4bec0123b601fe4d0c12d10b628","SpanId":"6258dc62a66197c7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:33.7605395+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"08a6a4bec0123b601fe4d0c12d10b628","SpanId":"6258dc62a66197c7","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:33.7609712+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"08a6a4bec0123b601fe4d0c12d10b628","SpanId":"6258dc62a66197c7","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:33.7611569+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"08a6a4bec0123b601fe4d0c12d10b628","SpanId":"6258dc62a66197c7","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:33.7616960+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"08a6a4bec0123b601fe4d0c12d10b628","SpanId":"6258dc62a66197c7","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:33.7630766+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"08a6a4bec0123b601fe4d0c12d10b628","SpanId":"6258dc62a66197c7","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:33.7634124+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"08a6a4bec0123b601fe4d0c12d10b628","SpanId":"6258dc62a66197c7","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:33.7650304+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"08a6a4bec0123b601fe4d0c12d10b628","SpanId":"6258dc62a66197c7","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:33.7669264+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"08a6a4bec0123b601fe4d0c12d10b628","SpanId":"6258dc62a66197c7","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:33.7691777+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"08a6a4bec0123b601fe4d0c12d10b628","SpanId":"6258dc62a66197c7","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:33.7700592+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"08a6a4bec0123b601fe4d0c12d10b628","SpanId":"6258dc62a66197c7","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:33.7704063+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"08a6a4bec0123b601fe4d0c12d10b628","SpanId":"6258dc62a66197c7","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":9.0155,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:33.7705735+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"08a6a4bec0123b601fe4d0c12d10b628","SpanId":"6258dc62a66197c7","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:33.7707983+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"08a6a4bec0123b601fe4d0c12d10b628","SpanId":"6258dc62a66197c7","Properties":{"ElapsedMilliseconds":12.4654,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000001B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:35.1705021+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"977d08c7a380e04da4b903235050b97c","SpanId":"4b70902989c639c8","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:35.1709948+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"977d08c7a380e04da4b903235050b97c","SpanId":"4b70902989c639c8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:35.1714280+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"977d08c7a380e04da4b903235050b97c","SpanId":"4b70902989c639c8","Properties":{"ElapsedMilliseconds":0.9354,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:35.1768115+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ad00646cab9d3a2d35e8fba4ac109630","SpanId":"65ad3535ab52fa0b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:35.1770980+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ad00646cab9d3a2d35e8fba4ac109630","SpanId":"65ad3535ab52fa0b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:35.1792067+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ad00646cab9d3a2d35e8fba4ac109630","SpanId":"65ad3535ab52fa0b","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:35.1796585+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ad00646cab9d3a2d35e8fba4ac109630","SpanId":"65ad3535ab52fa0b","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:35.1798522+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ad00646cab9d3a2d35e8fba4ac109630","SpanId":"65ad3535ab52fa0b","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:35.1802971+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"ad00646cab9d3a2d35e8fba4ac109630","SpanId":"65ad3535ab52fa0b","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:35.1817763+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ad00646cab9d3a2d35e8fba4ac109630","SpanId":"65ad3535ab52fa0b","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:35.1822075+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"ad00646cab9d3a2d35e8fba4ac109630","SpanId":"65ad3535ab52fa0b","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:35.1838607+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ad00646cab9d3a2d35e8fba4ac109630","SpanId":"65ad3535ab52fa0b","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:35.1855954+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ad00646cab9d3a2d35e8fba4ac109630","SpanId":"65ad3535ab52fa0b","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:35.1880197+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ad00646cab9d3a2d35e8fba4ac109630","SpanId":"65ad3535ab52fa0b","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:35.1890033+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ad00646cab9d3a2d35e8fba4ac109630","SpanId":"65ad3535ab52fa0b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:35.1892914+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ad00646cab9d3a2d35e8fba4ac109630","SpanId":"65ad3535ab52fa0b","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":9.2738,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:35.1894352+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ad00646cab9d3a2d35e8fba4ac109630","SpanId":"65ad3535ab52fa0b","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:35.1897331+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ad00646cab9d3a2d35e8fba4ac109630","SpanId":"65ad3535ab52fa0b","Properties":{"ElapsedMilliseconds":12.9184,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:36.7575814+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c9326632cf374d893a78797374db7b71","SpanId":"c109f1f38f728481","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:36.7580585+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c9326632cf374d893a78797374db7b71","SpanId":"c109f1f38f728481","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:36.7602285+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c9326632cf374d893a78797374db7b71","SpanId":"c109f1f38f728481","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:36.7606087+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c9326632cf374d893a78797374db7b71","SpanId":"c109f1f38f728481","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:36.7608077+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c9326632cf374d893a78797374db7b71","SpanId":"c109f1f38f728481","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:36.7612965+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"c9326632cf374d893a78797374db7b71","SpanId":"c109f1f38f728481","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:36.7625265+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c9326632cf374d893a78797374db7b71","SpanId":"c109f1f38f728481","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:36.7628668+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"c9326632cf374d893a78797374db7b71","SpanId":"c109f1f38f728481","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:36.7644164+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c9326632cf374d893a78797374db7b71","SpanId":"c109f1f38f728481","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:36.7659307+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c9326632cf374d893a78797374db7b71","SpanId":"c109f1f38f728481","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:36.7680505+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c9326632cf374d893a78797374db7b71","SpanId":"c109f1f38f728481","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:36.7690407+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c9326632cf374d893a78797374db7b71","SpanId":"c109f1f38f728481","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:36.7693055+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c9326632cf374d893a78797374db7b71","SpanId":"c109f1f38f728481","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":8.2794,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:36.7695252+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c9326632cf374d893a78797374db7b71","SpanId":"c109f1f38f728481","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:36.7698185+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c9326632cf374d893a78797374db7b71","SpanId":"c109f1f38f728481","Properties":{"ElapsedMilliseconds":12.2542,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000001C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:38.0942989+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a213238c37a9f1e7a37e7ba7ee54d8fc","SpanId":"94d2fa925acf615d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:38.0949193+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a213238c37a9f1e7a37e7ba7ee54d8fc","SpanId":"94d2fa925acf615d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:38.0974683+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a213238c37a9f1e7a37e7ba7ee54d8fc","SpanId":"94d2fa925acf615d","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:38.0979247+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a213238c37a9f1e7a37e7ba7ee54d8fc","SpanId":"94d2fa925acf615d","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:38.0981111+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a213238c37a9f1e7a37e7ba7ee54d8fc","SpanId":"94d2fa925acf615d","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:38.0986116+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"a213238c37a9f1e7a37e7ba7ee54d8fc","SpanId":"94d2fa925acf615d","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:38.1000324+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a213238c37a9f1e7a37e7ba7ee54d8fc","SpanId":"94d2fa925acf615d","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:38.1004173+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"a213238c37a9f1e7a37e7ba7ee54d8fc","SpanId":"94d2fa925acf615d","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:38.1020240+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a213238c37a9f1e7a37e7ba7ee54d8fc","SpanId":"94d2fa925acf615d","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:38.1037968+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a213238c37a9f1e7a37e7ba7ee54d8fc","SpanId":"94d2fa925acf615d","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:38.1059056+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a213238c37a9f1e7a37e7ba7ee54d8fc","SpanId":"94d2fa925acf615d","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:38.1068767+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a213238c37a9f1e7a37e7ba7ee54d8fc","SpanId":"94d2fa925acf615d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:38.1072525+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a213238c37a9f1e7a37e7ba7ee54d8fc","SpanId":"94d2fa925acf615d","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":8.9033,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:38.1073983+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a213238c37a9f1e7a37e7ba7ee54d8fc","SpanId":"94d2fa925acf615d","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:38.1075853+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a213238c37a9f1e7a37e7ba7ee54d8fc","SpanId":"94d2fa925acf615d","Properties":{"ElapsedMilliseconds":13.3017,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:39.7580367+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b9c76d3bd735c5b7bdac254424cf357d","SpanId":"c959e9b79a177b39","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:39.7583882+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b9c76d3bd735c5b7bdac254424cf357d","SpanId":"c959e9b79a177b39","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:39.7587139+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b9c76d3bd735c5b7bdac254424cf357d","SpanId":"c959e9b79a177b39","Properties":{"ElapsedMilliseconds":0.674,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000001D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:39.7600772+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"681a41d4c73095336552e42ff85e8b37","SpanId":"e38af153ea4e0ad8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:39.7605355+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"681a41d4c73095336552e42ff85e8b37","SpanId":"e38af153ea4e0ad8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:39.7630398+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"681a41d4c73095336552e42ff85e8b37","SpanId":"e38af153ea4e0ad8","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:39.7633859+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"681a41d4c73095336552e42ff85e8b37","SpanId":"e38af153ea4e0ad8","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:39.7635597+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"681a41d4c73095336552e42ff85e8b37","SpanId":"e38af153ea4e0ad8","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:39.7639437+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"681a41d4c73095336552e42ff85e8b37","SpanId":"e38af153ea4e0ad8","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:39.7656978+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"681a41d4c73095336552e42ff85e8b37","SpanId":"e38af153ea4e0ad8","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:39.7661028+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"681a41d4c73095336552e42ff85e8b37","SpanId":"e38af153ea4e0ad8","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:39.7680995+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"681a41d4c73095336552e42ff85e8b37","SpanId":"e38af153ea4e0ad8","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:39.7700135+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"681a41d4c73095336552e42ff85e8b37","SpanId":"e38af153ea4e0ad8","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:39.7727847+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"681a41d4c73095336552e42ff85e8b37","SpanId":"e38af153ea4e0ad8","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:39.7742210+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"681a41d4c73095336552e42ff85e8b37","SpanId":"e38af153ea4e0ad8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:39.7747596+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"681a41d4c73095336552e42ff85e8b37","SpanId":"e38af153ea4e0ad8","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":11.0372,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:39.7757110+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"681a41d4c73095336552e42ff85e8b37","SpanId":"e38af153ea4e0ad8","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:39.7763801+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"681a41d4c73095336552e42ff85e8b37","SpanId":"e38af153ea4e0ad8","Properties":{"ElapsedMilliseconds":16.2898,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000001E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:41.2124382+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cd1153497dedb0cc8e7f0f38ddfdef7a","SpanId":"c43415d08cbf3670","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:41.2129083+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"cd1153497dedb0cc8e7f0f38ddfdef7a","SpanId":"c43415d08cbf3670","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:41.2132262+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cd1153497dedb0cc8e7f0f38ddfdef7a","SpanId":"c43415d08cbf3670","Properties":{"ElapsedMilliseconds":0.7894,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:41.4622946+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9a302fae0040a32f4361361dd3977fec","SpanId":"dfa53c02528b8e29","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:41.4626799+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9a302fae0040a32f4361361dd3977fec","SpanId":"dfa53c02528b8e29","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:41.4649882+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9a302fae0040a32f4361361dd3977fec","SpanId":"dfa53c02528b8e29","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:41.4655645+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9a302fae0040a32f4361361dd3977fec","SpanId":"dfa53c02528b8e29","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:41.4658322+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9a302fae0040a32f4361361dd3977fec","SpanId":"dfa53c02528b8e29","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:41.4663718+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"9a302fae0040a32f4361361dd3977fec","SpanId":"dfa53c02528b8e29","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:41.4682791+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9a302fae0040a32f4361361dd3977fec","SpanId":"dfa53c02528b8e29","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:41.4687979+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"9a302fae0040a32f4361361dd3977fec","SpanId":"dfa53c02528b8e29","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:41.4711720+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9a302fae0040a32f4361361dd3977fec","SpanId":"dfa53c02528b8e29","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:41.4735849+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9a302fae0040a32f4361361dd3977fec","SpanId":"dfa53c02528b8e29","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:41.4772376+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9a302fae0040a32f4361361dd3977fec","SpanId":"dfa53c02528b8e29","Properties":{"elapsed":"3","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:41.4789022+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9a302fae0040a32f4361361dd3977fec","SpanId":"dfa53c02528b8e29","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:41.4794158+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9a302fae0040a32f4361361dd3977fec","SpanId":"dfa53c02528b8e29","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":13.3719,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:41.4799630+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9a302fae0040a32f4361361dd3977fec","SpanId":"dfa53c02528b8e29","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:41.4807910+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9a302fae0040a32f4361361dd3977fec","SpanId":"dfa53c02528b8e29","Properties":{"ElapsedMilliseconds":18.4746,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:42.7557958+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cbe9e12139d77b28187d24e5f178980b","SpanId":"2ef2928290fc1ccb","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:42.7562392+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"cbe9e12139d77b28187d24e5f178980b","SpanId":"2ef2928290fc1ccb","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:42.7580028+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cbe9e12139d77b28187d24e5f178980b","SpanId":"2ef2928290fc1ccb","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:42.7583112+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cbe9e12139d77b28187d24e5f178980b","SpanId":"2ef2928290fc1ccb","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:42.7584917+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cbe9e12139d77b28187d24e5f178980b","SpanId":"2ef2928290fc1ccb","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:42.7588375+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"cbe9e12139d77b28187d24e5f178980b","SpanId":"2ef2928290fc1ccb","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:42.7601627+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cbe9e12139d77b28187d24e5f178980b","SpanId":"2ef2928290fc1ccb","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:42.7605751+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"cbe9e12139d77b28187d24e5f178980b","SpanId":"2ef2928290fc1ccb","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:42.7622302+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cbe9e12139d77b28187d24e5f178980b","SpanId":"2ef2928290fc1ccb","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:42.7636963+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cbe9e12139d77b28187d24e5f178980b","SpanId":"2ef2928290fc1ccb","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:42.7658704+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cbe9e12139d77b28187d24e5f178980b","SpanId":"2ef2928290fc1ccb","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:42.7666125+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cbe9e12139d77b28187d24e5f178980b","SpanId":"2ef2928290fc1ccb","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:42.7668812+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cbe9e12139d77b28187d24e5f178980b","SpanId":"2ef2928290fc1ccb","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":8.2598,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:42.7670242+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cbe9e12139d77b28187d24e5f178980b","SpanId":"2ef2928290fc1ccb","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:42.7672051+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cbe9e12139d77b28187d24e5f178980b","SpanId":"2ef2928290fc1ccb","Properties":{"ElapsedMilliseconds":11.408,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000001F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:44.1814793+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e77a1a1980f5299ee716a80c85405596","SpanId":"8ed9da07a97cc886","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:44.1818383+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e77a1a1980f5299ee716a80c85405596","SpanId":"8ed9da07a97cc886","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:44.1839050+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e77a1a1980f5299ee716a80c85405596","SpanId":"8ed9da07a97cc886","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:44.1842644+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e77a1a1980f5299ee716a80c85405596","SpanId":"8ed9da07a97cc886","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:44.1844560+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e77a1a1980f5299ee716a80c85405596","SpanId":"8ed9da07a97cc886","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:44.1848267+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"e77a1a1980f5299ee716a80c85405596","SpanId":"8ed9da07a97cc886","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:44.1859799+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e77a1a1980f5299ee716a80c85405596","SpanId":"8ed9da07a97cc886","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:44.1862958+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"e77a1a1980f5299ee716a80c85405596","SpanId":"8ed9da07a97cc886","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:44.1877263+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e77a1a1980f5299ee716a80c85405596","SpanId":"8ed9da07a97cc886","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:44.1891021+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e77a1a1980f5299ee716a80c85405596","SpanId":"8ed9da07a97cc886","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:44.1907817+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e77a1a1980f5299ee716a80c85405596","SpanId":"8ed9da07a97cc886","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:44.1915454+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e77a1a1980f5299ee716a80c85405596","SpanId":"8ed9da07a97cc886","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:44.1918702+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e77a1a1980f5299ee716a80c85405596","SpanId":"8ed9da07a97cc886","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":7.2746,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:44.1921183+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e77a1a1980f5299ee716a80c85405596","SpanId":"8ed9da07a97cc886","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:44.1924540+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e77a1a1980f5299ee716a80c85405596","SpanId":"8ed9da07a97cc886","Properties":{"ElapsedMilliseconds":10.9703,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:45.7608606+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a184d412a7319345cee2099bf8fa7995","SpanId":"f454c10ca2aaf54e","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:45.7612237+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a184d412a7319345cee2099bf8fa7995","SpanId":"f454c10ca2aaf54e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:45.7614515+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a184d412a7319345cee2099bf8fa7995","SpanId":"f454c10ca2aaf54e","Properties":{"ElapsedMilliseconds":0.5819,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000020","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:45.7625996+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"074d769160468b2a03ab5e8f29520755","SpanId":"33da9dc8f08f9ec5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:45.7629369+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"074d769160468b2a03ab5e8f29520755","SpanId":"33da9dc8f08f9ec5","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:45.7652632+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"074d769160468b2a03ab5e8f29520755","SpanId":"33da9dc8f08f9ec5","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:45.7659247+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"074d769160468b2a03ab5e8f29520755","SpanId":"33da9dc8f08f9ec5","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:45.7662396+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"074d769160468b2a03ab5e8f29520755","SpanId":"33da9dc8f08f9ec5","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:45.7668658+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"074d769160468b2a03ab5e8f29520755","SpanId":"33da9dc8f08f9ec5","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:45.7685692+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"074d769160468b2a03ab5e8f29520755","SpanId":"33da9dc8f08f9ec5","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:45.7689720+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"074d769160468b2a03ab5e8f29520755","SpanId":"33da9dc8f08f9ec5","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:45.7712621+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"074d769160468b2a03ab5e8f29520755","SpanId":"33da9dc8f08f9ec5","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:45.7733331+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"074d769160468b2a03ab5e8f29520755","SpanId":"33da9dc8f08f9ec5","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:45.7763227+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"074d769160468b2a03ab5e8f29520755","SpanId":"33da9dc8f08f9ec5","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:45.7775676+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"074d769160468b2a03ab5e8f29520755","SpanId":"33da9dc8f08f9ec5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:45.7779873+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"074d769160468b2a03ab5e8f29520755","SpanId":"33da9dc8f08f9ec5","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":11.4487,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:45.7781844+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"074d769160468b2a03ab5e8f29520755","SpanId":"33da9dc8f08f9ec5","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:45.7784557+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"074d769160468b2a03ab5e8f29520755","SpanId":"33da9dc8f08f9ec5","Properties":{"ElapsedMilliseconds":15.8173,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000021","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:47.1513924+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b40723a5c29be8915a1b2dfe5c406104","SpanId":"04fbd83abcb8df82","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:47.1522530+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b40723a5c29be8915a1b2dfe5c406104","SpanId":"04fbd83abcb8df82","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:47.1527170+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b40723a5c29be8915a1b2dfe5c406104","SpanId":"04fbd83abcb8df82","Properties":{"ElapsedMilliseconds":1.3257,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:47.1590588+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ddf740dc8e46b747a7d5363c4d4d142b","SpanId":"3963b6f8787fb2d5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:47.1598358+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ddf740dc8e46b747a7d5363c4d4d142b","SpanId":"3963b6f8787fb2d5","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:47.1630072+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ddf740dc8e46b747a7d5363c4d4d142b","SpanId":"3963b6f8787fb2d5","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:47.1634191+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ddf740dc8e46b747a7d5363c4d4d142b","SpanId":"3963b6f8787fb2d5","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:47.1636132+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ddf740dc8e46b747a7d5363c4d4d142b","SpanId":"3963b6f8787fb2d5","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:47.1641870+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"ddf740dc8e46b747a7d5363c4d4d142b","SpanId":"3963b6f8787fb2d5","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:47.1657920+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ddf740dc8e46b747a7d5363c4d4d142b","SpanId":"3963b6f8787fb2d5","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:47.1661891+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"ddf740dc8e46b747a7d5363c4d4d142b","SpanId":"3963b6f8787fb2d5","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:47.1684588+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ddf740dc8e46b747a7d5363c4d4d142b","SpanId":"3963b6f8787fb2d5","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:47.1705546+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ddf740dc8e46b747a7d5363c4d4d142b","SpanId":"3963b6f8787fb2d5","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:47.1735050+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ddf740dc8e46b747a7d5363c4d4d142b","SpanId":"3963b6f8787fb2d5","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:47.1744791+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ddf740dc8e46b747a7d5363c4d4d142b","SpanId":"3963b6f8787fb2d5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:47.1749709+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ddf740dc8e46b747a7d5363c4d4d142b","SpanId":"3963b6f8787fb2d5","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":11.0786,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:47.1752299+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ddf740dc8e46b747a7d5363c4d4d142b","SpanId":"3963b6f8787fb2d5","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:47.1755022+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ddf740dc8e46b747a7d5363c4d4d142b","SpanId":"3963b6f8787fb2d5","Properties":{"ElapsedMilliseconds":16.456,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:48.5850097+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6a1af5b141cab91ea67aebb5ae534c6c","SpanId":"af1f3380637637e8","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/sendMsgToChat","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000028","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:48.5857297+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"6a1af5b141cab91ea67aebb5ae534c6c","SpanId":"af1f3380637637e8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000028","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:48.5860939+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6a1af5b141cab91ea67aebb5ae534c6c","SpanId":"af1f3380637637e8","Properties":{"ElapsedMilliseconds":1.0998,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/sendMsgToChat","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000028","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:48.5910802+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"96f51faf56e96464256967082e5c8295","SpanId":"1bdc35cc919b9de3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":39,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/sendMsgToChat","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000029","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:48.5915450+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"96f51faf56e96464256967082e5c8295","SpanId":"1bdc35cc919b9de3","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000029","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:48.5940777+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"96f51faf56e96464256967082e5c8295","SpanId":"1bdc35cc919b9de3","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000029","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:48.5944714+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"96f51faf56e96464256967082e5c8295","SpanId":"1bdc35cc919b9de3","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000029","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:48.5946870+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"96f51faf56e96464256967082e5c8295","SpanId":"1bdc35cc919b9de3","Properties":{"RouteData":"{action = \"SendMsgToChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendMsgToChatAsync(MessagingApp.DTO.SendChatMsgDTO)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2e6eef11-c90e-4688-b63c-f3ffb6eab6f1","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000029","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:48.5965715+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"96f51faf56e96464256967082e5c8295","SpanId":"1bdc35cc919b9de3","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2e6eef11-c90e-4688-b63c-f3ffb6eab6f1","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000029","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:48.5971081+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"96f51faf56e96464256967082e5c8295","SpanId":"1bdc35cc919b9de3","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"2e6eef11-c90e-4688-b63c-f3ffb6eab6f1","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000029","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:48.5972968+03:00","Level":"Information","MessageTemplate":"Attempting to send a message to chat","TraceId":"96f51faf56e96464256967082e5c8295","SpanId":"1bdc35cc919b9de3","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"2e6eef11-c90e-4688-b63c-f3ffb6eab6f1","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000029","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:48.5990845+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"96f51faf56e96464256967082e5c8295","SpanId":"1bdc35cc919b9de3","Properties":{"elapsed":"1","parameters":"@__userid_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__userid_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"2e6eef11-c90e-4688-b63c-f3ffb6eab6f1","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000029","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:48.6013349+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"96f51faf56e96464256967082e5c8295","SpanId":"1bdc35cc919b9de3","Properties":{"elapsed":"2","parameters":"@__scmDTO_ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__scmDTO_ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"2e6eef11-c90e-4688-b63c-f3ffb6eab6f1","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000029","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:48.6034713+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"96f51faf56e96464256967082e5c8295","SpanId":"1bdc35cc919b9de3","Properties":{"elapsed":"1","parameters":"@__scmDTO_ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\nFROM \"Chats\" AS c\nWHERE c.\"ID\" = @__scmDTO_ChatID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"2e6eef11-c90e-4688-b63c-f3ffb6eab6f1","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000029","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:48.6133971+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"96f51faf56e96464256967082e5c8295","SpanId":"1bdc35cc919b9de3","Properties":{"elapsed":"8","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"Messages\" (\"ChatID\", \"DestinationID\", \"OriginID\", \"Text\", \"Timestamp\", \"chatID\", \"isRead\")\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)\nRETURNING \"ID\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"2e6eef11-c90e-4688-b63c-f3ffb6eab6f1","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000029","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:48.6141364+03:00","Level":"Information","MessageTemplate":"Message sent","TraceId":"96f51faf56e96464256967082e5c8295","SpanId":"1bdc35cc919b9de3","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"2e6eef11-c90e-4688-b63c-f3ffb6eab6f1","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000029","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:48.6144803+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"96f51faf56e96464256967082e5c8295","SpanId":"1bdc35cc919b9de3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2e6eef11-c90e-4688-b63c-f3ffb6eab6f1","ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000029","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:48.6147831+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"96f51faf56e96464256967082e5c8295","SpanId":"1bdc35cc919b9de3","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","ElapsedMilliseconds":19.9405,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000029","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:48.6149334+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"96f51faf56e96464256967082e5c8295","SpanId":"1bdc35cc919b9de3","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.SendMsgToChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000029","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:48.6153452+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"96f51faf56e96464256967082e5c8295","SpanId":"1bdc35cc919b9de3","Properties":{"ElapsedMilliseconds":24.2588,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/sendMsgToChat","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000029","RequestPath":"/api/chats/sendMsgToChat","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:48.7581992+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4b88f82cf2103d5ce18ff0e426e07e9c","SpanId":"3911862763cd37f0","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:48.7587391+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"4b88f82cf2103d5ce18ff0e426e07e9c","SpanId":"3911862763cd37f0","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:48.7616509+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4b88f82cf2103d5ce18ff0e426e07e9c","SpanId":"3911862763cd37f0","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:48.7620989+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4b88f82cf2103d5ce18ff0e426e07e9c","SpanId":"3911862763cd37f0","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:48.7623262+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4b88f82cf2103d5ce18ff0e426e07e9c","SpanId":"3911862763cd37f0","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:48.7630227+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"4b88f82cf2103d5ce18ff0e426e07e9c","SpanId":"3911862763cd37f0","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:48.7648218+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4b88f82cf2103d5ce18ff0e426e07e9c","SpanId":"3911862763cd37f0","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:48.7654371+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"4b88f82cf2103d5ce18ff0e426e07e9c","SpanId":"3911862763cd37f0","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:48.7675345+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4b88f82cf2103d5ce18ff0e426e07e9c","SpanId":"3911862763cd37f0","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:48.7697137+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4b88f82cf2103d5ce18ff0e426e07e9c","SpanId":"3911862763cd37f0","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:48.7722840+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4b88f82cf2103d5ce18ff0e426e07e9c","SpanId":"3911862763cd37f0","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:48.7778289+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4b88f82cf2103d5ce18ff0e426e07e9c","SpanId":"3911862763cd37f0","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p3='?' (DbType = Int64), @p2='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"MessageReadUsers\" (\"MessageId\", \"UserId\")\nVALUES (@p0, @p1);\nUPDATE \"Messages\" SET \"isRead\" = @p2\nWHERE \"ID\" = @p3;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:48.7853503+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4b88f82cf2103d5ce18ff0e426e07e9c","SpanId":"3911862763cd37f0","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:48.7868379+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4b88f82cf2103d5ce18ff0e426e07e9c","SpanId":"3911862763cd37f0","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":24.1611,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:48.7874805+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4b88f82cf2103d5ce18ff0e426e07e9c","SpanId":"3911862763cd37f0","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:48.7887211+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4b88f82cf2103d5ce18ff0e426e07e9c","SpanId":"3911862763cd37f0","Properties":{"ElapsedMilliseconds":30.5066,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000022","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:50.1207126+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"482d6593845e22560f1b0f009de04957","SpanId":"6983aa79d7e9a7ca","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:50.1211610+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"482d6593845e22560f1b0f009de04957","SpanId":"6983aa79d7e9a7ca","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:50.1244326+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"482d6593845e22560f1b0f009de04957","SpanId":"6983aa79d7e9a7ca","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:50.1248957+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"482d6593845e22560f1b0f009de04957","SpanId":"6983aa79d7e9a7ca","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:50.1251261+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"482d6593845e22560f1b0f009de04957","SpanId":"6983aa79d7e9a7ca","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:50.1255234+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"482d6593845e22560f1b0f009de04957","SpanId":"6983aa79d7e9a7ca","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:50.1269382+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"482d6593845e22560f1b0f009de04957","SpanId":"6983aa79d7e9a7ca","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:50.1273956+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"482d6593845e22560f1b0f009de04957","SpanId":"6983aa79d7e9a7ca","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:50.1290542+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"482d6593845e22560f1b0f009de04957","SpanId":"6983aa79d7e9a7ca","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:50.1306836+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"482d6593845e22560f1b0f009de04957","SpanId":"6983aa79d7e9a7ca","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:50.1327300+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"482d6593845e22560f1b0f009de04957","SpanId":"6983aa79d7e9a7ca","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:50.1358208+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"482d6593845e22560f1b0f009de04957","SpanId":"6983aa79d7e9a7ca","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:50.1361795+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"482d6593845e22560f1b0f009de04957","SpanId":"6983aa79d7e9a7ca","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":10.9146,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:50.1363327+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"482d6593845e22560f1b0f009de04957","SpanId":"6983aa79d7e9a7ca","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:50.1365839+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"482d6593845e22560f1b0f009de04957","SpanId":"6983aa79d7e9a7ca","Properties":{"ElapsedMilliseconds":15.8616,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:51.7599723+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"accf11c73e678ec3dc92bd8f1f5e3ad6","SpanId":"ca8b399c2547f0dd","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:51.7604752+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"accf11c73e678ec3dc92bd8f1f5e3ad6","SpanId":"ca8b399c2547f0dd","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:51.7607588+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"accf11c73e678ec3dc92bd8f1f5e3ad6","SpanId":"ca8b399c2547f0dd","Properties":{"ElapsedMilliseconds":0.7941,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000023","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:51.7622305+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"403584755c102d962da0ff2ac25ce382","SpanId":"a1189d5589d598f2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:51.7625543+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"403584755c102d962da0ff2ac25ce382","SpanId":"a1189d5589d598f2","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:51.7648431+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"403584755c102d962da0ff2ac25ce382","SpanId":"a1189d5589d598f2","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:51.7652224+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"403584755c102d962da0ff2ac25ce382","SpanId":"a1189d5589d598f2","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:51.7654633+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"403584755c102d962da0ff2ac25ce382","SpanId":"a1189d5589d598f2","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:51.7660170+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"403584755c102d962da0ff2ac25ce382","SpanId":"a1189d5589d598f2","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:51.7673063+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"403584755c102d962da0ff2ac25ce382","SpanId":"a1189d5589d598f2","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:51.7676245+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"403584755c102d962da0ff2ac25ce382","SpanId":"a1189d5589d598f2","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:51.7692494+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"403584755c102d962da0ff2ac25ce382","SpanId":"a1189d5589d598f2","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:51.7709767+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"403584755c102d962da0ff2ac25ce382","SpanId":"a1189d5589d598f2","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:51.7730864+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"403584755c102d962da0ff2ac25ce382","SpanId":"a1189d5589d598f2","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:51.7741562+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"403584755c102d962da0ff2ac25ce382","SpanId":"a1189d5589d598f2","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:51.7745347+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"403584755c102d962da0ff2ac25ce382","SpanId":"a1189d5589d598f2","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":8.934,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:51.7747437+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"403584755c102d962da0ff2ac25ce382","SpanId":"a1189d5589d598f2","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:51.7751724+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"403584755c102d962da0ff2ac25ce382","SpanId":"a1189d5589d598f2","Properties":{"ElapsedMilliseconds":12.9321,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000024","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:53.1934153+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b04f92c6fb63f8acbe93fe824a5ba0eb","SpanId":"6f6cbd49a6393ad8","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:53.1941435+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b04f92c6fb63f8acbe93fe824a5ba0eb","SpanId":"6f6cbd49a6393ad8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:53.1944842+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b04f92c6fb63f8acbe93fe824a5ba0eb","SpanId":"6f6cbd49a6393ad8","Properties":{"ElapsedMilliseconds":1.0844,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:53.3987096+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c7d32ae661b21ae180efb8e62978a0e2","SpanId":"747915698089df78","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:53.3991982+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c7d32ae661b21ae180efb8e62978a0e2","SpanId":"747915698089df78","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:53.4016203+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c7d32ae661b21ae180efb8e62978a0e2","SpanId":"747915698089df78","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:53.4021152+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c7d32ae661b21ae180efb8e62978a0e2","SpanId":"747915698089df78","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:53.4023348+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c7d32ae661b21ae180efb8e62978a0e2","SpanId":"747915698089df78","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:53.4028330+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"c7d32ae661b21ae180efb8e62978a0e2","SpanId":"747915698089df78","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:53.4042945+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c7d32ae661b21ae180efb8e62978a0e2","SpanId":"747915698089df78","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:53.4046801+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"c7d32ae661b21ae180efb8e62978a0e2","SpanId":"747915698089df78","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:53.4062950+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c7d32ae661b21ae180efb8e62978a0e2","SpanId":"747915698089df78","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:53.4079707+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c7d32ae661b21ae180efb8e62978a0e2","SpanId":"747915698089df78","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:53.4102786+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c7d32ae661b21ae180efb8e62978a0e2","SpanId":"747915698089df78","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:53.4113737+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c7d32ae661b21ae180efb8e62978a0e2","SpanId":"747915698089df78","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:53.4116929+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c7d32ae661b21ae180efb8e62978a0e2","SpanId":"747915698089df78","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":9.1645,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:53.4118490+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c7d32ae661b21ae180efb8e62978a0e2","SpanId":"747915698089df78","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:53.4121480+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c7d32ae661b21ae180efb8e62978a0e2","SpanId":"747915698089df78","Properties":{"ElapsedMilliseconds":13.4527,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:54.7689035+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2734695b34de3c03b5f5ff9fea9246bc","SpanId":"ee6632d133141933","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:54.7693494+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"2734695b34de3c03b5f5ff9fea9246bc","SpanId":"ee6632d133141933","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:54.7723036+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2734695b34de3c03b5f5ff9fea9246bc","SpanId":"ee6632d133141933","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:54.7729477+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2734695b34de3c03b5f5ff9fea9246bc","SpanId":"ee6632d133141933","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:54.7732893+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2734695b34de3c03b5f5ff9fea9246bc","SpanId":"ee6632d133141933","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:54.7742687+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"2734695b34de3c03b5f5ff9fea9246bc","SpanId":"ee6632d133141933","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:54.7765705+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2734695b34de3c03b5f5ff9fea9246bc","SpanId":"ee6632d133141933","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:54.7771778+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"2734695b34de3c03b5f5ff9fea9246bc","SpanId":"ee6632d133141933","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:54.7796451+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2734695b34de3c03b5f5ff9fea9246bc","SpanId":"ee6632d133141933","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:54.7815108+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2734695b34de3c03b5f5ff9fea9246bc","SpanId":"ee6632d133141933","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:54.7839783+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2734695b34de3c03b5f5ff9fea9246bc","SpanId":"ee6632d133141933","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:54.7850324+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2734695b34de3c03b5f5ff9fea9246bc","SpanId":"ee6632d133141933","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:54.7853171+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2734695b34de3c03b5f5ff9fea9246bc","SpanId":"ee6632d133141933","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":11.713,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:54.7855557+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2734695b34de3c03b5f5ff9fea9246bc","SpanId":"ee6632d133141933","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:54.7858308+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2734695b34de3c03b5f5ff9fea9246bc","SpanId":"ee6632d133141933","Properties":{"ElapsedMilliseconds":16.9296,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000025","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:56.1630230+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a2c0e11d3eff665549152066635df007","SpanId":"09ad347903f52336","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:56.1635709+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a2c0e11d3eff665549152066635df007","SpanId":"09ad347903f52336","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:56.1660612+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a2c0e11d3eff665549152066635df007","SpanId":"09ad347903f52336","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:56.1665247+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a2c0e11d3eff665549152066635df007","SpanId":"09ad347903f52336","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:56.1667875+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a2c0e11d3eff665549152066635df007","SpanId":"09ad347903f52336","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:56.1672265+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"a2c0e11d3eff665549152066635df007","SpanId":"09ad347903f52336","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:56.1689630+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a2c0e11d3eff665549152066635df007","SpanId":"09ad347903f52336","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:56.1694296+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"a2c0e11d3eff665549152066635df007","SpanId":"09ad347903f52336","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:56.1715855+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a2c0e11d3eff665549152066635df007","SpanId":"09ad347903f52336","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:56.1736584+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a2c0e11d3eff665549152066635df007","SpanId":"09ad347903f52336","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:56.1763808+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a2c0e11d3eff665549152066635df007","SpanId":"09ad347903f52336","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:56.1773840+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a2c0e11d3eff665549152066635df007","SpanId":"09ad347903f52336","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:56.1778716+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a2c0e11d3eff665549152066635df007","SpanId":"09ad347903f52336","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":10.923,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:56.1780942+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a2c0e11d3eff665549152066635df007","SpanId":"09ad347903f52336","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:56.1783432+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a2c0e11d3eff665549152066635df007","SpanId":"09ad347903f52336","Properties":{"ElapsedMilliseconds":15.3259,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:57.9068225+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fcf768df53c489f2a99a14da8dd90c70","SpanId":"931a7250b8888d13","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:57.9071669+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"fcf768df53c489f2a99a14da8dd90c70","SpanId":"931a7250b8888d13","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:57.9074848+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fcf768df53c489f2a99a14da8dd90c70","SpanId":"931a7250b8888d13","Properties":{"ElapsedMilliseconds":0.6219,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000026","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:57.9087401+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ca8f2e6d1855c5ed7ec5cc2c6566b7a2","SpanId":"22bab5a02a79322b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:57.9092286+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ca8f2e6d1855c5ed7ec5cc2c6566b7a2","SpanId":"22bab5a02a79322b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:57.9123474+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ca8f2e6d1855c5ed7ec5cc2c6566b7a2","SpanId":"22bab5a02a79322b","Properties":{"elapsed":"2","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:57.9129508+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ca8f2e6d1855c5ed7ec5cc2c6566b7a2","SpanId":"22bab5a02a79322b","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:57.9131834+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ca8f2e6d1855c5ed7ec5cc2c6566b7a2","SpanId":"22bab5a02a79322b","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:57.9136925+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"ca8f2e6d1855c5ed7ec5cc2c6566b7a2","SpanId":"22bab5a02a79322b","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:57.9152478+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ca8f2e6d1855c5ed7ec5cc2c6566b7a2","SpanId":"22bab5a02a79322b","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:57.9157597+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"ca8f2e6d1855c5ed7ec5cc2c6566b7a2","SpanId":"22bab5a02a79322b","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:57.9176690+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ca8f2e6d1855c5ed7ec5cc2c6566b7a2","SpanId":"22bab5a02a79322b","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:57.9195983+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ca8f2e6d1855c5ed7ec5cc2c6566b7a2","SpanId":"22bab5a02a79322b","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:57.9224761+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ca8f2e6d1855c5ed7ec5cc2c6566b7a2","SpanId":"22bab5a02a79322b","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:03:57.9237857+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ca8f2e6d1855c5ed7ec5cc2c6566b7a2","SpanId":"22bab5a02a79322b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:57.9241640+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ca8f2e6d1855c5ed7ec5cc2c6566b7a2","SpanId":"22bab5a02a79322b","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":10.7993,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:57.9243484+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ca8f2e6d1855c5ed7ec5cc2c6566b7a2","SpanId":"22bab5a02a79322b","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:57.9246999+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ca8f2e6d1855c5ed7ec5cc2c6566b7a2","SpanId":"22bab5a02a79322b","Properties":{"ElapsedMilliseconds":15.9535,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000027","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:03:59.0950015+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"69bac09e5dfb508801118d3424f7ef8f","SpanId":"9a5bb40a74fa1a41","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:59.0953688+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"69bac09e5dfb508801118d3424f7ef8f","SpanId":"9a5bb40a74fa1a41","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:59.0958285+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"69bac09e5dfb508801118d3424f7ef8f","SpanId":"9a5bb40a74fa1a41","Properties":{"ElapsedMilliseconds":0.8448,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:59.1005794+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"638061c077db3ce19737bf5651236e31","SpanId":"8cd678f520e758cf","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:59.1009853+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"638061c077db3ce19737bf5651236e31","SpanId":"8cd678f520e758cf","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:59.1029833+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"638061c077db3ce19737bf5651236e31","SpanId":"8cd678f520e758cf","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:59.1033901+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"638061c077db3ce19737bf5651236e31","SpanId":"8cd678f520e758cf","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:59.1035665+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"638061c077db3ce19737bf5651236e31","SpanId":"8cd678f520e758cf","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:59.1040933+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"638061c077db3ce19737bf5651236e31","SpanId":"8cd678f520e758cf","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:59.1053208+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"638061c077db3ce19737bf5651236e31","SpanId":"8cd678f520e758cf","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:59.1057823+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"638061c077db3ce19737bf5651236e31","SpanId":"8cd678f520e758cf","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:59.1073324+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"638061c077db3ce19737bf5651236e31","SpanId":"8cd678f520e758cf","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:59.1088242+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"638061c077db3ce19737bf5651236e31","SpanId":"8cd678f520e758cf","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:59.1107264+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"638061c077db3ce19737bf5651236e31","SpanId":"8cd678f520e758cf","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:03:59.1116818+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"638061c077db3ce19737bf5651236e31","SpanId":"8cd678f520e758cf","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:59.1119288+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"638061c077db3ce19737bf5651236e31","SpanId":"8cd678f520e758cf","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":8.1581,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:59.1121171+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"638061c077db3ce19737bf5651236e31","SpanId":"8cd678f520e758cf","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:03:59.1123314+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"638061c077db3ce19737bf5651236e31","SpanId":"8cd678f520e758cf","Properties":{"ElapsedMilliseconds":11.7563,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:00.9088269+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ff069a897ad34be011885a82cd476faf","SpanId":"c949c4b653421e9e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:00.9093195+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ff069a897ad34be011885a82cd476faf","SpanId":"c949c4b653421e9e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:00.9120444+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff069a897ad34be011885a82cd476faf","SpanId":"c949c4b653421e9e","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:00.9126121+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ff069a897ad34be011885a82cd476faf","SpanId":"c949c4b653421e9e","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:00.9129065+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ff069a897ad34be011885a82cd476faf","SpanId":"c949c4b653421e9e","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:00.9135917+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"ff069a897ad34be011885a82cd476faf","SpanId":"c949c4b653421e9e","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:00.9153468+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff069a897ad34be011885a82cd476faf","SpanId":"c949c4b653421e9e","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:00.9160391+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"ff069a897ad34be011885a82cd476faf","SpanId":"c949c4b653421e9e","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:00.9184110+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff069a897ad34be011885a82cd476faf","SpanId":"c949c4b653421e9e","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:00.9208947+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff069a897ad34be011885a82cd476faf","SpanId":"c949c4b653421e9e","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:00.9239252+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff069a897ad34be011885a82cd476faf","SpanId":"c949c4b653421e9e","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:00.9255188+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ff069a897ad34be011885a82cd476faf","SpanId":"c949c4b653421e9e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:00.9260339+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ff069a897ad34be011885a82cd476faf","SpanId":"c949c4b653421e9e","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":12.8073,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:00.9265392+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ff069a897ad34be011885a82cd476faf","SpanId":"c949c4b653421e9e","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:00.9269616+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ff069a897ad34be011885a82cd476faf","SpanId":"c949c4b653421e9e","Properties":{"ElapsedMilliseconds":18.1336,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000028","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:02.2044235+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"374d7a6bb81fce57ebf26d386bb2039c","SpanId":"ea7709b615330264","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:02.2050396+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"374d7a6bb81fce57ebf26d386bb2039c","SpanId":"ea7709b615330264","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:02.2074170+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"374d7a6bb81fce57ebf26d386bb2039c","SpanId":"ea7709b615330264","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:02.2079950+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"374d7a6bb81fce57ebf26d386bb2039c","SpanId":"ea7709b615330264","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:02.2082014+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"374d7a6bb81fce57ebf26d386bb2039c","SpanId":"ea7709b615330264","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:02.2086211+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"374d7a6bb81fce57ebf26d386bb2039c","SpanId":"ea7709b615330264","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:02.2100907+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"374d7a6bb81fce57ebf26d386bb2039c","SpanId":"ea7709b615330264","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:02.2104285+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"374d7a6bb81fce57ebf26d386bb2039c","SpanId":"ea7709b615330264","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:02.2122448+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"374d7a6bb81fce57ebf26d386bb2039c","SpanId":"ea7709b615330264","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:02.2140460+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"374d7a6bb81fce57ebf26d386bb2039c","SpanId":"ea7709b615330264","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:02.2166467+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"374d7a6bb81fce57ebf26d386bb2039c","SpanId":"ea7709b615330264","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:02.2177276+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"374d7a6bb81fce57ebf26d386bb2039c","SpanId":"ea7709b615330264","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:02.2181017+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"374d7a6bb81fce57ebf26d386bb2039c","SpanId":"ea7709b615330264","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":9.7131,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:02.2182857+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"374d7a6bb81fce57ebf26d386bb2039c","SpanId":"ea7709b615330264","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:02.2185727+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"374d7a6bb81fce57ebf26d386bb2039c","SpanId":"ea7709b615330264","Properties":{"ElapsedMilliseconds":14.1613,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:03.9060005+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5befcf5798fff3089bafae3197666dbf","SpanId":"8c06edcb64b31e50","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000029","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:03.9064492+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"5befcf5798fff3089bafae3197666dbf","SpanId":"8c06edcb64b31e50","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000029","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:03.9067642+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5befcf5798fff3089bafae3197666dbf","SpanId":"8c06edcb64b31e50","Properties":{"ElapsedMilliseconds":0.7672,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000029","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:03.9083230+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"efe93dc14c93e2f309ee1d5a8fb91f50","SpanId":"dc01d15c5bbcc31b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:03.9087198+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"efe93dc14c93e2f309ee1d5a8fb91f50","SpanId":"dc01d15c5bbcc31b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:03.9109092+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"efe93dc14c93e2f309ee1d5a8fb91f50","SpanId":"dc01d15c5bbcc31b","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:03.9113131+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"efe93dc14c93e2f309ee1d5a8fb91f50","SpanId":"dc01d15c5bbcc31b","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:03.9114943+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"efe93dc14c93e2f309ee1d5a8fb91f50","SpanId":"dc01d15c5bbcc31b","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:03.9119318+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"efe93dc14c93e2f309ee1d5a8fb91f50","SpanId":"dc01d15c5bbcc31b","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:03.9131977+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"efe93dc14c93e2f309ee1d5a8fb91f50","SpanId":"dc01d15c5bbcc31b","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:03.9136101+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"efe93dc14c93e2f309ee1d5a8fb91f50","SpanId":"dc01d15c5bbcc31b","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:03.9152940+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"efe93dc14c93e2f309ee1d5a8fb91f50","SpanId":"dc01d15c5bbcc31b","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:03.9170165+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"efe93dc14c93e2f309ee1d5a8fb91f50","SpanId":"dc01d15c5bbcc31b","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:03.9190568+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"efe93dc14c93e2f309ee1d5a8fb91f50","SpanId":"dc01d15c5bbcc31b","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:03.9202087+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"efe93dc14c93e2f309ee1d5a8fb91f50","SpanId":"dc01d15c5bbcc31b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:03.9205097+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"efe93dc14c93e2f309ee1d5a8fb91f50","SpanId":"dc01d15c5bbcc31b","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":8.8065,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:03.9207480+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"efe93dc14c93e2f309ee1d5a8fb91f50","SpanId":"dc01d15c5bbcc31b","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:03.9210243+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"efe93dc14c93e2f309ee1d5a8fb91f50","SpanId":"dc01d15c5bbcc31b","Properties":{"ElapsedMilliseconds":12.702,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000002A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:05.1739336+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"10be30c7daf3b55e2b36f25cd1970ca5","SpanId":"8044d28b4f3718cc","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:05.1747613+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"10be30c7daf3b55e2b36f25cd1970ca5","SpanId":"8044d28b4f3718cc","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:05.1750676+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"10be30c7daf3b55e2b36f25cd1970ca5","SpanId":"8044d28b4f3718cc","Properties":{"ElapsedMilliseconds":1.2015,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:05.1809147+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3de46a10a2a649d5049ea20cd2d4d965","SpanId":"97bbd66ea61243ba","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:05.1814977+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"3de46a10a2a649d5049ea20cd2d4d965","SpanId":"97bbd66ea61243ba","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:05.1839852+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3de46a10a2a649d5049ea20cd2d4d965","SpanId":"97bbd66ea61243ba","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:05.1844353+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3de46a10a2a649d5049ea20cd2d4d965","SpanId":"97bbd66ea61243ba","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:05.1847014+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3de46a10a2a649d5049ea20cd2d4d965","SpanId":"97bbd66ea61243ba","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:05.1851298+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"3de46a10a2a649d5049ea20cd2d4d965","SpanId":"97bbd66ea61243ba","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:05.1865074+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3de46a10a2a649d5049ea20cd2d4d965","SpanId":"97bbd66ea61243ba","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:05.1869430+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"3de46a10a2a649d5049ea20cd2d4d965","SpanId":"97bbd66ea61243ba","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:05.1886017+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3de46a10a2a649d5049ea20cd2d4d965","SpanId":"97bbd66ea61243ba","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:05.1902356+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3de46a10a2a649d5049ea20cd2d4d965","SpanId":"97bbd66ea61243ba","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:05.1923572+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3de46a10a2a649d5049ea20cd2d4d965","SpanId":"97bbd66ea61243ba","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:05.1933078+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3de46a10a2a649d5049ea20cd2d4d965","SpanId":"97bbd66ea61243ba","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:05.1937582+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3de46a10a2a649d5049ea20cd2d4d965","SpanId":"97bbd66ea61243ba","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":8.903,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:05.1939509+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3de46a10a2a649d5049ea20cd2d4d965","SpanId":"97bbd66ea61243ba","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:05.1941417+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3de46a10a2a649d5049ea20cd2d4d965","SpanId":"97bbd66ea61243ba","Properties":{"ElapsedMilliseconds":13.2355,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:06.9060640+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9169c8ba771b8a4e1a287410d40a0d15","SpanId":"a04e8bc73a0b163f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:06.9065931+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9169c8ba771b8a4e1a287410d40a0d15","SpanId":"a04e8bc73a0b163f","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:06.9086905+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9169c8ba771b8a4e1a287410d40a0d15","SpanId":"a04e8bc73a0b163f","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:06.9091223+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9169c8ba771b8a4e1a287410d40a0d15","SpanId":"a04e8bc73a0b163f","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:06.9093124+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9169c8ba771b8a4e1a287410d40a0d15","SpanId":"a04e8bc73a0b163f","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:06.9096945+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"9169c8ba771b8a4e1a287410d40a0d15","SpanId":"a04e8bc73a0b163f","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:06.9109696+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9169c8ba771b8a4e1a287410d40a0d15","SpanId":"a04e8bc73a0b163f","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:06.9113312+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"9169c8ba771b8a4e1a287410d40a0d15","SpanId":"a04e8bc73a0b163f","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:06.9130154+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9169c8ba771b8a4e1a287410d40a0d15","SpanId":"a04e8bc73a0b163f","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:06.9146193+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9169c8ba771b8a4e1a287410d40a0d15","SpanId":"a04e8bc73a0b163f","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:06.9167971+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9169c8ba771b8a4e1a287410d40a0d15","SpanId":"a04e8bc73a0b163f","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:06.9178550+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9169c8ba771b8a4e1a287410d40a0d15","SpanId":"a04e8bc73a0b163f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:06.9181150+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9169c8ba771b8a4e1a287410d40a0d15","SpanId":"a04e8bc73a0b163f","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":8.6555,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:06.9182845+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9169c8ba771b8a4e1a287410d40a0d15","SpanId":"a04e8bc73a0b163f","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:06.9185984+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9169c8ba771b8a4e1a287410d40a0d15","SpanId":"a04e8bc73a0b163f","Properties":{"ElapsedMilliseconds":12.5348,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000002B","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:08.1434756+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ae8e57f51f70f28d648bc8a6c6835804","SpanId":"dca3b5437d8a3f06","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:08.1442005+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ae8e57f51f70f28d648bc8a6c6835804","SpanId":"dca3b5437d8a3f06","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:08.1465912+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae8e57f51f70f28d648bc8a6c6835804","SpanId":"dca3b5437d8a3f06","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:08.1470356+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ae8e57f51f70f28d648bc8a6c6835804","SpanId":"dca3b5437d8a3f06","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:08.1472422+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ae8e57f51f70f28d648bc8a6c6835804","SpanId":"dca3b5437d8a3f06","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:08.1476746+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"ae8e57f51f70f28d648bc8a6c6835804","SpanId":"dca3b5437d8a3f06","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:08.1493103+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae8e57f51f70f28d648bc8a6c6835804","SpanId":"dca3b5437d8a3f06","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:08.1498165+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"ae8e57f51f70f28d648bc8a6c6835804","SpanId":"dca3b5437d8a3f06","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:08.1516473+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae8e57f51f70f28d648bc8a6c6835804","SpanId":"dca3b5437d8a3f06","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:08.1535950+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae8e57f51f70f28d648bc8a6c6835804","SpanId":"dca3b5437d8a3f06","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:08.1560363+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae8e57f51f70f28d648bc8a6c6835804","SpanId":"dca3b5437d8a3f06","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:08.1570769+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ae8e57f51f70f28d648bc8a6c6835804","SpanId":"dca3b5437d8a3f06","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:08.1576034+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ae8e57f51f70f28d648bc8a6c6835804","SpanId":"dca3b5437d8a3f06","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":10.2241,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:08.1578535+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ae8e57f51f70f28d648bc8a6c6835804","SpanId":"dca3b5437d8a3f06","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:08.1581511+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ae8e57f51f70f28d648bc8a6c6835804","SpanId":"dca3b5437d8a3f06","Properties":{"ElapsedMilliseconds":14.6165,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:09.9075355+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"12711084653d815f3adf3a361940adb9","SpanId":"442e40324f4db589","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:09.9081440+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"12711084653d815f3adf3a361940adb9","SpanId":"442e40324f4db589","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:09.9083832+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"12711084653d815f3adf3a361940adb9","SpanId":"442e40324f4db589","Properties":{"ElapsedMilliseconds":0.852,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000002C","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:09.9093996+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d48f79c43921ae0c94de4e3b77d34ce8","SpanId":"0d4e3337fc5c1602","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:09.9097026+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d48f79c43921ae0c94de4e3b77d34ce8","SpanId":"0d4e3337fc5c1602","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:09.9119124+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d48f79c43921ae0c94de4e3b77d34ce8","SpanId":"0d4e3337fc5c1602","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:09.9122767+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d48f79c43921ae0c94de4e3b77d34ce8","SpanId":"0d4e3337fc5c1602","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:09.9125512+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d48f79c43921ae0c94de4e3b77d34ce8","SpanId":"0d4e3337fc5c1602","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:09.9129642+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"d48f79c43921ae0c94de4e3b77d34ce8","SpanId":"0d4e3337fc5c1602","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:09.9146194+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d48f79c43921ae0c94de4e3b77d34ce8","SpanId":"0d4e3337fc5c1602","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:09.9150118+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"d48f79c43921ae0c94de4e3b77d34ce8","SpanId":"0d4e3337fc5c1602","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:09.9171812+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d48f79c43921ae0c94de4e3b77d34ce8","SpanId":"0d4e3337fc5c1602","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:09.9192816+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d48f79c43921ae0c94de4e3b77d34ce8","SpanId":"0d4e3337fc5c1602","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:09.9223978+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d48f79c43921ae0c94de4e3b77d34ce8","SpanId":"0d4e3337fc5c1602","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:09.9237543+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d48f79c43921ae0c94de4e3b77d34ce8","SpanId":"0d4e3337fc5c1602","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:09.9241896+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d48f79c43921ae0c94de4e3b77d34ce8","SpanId":"0d4e3337fc5c1602","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":11.4654,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:09.9244485+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d48f79c43921ae0c94de4e3b77d34ce8","SpanId":"0d4e3337fc5c1602","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:09.9248385+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d48f79c43921ae0c94de4e3b77d34ce8","SpanId":"0d4e3337fc5c1602","Properties":{"ElapsedMilliseconds":15.4247,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000002D","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:11.2155500+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d8aee7acedbdf0702886be16279d8e0a","SpanId":"c2715a45bb40dab5","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:11.2161776+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d8aee7acedbdf0702886be16279d8e0a","SpanId":"c2715a45bb40dab5","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:11.2164708+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d8aee7acedbdf0702886be16279d8e0a","SpanId":"c2715a45bb40dab5","Properties":{"ElapsedMilliseconds":0.9337,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:11.3044872+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"783fd4e9bc8d2294280705d8e5eaf651","SpanId":"8c0c1e98a27fd6c5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000035","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:11.3049553+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"783fd4e9bc8d2294280705d8e5eaf651","SpanId":"8c0c1e98a27fd6c5","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000035","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:11.3071636+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"783fd4e9bc8d2294280705d8e5eaf651","SpanId":"8c0c1e98a27fd6c5","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000035","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:11.3075747+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"783fd4e9bc8d2294280705d8e5eaf651","SpanId":"8c0c1e98a27fd6c5","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000035","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:11.3077703+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"783fd4e9bc8d2294280705d8e5eaf651","SpanId":"8c0c1e98a27fd6c5","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000035","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:11.3082878+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"783fd4e9bc8d2294280705d8e5eaf651","SpanId":"8c0c1e98a27fd6c5","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000035","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:11.3099270+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"783fd4e9bc8d2294280705d8e5eaf651","SpanId":"8c0c1e98a27fd6c5","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000035","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:11.3104393+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"783fd4e9bc8d2294280705d8e5eaf651","SpanId":"8c0c1e98a27fd6c5","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000035","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:11.3129268+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"783fd4e9bc8d2294280705d8e5eaf651","SpanId":"8c0c1e98a27fd6c5","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000035","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:11.3151857+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"783fd4e9bc8d2294280705d8e5eaf651","SpanId":"8c0c1e98a27fd6c5","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000035","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:11.3187626+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"783fd4e9bc8d2294280705d8e5eaf651","SpanId":"8c0c1e98a27fd6c5","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000035","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:11.3198573+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"783fd4e9bc8d2294280705d8e5eaf651","SpanId":"8c0c1e98a27fd6c5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000035","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:11.3201978+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"783fd4e9bc8d2294280705d8e5eaf651","SpanId":"8c0c1e98a27fd6c5","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":12.1807,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000035","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:11.3204091+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"783fd4e9bc8d2294280705d8e5eaf651","SpanId":"8c0c1e98a27fd6c5","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000035","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:11.3207307+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"783fd4e9bc8d2294280705d8e5eaf651","SpanId":"8c0c1e98a27fd6c5","Properties":{"ElapsedMilliseconds":16.2504,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000035","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:12.9062889+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b7d857ec23a90f925aef9826d33d37a1","SpanId":"2fd0eb07f8540064","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:12.9066618+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b7d857ec23a90f925aef9826d33d37a1","SpanId":"2fd0eb07f8540064","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:12.9089997+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b7d857ec23a90f925aef9826d33d37a1","SpanId":"2fd0eb07f8540064","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:12.9094745+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b7d857ec23a90f925aef9826d33d37a1","SpanId":"2fd0eb07f8540064","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:12.9097440+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b7d857ec23a90f925aef9826d33d37a1","SpanId":"2fd0eb07f8540064","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:12.9102692+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"b7d857ec23a90f925aef9826d33d37a1","SpanId":"2fd0eb07f8540064","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:12.9120158+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b7d857ec23a90f925aef9826d33d37a1","SpanId":"2fd0eb07f8540064","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:12.9123816+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"b7d857ec23a90f925aef9826d33d37a1","SpanId":"2fd0eb07f8540064","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:12.9140769+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b7d857ec23a90f925aef9826d33d37a1","SpanId":"2fd0eb07f8540064","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:12.9160257+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b7d857ec23a90f925aef9826d33d37a1","SpanId":"2fd0eb07f8540064","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:12.9185243+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b7d857ec23a90f925aef9826d33d37a1","SpanId":"2fd0eb07f8540064","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:12.9194438+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b7d857ec23a90f925aef9826d33d37a1","SpanId":"2fd0eb07f8540064","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:12.9198530+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b7d857ec23a90f925aef9826d33d37a1","SpanId":"2fd0eb07f8540064","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":9.8654,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:12.9200661+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b7d857ec23a90f925aef9826d33d37a1","SpanId":"2fd0eb07f8540064","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:12.9204421+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b7d857ec23a90f925aef9826d33d37a1","SpanId":"2fd0eb07f8540064","Properties":{"ElapsedMilliseconds":14.2061,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000002E","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:14.1850569+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"00d80ef1b5265da4f0eceeee815c8c5e","SpanId":"b9f23fed8831fd48","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:14.1854608+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"00d80ef1b5265da4f0eceeee815c8c5e","SpanId":"b9f23fed8831fd48","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:14.1875042+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"00d80ef1b5265da4f0eceeee815c8c5e","SpanId":"b9f23fed8831fd48","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:14.1878470+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"00d80ef1b5265da4f0eceeee815c8c5e","SpanId":"b9f23fed8831fd48","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:14.1880810+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"00d80ef1b5265da4f0eceeee815c8c5e","SpanId":"b9f23fed8831fd48","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:14.1884372+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"00d80ef1b5265da4f0eceeee815c8c5e","SpanId":"b9f23fed8831fd48","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:14.1893798+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"00d80ef1b5265da4f0eceeee815c8c5e","SpanId":"b9f23fed8831fd48","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:14.1896806+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"00d80ef1b5265da4f0eceeee815c8c5e","SpanId":"b9f23fed8831fd48","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:14.1910954+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"00d80ef1b5265da4f0eceeee815c8c5e","SpanId":"b9f23fed8831fd48","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:14.1924529+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"00d80ef1b5265da4f0eceeee815c8c5e","SpanId":"b9f23fed8831fd48","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:14.1942119+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"00d80ef1b5265da4f0eceeee815c8c5e","SpanId":"b9f23fed8831fd48","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:14.1948949+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"00d80ef1b5265da4f0eceeee815c8c5e","SpanId":"b9f23fed8831fd48","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:14.1952655+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"00d80ef1b5265da4f0eceeee815c8c5e","SpanId":"b9f23fed8831fd48","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":7.0033,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:14.1954068+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"00d80ef1b5265da4f0eceeee815c8c5e","SpanId":"b9f23fed8831fd48","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:14.1955827+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"00d80ef1b5265da4f0eceeee815c8c5e","SpanId":"b9f23fed8831fd48","Properties":{"ElapsedMilliseconds":10.5147,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000036","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:15.9076976+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ead17428fe6ddc54ec137f0de8b434b4","SpanId":"2c3daf85086bfae2","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:15.9081462+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ead17428fe6ddc54ec137f0de8b434b4","SpanId":"2c3daf85086bfae2","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:15.9084199+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ead17428fe6ddc54ec137f0de8b434b4","SpanId":"2c3daf85086bfae2","Properties":{"ElapsedMilliseconds":0.7362,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:0000002F","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:15.9097019+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1d085a4d818dbd78231cef19a0001a28","SpanId":"46a95f5aae470f17","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:15.9100495+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1d085a4d818dbd78231cef19a0001a28","SpanId":"46a95f5aae470f17","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:15.9123491+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d085a4d818dbd78231cef19a0001a28","SpanId":"46a95f5aae470f17","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:15.9127842+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1d085a4d818dbd78231cef19a0001a28","SpanId":"46a95f5aae470f17","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:15.9129668+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1d085a4d818dbd78231cef19a0001a28","SpanId":"46a95f5aae470f17","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:15.9133995+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"1d085a4d818dbd78231cef19a0001a28","SpanId":"46a95f5aae470f17","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:15.9147212+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d085a4d818dbd78231cef19a0001a28","SpanId":"46a95f5aae470f17","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:15.9151069+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"1d085a4d818dbd78231cef19a0001a28","SpanId":"46a95f5aae470f17","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:15.9166977+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d085a4d818dbd78231cef19a0001a28","SpanId":"46a95f5aae470f17","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:15.9182673+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d085a4d818dbd78231cef19a0001a28","SpanId":"46a95f5aae470f17","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:15.9205697+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d085a4d818dbd78231cef19a0001a28","SpanId":"46a95f5aae470f17","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:15.9215659+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1d085a4d818dbd78231cef19a0001a28","SpanId":"46a95f5aae470f17","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:15.9218876+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1d085a4d818dbd78231cef19a0001a28","SpanId":"46a95f5aae470f17","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":8.7206,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:15.9223355+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1d085a4d818dbd78231cef19a0001a28","SpanId":"46a95f5aae470f17","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:15.9226224+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1d085a4d818dbd78231cef19a0001a28","SpanId":"46a95f5aae470f17","Properties":{"ElapsedMilliseconds":12.9721,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000030","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:17.1548881+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"27ea595657a847c1380ea148e9a945fa","SpanId":"168bbb0a6fdee189","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000037","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:17.1554172+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"27ea595657a847c1380ea148e9a945fa","SpanId":"168bbb0a6fdee189","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000037","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:17.1557373+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"27ea595657a847c1380ea148e9a945fa","SpanId":"168bbb0a6fdee189","Properties":{"ElapsedMilliseconds":0.8541,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000037","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:17.1609006+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d012fa481163e6155e85fabce13d516a","SpanId":"400a4339bec58157","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:17.1613126+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d012fa481163e6155e85fabce13d516a","SpanId":"400a4339bec58157","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:17.1635901+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d012fa481163e6155e85fabce13d516a","SpanId":"400a4339bec58157","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:17.1639932+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d012fa481163e6155e85fabce13d516a","SpanId":"400a4339bec58157","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:17.1641631+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d012fa481163e6155e85fabce13d516a","SpanId":"400a4339bec58157","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:17.1645541+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"d012fa481163e6155e85fabce13d516a","SpanId":"400a4339bec58157","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:17.1659292+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d012fa481163e6155e85fabce13d516a","SpanId":"400a4339bec58157","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:17.1664424+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"d012fa481163e6155e85fabce13d516a","SpanId":"400a4339bec58157","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:17.1680032+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d012fa481163e6155e85fabce13d516a","SpanId":"400a4339bec58157","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:17.1695437+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d012fa481163e6155e85fabce13d516a","SpanId":"400a4339bec58157","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:17.1715442+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d012fa481163e6155e85fabce13d516a","SpanId":"400a4339bec58157","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:17.1725344+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d012fa481163e6155e85fabce13d516a","SpanId":"400a4339bec58157","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:17.1728305+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d012fa481163e6155e85fabce13d516a","SpanId":"400a4339bec58157","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":8.5143,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:17.1729774+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d012fa481163e6155e85fabce13d516a","SpanId":"400a4339bec58157","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:17.1732100+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d012fa481163e6155e85fabce13d516a","SpanId":"400a4339bec58157","Properties":{"ElapsedMilliseconds":12.3021,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000038","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:18.9077087+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6add7283b6b218e5391c0e4cc385fc36","SpanId":"55238c5cc647ef60","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:18.9082369+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"6add7283b6b218e5391c0e4cc385fc36","SpanId":"55238c5cc647ef60","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:18.9102193+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6add7283b6b218e5391c0e4cc385fc36","SpanId":"55238c5cc647ef60","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:18.9106009+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6add7283b6b218e5391c0e4cc385fc36","SpanId":"55238c5cc647ef60","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:18.9108094+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6add7283b6b218e5391c0e4cc385fc36","SpanId":"55238c5cc647ef60","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:18.9112363+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"6add7283b6b218e5391c0e4cc385fc36","SpanId":"55238c5cc647ef60","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:18.9127295+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6add7283b6b218e5391c0e4cc385fc36","SpanId":"55238c5cc647ef60","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:18.9131474+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"6add7283b6b218e5391c0e4cc385fc36","SpanId":"55238c5cc647ef60","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:18.9149342+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6add7283b6b218e5391c0e4cc385fc36","SpanId":"55238c5cc647ef60","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:18.9165116+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6add7283b6b218e5391c0e4cc385fc36","SpanId":"55238c5cc647ef60","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:18.9189060+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6add7283b6b218e5391c0e4cc385fc36","SpanId":"55238c5cc647ef60","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:18.9197459+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6add7283b6b218e5391c0e4cc385fc36","SpanId":"55238c5cc647ef60","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:18.9199697+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6add7283b6b218e5391c0e4cc385fc36","SpanId":"55238c5cc647ef60","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":9.021,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:18.9201235+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6add7283b6b218e5391c0e4cc385fc36","SpanId":"55238c5cc647ef60","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:18.9203876+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6add7283b6b218e5391c0e4cc385fc36","SpanId":"55238c5cc647ef60","Properties":{"ElapsedMilliseconds":12.6339,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000031","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:20.1244886+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2bdd7c249d816cf47bcbadfd247e3be0","SpanId":"186c8ff9be251f34","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000039","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:20.1251123+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"2bdd7c249d816cf47bcbadfd247e3be0","SpanId":"186c8ff9be251f34","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:00000039","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:20.1278299+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2bdd7c249d816cf47bcbadfd247e3be0","SpanId":"186c8ff9be251f34","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:00000039","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:20.1282004+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2bdd7c249d816cf47bcbadfd247e3be0","SpanId":"186c8ff9be251f34","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000039","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:20.1283724+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2bdd7c249d816cf47bcbadfd247e3be0","SpanId":"186c8ff9be251f34","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000039","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:20.1289212+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"2bdd7c249d816cf47bcbadfd247e3be0","SpanId":"186c8ff9be251f34","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000039","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:20.1305038+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2bdd7c249d816cf47bcbadfd247e3be0","SpanId":"186c8ff9be251f34","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000039","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:20.1308978+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"2bdd7c249d816cf47bcbadfd247e3be0","SpanId":"186c8ff9be251f34","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000039","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:20.1327055+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2bdd7c249d816cf47bcbadfd247e3be0","SpanId":"186c8ff9be251f34","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000039","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:20.1345527+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2bdd7c249d816cf47bcbadfd247e3be0","SpanId":"186c8ff9be251f34","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000039","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:20.1372538+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2bdd7c249d816cf47bcbadfd247e3be0","SpanId":"186c8ff9be251f34","Properties":{"elapsed":"2","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000039","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:20.1381931+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2bdd7c249d816cf47bcbadfd247e3be0","SpanId":"186c8ff9be251f34","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:00000039","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:20.1385239+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2bdd7c249d816cf47bcbadfd247e3be0","SpanId":"186c8ff9be251f34","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":9.9261,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:00000039","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:20.1389134+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2bdd7c249d816cf47bcbadfd247e3be0","SpanId":"186c8ff9be251f34","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:00000039","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:20.1392080+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2bdd7c249d816cf47bcbadfd247e3be0","SpanId":"186c8ff9be251f34","Properties":{"ElapsedMilliseconds":14.7265,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:00000039","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:21.9083007+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8701ef1885a67a18550de4bde32bbdfe","SpanId":"03e595856ff0709d","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:21.9087211+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"8701ef1885a67a18550de4bde32bbdfe","SpanId":"03e595856ff0709d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:21.9091263+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8701ef1885a67a18550de4bde32bbdfe","SpanId":"03e595856ff0709d","Properties":{"ElapsedMilliseconds":0.7712,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000032","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:21.9104047+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1bf2291b172885051659c3ed2728fe51","SpanId":"138ec2dc04aa90a6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:21.9109029+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1bf2291b172885051659c3ed2728fe51","SpanId":"138ec2dc04aa90a6","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:21.9130583+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1bf2291b172885051659c3ed2728fe51","SpanId":"138ec2dc04aa90a6","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:21.9134889+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1bf2291b172885051659c3ed2728fe51","SpanId":"138ec2dc04aa90a6","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:21.9137068+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1bf2291b172885051659c3ed2728fe51","SpanId":"138ec2dc04aa90a6","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:21.9141626+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"1bf2291b172885051659c3ed2728fe51","SpanId":"138ec2dc04aa90a6","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:21.9156790+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1bf2291b172885051659c3ed2728fe51","SpanId":"138ec2dc04aa90a6","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:21.9161934+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"1bf2291b172885051659c3ed2728fe51","SpanId":"138ec2dc04aa90a6","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:21.9180941+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1bf2291b172885051659c3ed2728fe51","SpanId":"138ec2dc04aa90a6","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:21.9200112+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1bf2291b172885051659c3ed2728fe51","SpanId":"138ec2dc04aa90a6","Properties":{"elapsed":"1","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"ID\" = @__UserID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:21.9223757+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1bf2291b172885051659c3ed2728fe51","SpanId":"138ec2dc04aa90a6","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m0.\"ID\", m0.\"ChatID\", m0.\"DestinationID\", m0.\"OriginID\", m0.\"Text\", m0.\"Timestamp\", m0.\"chatID0\", m0.\"isRead\", u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\", s.\"MessageId\", s.\"UserId\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT m.\"ID\", m.\"ChatID\", m.\"DestinationID\", m.\"OriginID\", m.\"Text\", m.\"Timestamp\", m.\"chatID\" AS \"chatID0\", m.\"isRead\"\n    FROM \"Messages\" AS m\n    WHERE m.\"ChatID\" = @__ChatID_0\n    ORDER BY m.\"Timestamp\" DESC\n    LIMIT @__p_2 OFFSET @__p_1\n) AS m0\nINNER JOIN \"Users\" AS u ON m0.\"OriginID\" = u.\"ID\"\nLEFT JOIN (\n    SELECT m1.\"MessageId\", m1.\"UserId\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"MessageReadUsers\" AS m1\n    INNER JOIN \"Users\" AS u0 ON m1.\"UserId\" = u0.\"ID\"\n) AS s ON m0.\"ID\" = s.\"MessageId\"\nORDER BY m0.\"Timestamp\" DESC, m0.\"ID\", u.\"ID\", s.\"MessageId\", s.\"UserId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:21.9237633+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1bf2291b172885051659c3ed2728fe51","SpanId":"138ec2dc04aa90a6","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.MessageReceivedDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:21.9240981+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1bf2291b172885051659c3ed2728fe51","SpanId":"138ec2dc04aa90a6","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":10.2019,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:21.9242445+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1bf2291b172885051659c3ed2728fe51","SpanId":"138ec2dc04aa90a6","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:21.9244863+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1bf2291b172885051659c3ed2728fe51","SpanId":"138ec2dc04aa90a6","Properties":{"ElapsedMilliseconds":14.0721,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000033","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:23.1965874+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a746f223a23a3608100c489bfe40f2e9","SpanId":"58c5075a824719d8","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000003A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:23.1972204+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a746f223a23a3608100c489bfe40f2e9","SpanId":"58c5075a824719d8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000003A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:23.1976667+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a746f223a23a3608100c489bfe40f2e9","SpanId":"58c5075a824719d8","Properties":{"ElapsedMilliseconds":1.0565,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000003A","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.8396054+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"98ffaa7a77c67d7996264e3bc6f1c36b","SpanId":"11052bbedd102280","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000003B","RequestPath":"/api/chats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.8401824+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"98ffaa7a77c67d7996264e3bc6f1c36b","SpanId":"11052bbedd102280","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000003B","RequestPath":"/api/chats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.8405346+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"98ffaa7a77c67d7996264e3bc6f1c36b","SpanId":"11052bbedd102280","Properties":{"ElapsedMilliseconds":0.9259,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000003B","RequestPath":"/api/chats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.8448136+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dcacd366abd1699ed64c22e80b51f5be","SpanId":"02e1eca3f5acd71e","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":"application/json","ContentLength":8,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000003C","RequestPath":"/api/chats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.8453170+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"dcacd366abd1699ed64c22e80b51f5be","SpanId":"02e1eca3f5acd71e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000003C","RequestPath":"/api/chats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.8482946+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dcacd366abd1699ed64c22e80b51f5be","SpanId":"02e1eca3f5acd71e","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:0000003C","RequestPath":"/api/chats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.8488260+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dcacd366abd1699ed64c22e80b51f5be","SpanId":"02e1eca3f5acd71e","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000003C","RequestPath":"/api/chats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.8545650+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dcacd366abd1699ed64c22e80b51f5be","SpanId":"02e1eca3f5acd71e","Properties":{"RouteData":"{action = \"DelChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DelChatAsync(MessagingApp.DTO.DelChatDTO)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7a3d6de4-62d9-4458-a712-10081dc7e108","ActionName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000003C","RequestPath":"/api/chats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.8598221+03:00","Level":"Information","MessageTemplate":"Initiating chat deletion","TraceId":"dcacd366abd1699ed64c22e80b51f5be","SpanId":"02e1eca3f5acd71e","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"7a3d6de4-62d9-4458-a712-10081dc7e108","ActionName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000003C","RequestPath":"/api/chats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.8615498+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dcacd366abd1699ed64c22e80b51f5be","SpanId":"02e1eca3f5acd71e","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7a3d6de4-62d9-4458-a712-10081dc7e108","ActionName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000003C","RequestPath":"/api/chats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.8625237+03:00","Level":"Information","MessageTemplate":"Attempting to delete chat...","TraceId":"dcacd366abd1699ed64c22e80b51f5be","SpanId":"02e1eca3f5acd71e","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"7a3d6de4-62d9-4458-a712-10081dc7e108","ActionName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000003C","RequestPath":"/api/chats","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:24.8727313+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dcacd366abd1699ed64c22e80b51f5be","SpanId":"02e1eca3f5acd71e","Properties":{"elapsed":"1","parameters":"@__chatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\nFROM \"Chats\" AS c\nWHERE c.\"ID\" = @__chatID_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"7a3d6de4-62d9-4458-a712-10081dc7e108","ActionName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000003C","RequestPath":"/api/chats","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:24.8910286+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dcacd366abd1699ed64c22e80b51f5be","SpanId":"02e1eca3f5acd71e","Properties":{"elapsed":"9","parameters":"@p0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DELETE FROM \"Chats\"\nWHERE \"ID\" = @p0;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"Marimiana","ActionId":"7a3d6de4-62d9-4458-a712-10081dc7e108","ActionName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000003C","RequestPath":"/api/chats","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:24.8955049+03:00","Level":"Information","MessageTemplate":"Chat deleted","TraceId":"dcacd366abd1699ed64c22e80b51f5be","SpanId":"02e1eca3f5acd71e","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"Marimiana","ActionId":"7a3d6de4-62d9-4458-a712-10081dc7e108","ActionName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000003C","RequestPath":"/api/chats","ConnectionId":"0HNFB4GN8F4RB","Scope":["Username:Marimiana"]}}
{"Timestamp":"2025-09-03T23:04:24.8959453+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dcacd366abd1699ed64c22e80b51f5be","SpanId":"02e1eca3f5acd71e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7a3d6de4-62d9-4458-a712-10081dc7e108","ActionName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000003C","RequestPath":"/api/chats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.8962901+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dcacd366abd1699ed64c22e80b51f5be","SpanId":"02e1eca3f5acd71e","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","ElapsedMilliseconds":41.3655,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:0000003C","RequestPath":"/api/chats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.8964478+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dcacd366abd1699ed64c22e80b51f5be","SpanId":"02e1eca3f5acd71e","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.DelChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000003C","RequestPath":"/api/chats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.8966833+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dcacd366abd1699ed64c22e80b51f5be","SpanId":"02e1eca3f5acd71e","Properties":{"ElapsedMilliseconds":51.8759,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000003C","RequestPath":"/api/chats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.9036985+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5f496c1d356737b3e7b3479f74aeecb7","SpanId":"fe35f810c6ccaf41","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000003D","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.9041378+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"5f496c1d356737b3e7b3479f74aeecb7","SpanId":"fe35f810c6ccaf41","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000003D","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.9044716+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5f496c1d356737b3e7b3479f74aeecb7","SpanId":"fe35f810c6ccaf41","Properties":{"ElapsedMilliseconds":0.7573,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000003D","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.9074699+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"566d99a93b241514fe27478853fc929f","SpanId":"c50f36806a006d51","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:24.9079174+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"566d99a93b241514fe27478853fc929f","SpanId":"c50f36806a006d51","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:24.9093074+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a639703161ec51c22b76c0b948576d26","SpanId":"7037b23a73a2cb05","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000003E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.9096868+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a639703161ec51c22b76c0b948576d26","SpanId":"7037b23a73a2cb05","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4RB:0000003E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.9105039+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"566d99a93b241514fe27478853fc929f","SpanId":"c50f36806a006d51","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:24.9109680+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"566d99a93b241514fe27478853fc929f","SpanId":"c50f36806a006d51","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:24.9112479+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"566d99a93b241514fe27478853fc929f","SpanId":"c50f36806a006d51","Properties":{"RouteData":"{action = \"ReadMessagesFromChat\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MessagingApp.DTO.MessageReceivedDTO]]] ReadMessagesFromChatAsync(System.String, System.String, System.String, System.String, System.String)","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:24.9118462+03:00","Level":"Warning","MessageTemplate":"Invalid unreadNotRead 192.168.31.243:6865","TraceId":"566d99a93b241514fe27478853fc929f","SpanId":"c50f36806a006d51","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:24.9118408+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a639703161ec51c22b76c0b948576d26","SpanId":"7037b23a73a2cb05","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4RB:0000003E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.9124088+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a639703161ec51c22b76c0b948576d26","SpanId":"7037b23a73a2cb05","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000003E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.9125710+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a639703161ec51c22b76c0b948576d26","SpanId":"7037b23a73a2cb05","Properties":{"RouteData":"{action = \"GetUserChats\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Int64]]] GetUserChatsAsync()","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000003E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.9128577+03:00","Level":"Information","MessageTemplate":"Initiated chats retrieval by 192.168.31.243:6865","TraceId":"a639703161ec51c22b76c0b948576d26","SpanId":"7037b23a73a2cb05","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000003E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.9137091+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"566d99a93b241514fe27478853fc929f","SpanId":"c50f36806a006d51","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:24.9141628+03:00","Level":"Information","MessageTemplate":"Obtaining messages from chat...","TraceId":"566d99a93b241514fe27478853fc929f","SpanId":"c50f36806a006d51","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:24.9144483+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a639703161ec51c22b76c0b948576d26","SpanId":"7037b23a73a2cb05","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000003E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.9159991+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"566d99a93b241514fe27478853fc929f","SpanId":"c50f36806a006d51","Properties":{"elapsed":"1","parameters":"@__ChatID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT c0.\"ID\", c0.\"Name\", c0.\"OwnerID\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"PasswordHash\", s.\"Role\", s.\"Username\"\nFROM (\n    SELECT c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"Chats\" AS c\n    WHERE c.\"ID\" = @__ChatID_0\n    LIMIT 1\n) AS c0\nLEFT JOIN (\n    SELECT u.\"ChatID\", u.\"UserID\", u0.\"ID\", u0.\"PasswordHash\", u0.\"Role\", u0.\"Username\"\n    FROM \"UserChatJoinTable\" AS u\n    INNER JOIN \"Users\" AS u0 ON u.\"UserID\" = u0.\"ID\"\n) AS s ON c0.\"ID\" = s.\"ChatID\"\nORDER BY c0.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:24.9172476+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a639703161ec51c22b76c0b948576d26","SpanId":"7037b23a73a2cb05","Properties":{"elapsed":"2","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u1.\"ID\", u1.\"PasswordHash\", u1.\"Role\", u1.\"Username\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"Name\", s.\"OwnerID\"\nFROM (\n    SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\n    FROM \"Users\" AS u\n    WHERE u.\"ID\" = @__UserID_0\n    LIMIT 1\n) AS u1\nLEFT JOIN (\n    SELECT u0.\"ChatID\", u0.\"UserID\", c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"UserChatJoinTable\" AS u0\n    INNER JOIN \"Chats\" AS c ON u0.\"ChatID\" = c.\"ID\"\n) AS s ON u1.\"ID\" = s.\"UserID\"\nORDER BY u1.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000003E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.9172543+03:00","Level":"Warning","MessageTemplate":"No such chat exists","TraceId":"566d99a93b241514fe27478853fc929f","SpanId":"c50f36806a006d51","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","username":"hermoonumu","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:24.9180936+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a639703161ec51c22b76c0b948576d26","SpanId":"7037b23a73a2cb05","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.UserChatsDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4RB:0000003E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.9183372+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"566d99a93b241514fe27478853fc929f","SpanId":"c50f36806a006d51","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0cda248c-d7a5-4e07-9005-f3348d6f8bee","ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:24.9183926+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a639703161ec51c22b76c0b948576d26","SpanId":"7037b23a73a2cb05","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","ElapsedMilliseconds":5.6247,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4RB:0000003E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.9186448+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"566d99a93b241514fe27478853fc929f","SpanId":"c50f36806a006d51","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","ElapsedMilliseconds":7.1148,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:24.9187425+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a639703161ec51c22b76c0b948576d26","SpanId":"7037b23a73a2cb05","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4RB:0000003E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.9189558+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"566d99a93b241514fe27478853fc929f","SpanId":"c50f36806a006d51","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.ReadMessagesFromChatAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:24.9191835+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a639703161ec51c22b76c0b948576d26","SpanId":"7037b23a73a2cb05","Properties":{"ElapsedMilliseconds":9.8702,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4RB:0000003E","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4RB"}}
{"Timestamp":"2025-09-03T23:04:24.9193240+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"566d99a93b241514fe27478853fc929f","SpanId":"c50f36806a006d51","Properties":{"ElapsedMilliseconds":11.8508,"StatusCode":400,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/readChatMsgs","QueryString":"?chatid=1&last=10&skip=0&unreadNotRead=null&polling=true","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000034","RequestPath":"/api/chats/readChatMsgs","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6350215+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d7551982e3ae67b87fe1e9c73583fdd9","SpanId":"f9f915154a8128e7","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000035","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6353992+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"d7551982e3ae67b87fe1e9c73583fdd9","SpanId":"f9f915154a8128e7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000035","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6357851+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d7551982e3ae67b87fe1e9c73583fdd9","SpanId":"f9f915154a8128e7","Properties":{"ElapsedMilliseconds":0.6077,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000035","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6463262+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fbe486c2441b4fb38bf495ac14af2e5c","SpanId":"cd652d7382d0ece9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000036","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6466734+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"fbe486c2441b4fb38bf495ac14af2e5c","SpanId":"cd652d7382d0ece9","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000036","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6491538+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fbe486c2441b4fb38bf495ac14af2e5c","SpanId":"cd652d7382d0ece9","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000036","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6496805+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fbe486c2441b4fb38bf495ac14af2e5c","SpanId":"cd652d7382d0ece9","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000036","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6499139+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fbe486c2441b4fb38bf495ac14af2e5c","SpanId":"cd652d7382d0ece9","Properties":{"RouteData":"{action = \"AuthTest\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MessagingApp.DTO.AuthDTO]] AuthTest()","Controller":"MessagingApp.Controllers.AuthController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000036","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6517412+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fbe486c2441b4fb38bf495ac14af2e5c","SpanId":"cd652d7382d0ece9","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000036","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6523950+03:00","Level":"Information","MessageTemplate":"Scope initiated by 192.168.31.243:6865","TraceId":"fbe486c2441b4fb38bf495ac14af2e5c","SpanId":"cd652d7382d0ece9","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"hermoonumu","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000036","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:26.6527167+03:00","Level":"Information","MessageTemplate":"Initiated test auth","TraceId":"fbe486c2441b4fb38bf495ac14af2e5c","SpanId":"cd652d7382d0ece9","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"hermoonumu","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000036","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:26.6529467+03:00","Level":"Information","MessageTemplate":"Successfully authorized","TraceId":"fbe486c2441b4fb38bf495ac14af2e5c","SpanId":"cd652d7382d0ece9","Properties":{"SourceContext":"MessagingApp.Controllers.AuthController","username":"hermoonumu","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000036","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9","Scope":["Username:hermoonumu"]}}
{"Timestamp":"2025-09-03T23:04:26.6532500+03:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"fbe486c2441b4fb38bf495ac14af2e5c","SpanId":"cd652d7382d0ece9","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"f005d69a-9103-42be-981d-dbbb8d84919b","ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000036","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6535334+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fbe486c2441b4fb38bf495ac14af2e5c","SpanId":"cd652d7382d0ece9","Properties":{"ActionName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","ElapsedMilliseconds":3.4838,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000036","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6538581+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fbe486c2441b4fb38bf495ac14af2e5c","SpanId":"cd652d7382d0ece9","Properties":{"EndpointName":"MessagingApp.Controllers.AuthController.AuthTest (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000036","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6545737+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fbe486c2441b4fb38bf495ac14af2e5c","SpanId":"cd652d7382d0ece9","Properties":{"ElapsedMilliseconds":8.1621,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/auth","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000036","RequestPath":"/api/auth","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6717083+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2952dda6cdc3bd71df3032c92872561f","SpanId":"84fdc5e8cfafcbb4","Properties":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000037","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6720099+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"2952dda6cdc3bd71df3032c92872561f","SpanId":"84fdc5e8cfafcbb4","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000037","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6722201+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2952dda6cdc3bd71df3032c92872561f","SpanId":"84fdc5e8cfafcbb4","Properties":{"ElapsedMilliseconds":0.5491,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000037","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6735992+03:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2e82310acbc1a74f957039a4dadd6b24","SpanId":"376145be5fa991e4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000038","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6739750+03:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"2e82310acbc1a74f957039a4dadd6b24","SpanId":"376145be5fa991e4","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNFB4GN8F4R9:00000038","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6766886+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e82310acbc1a74f957039a4dadd6b24","SpanId":"376145be5fa991e4","Properties":{"elapsed":"1","parameters":"@__jti_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT r.\"ID\", r.\"JTI\", r.\"Token\"\nFROM revoked_jwts AS r\nWHERE r.\"JTI\" = @__jti_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNFB4GN8F4R9:00000038","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6773366+03:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2e82310acbc1a74f957039a4dadd6b24","SpanId":"376145be5fa991e4","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000038","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6775782+03:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2e82310acbc1a74f957039a4dadd6b24","SpanId":"376145be5fa991e4","Properties":{"RouteData":"{action = \"GetUserChats\", controller = \"Chat\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Int64]]] GetUserChatsAsync()","Controller":"MessagingApp.Controllers.ChatController","AssemblyName":"MessagingApp","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000038","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6779228+03:00","Level":"Information","MessageTemplate":"Initiated chats retrieval by 192.168.31.243:6865","TraceId":"2e82310acbc1a74f957039a4dadd6b24","SpanId":"376145be5fa991e4","Properties":{"SourceContext":"MessagingApp.Controllers.ChatController","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000038","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6796190+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e82310acbc1a74f957039a4dadd6b24","SpanId":"376145be5fa991e4","Properties":{"elapsed":"1","parameters":"@__userCreds_Username_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\nFROM \"Users\" AS u\nWHERE u.\"Username\" = @__userCreds_Username_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000038","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6824009+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e82310acbc1a74f957039a4dadd6b24","SpanId":"376145be5fa991e4","Properties":{"elapsed":"2","parameters":"@__UserID_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT u1.\"ID\", u1.\"PasswordHash\", u1.\"Role\", u1.\"Username\", s.\"ChatID\", s.\"UserID\", s.\"ID\", s.\"Name\", s.\"OwnerID\"\nFROM (\n    SELECT u.\"ID\", u.\"PasswordHash\", u.\"Role\", u.\"Username\"\n    FROM \"Users\" AS u\n    WHERE u.\"ID\" = @__UserID_0\n    LIMIT 1\n) AS u1\nLEFT JOIN (\n    SELECT u0.\"ChatID\", u0.\"UserID\", c.\"ID\", c.\"Name\", c.\"OwnerID\"\n    FROM \"UserChatJoinTable\" AS u0\n    INNER JOIN \"Chats\" AS c ON u0.\"ChatID\" = c.\"ID\"\n) AS s ON u1.\"ID\" = s.\"UserID\"\nORDER BY u1.\"ID\", s.\"ChatID\", s.\"UserID\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000038","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6834052+03:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2e82310acbc1a74f957039a4dadd6b24","SpanId":"376145be5fa991e4","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[MessagingApp.DTO.UserChatsDTO, MessagingApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"091ebb6d-0b2e-4e57-bbe0-f695bc15429e","ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","RequestId":"0HNFB4GN8F4R9:00000038","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6837869+03:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2e82310acbc1a74f957039a4dadd6b24","SpanId":"376145be5fa991e4","Properties":{"ActionName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","ElapsedMilliseconds":5.9681,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNFB4GN8F4R9:00000038","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6839808+03:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2e82310acbc1a74f957039a4dadd6b24","SpanId":"376145be5fa991e4","Properties":{"EndpointName":"MessagingApp.Controllers.ChatController.GetUserChatsAsync (MessagingApp)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNFB4GN8F4R9:00000038","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
{"Timestamp":"2025-09-03T23:04:26.6844565+03:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2e82310acbc1a74f957039a4dadd6b24","SpanId":"376145be5fa991e4","Properties":{"ElapsedMilliseconds":10.8267,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"192.168.31.243:6865","PathBase":"","Path":"/api/chats/myChats","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNFB4GN8F4R9:00000038","RequestPath":"/api/chats/myChats","ConnectionId":"0HNFB4GN8F4R9"}}
